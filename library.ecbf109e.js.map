{"mappings":"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","sources":["src/js/portfolio/movieClass.js","src/js/portfolio/genres.js","src/js/portfolio/createGalleryMarkup.js","src/js/refs.js","src/js/portfolio/createStartPortfolio.js","src/js/modal/btnModalClass.js","src/js/portfolio/modalFilm.js","src/js/portfolio/searchByName.js","src/js/modal/modalAddToLSWatchedQueue.js","src/js/theme-toggle.js"],"sourcesContent":["export {\n\tmovieClass\n  };\n  \n  // ================================class Movie======================================\n  const movieClass = new class Movie {\n\tconstructor() {\n\t\tthis.storageWatched = [];\n\t\tthis.storageQueue = [];\n\t}\n\tasync fetchPopularMovies() {\n\t  const response = await fetch(\n\t\t'https://api.themoviedb.org/3/trending/all/day?api_key=5692dca6012d3660a336300872bd664c'\n\t  );\n\t  return await response.json();\n\t}\n  \n\tsaveToLocalStorageFindedFilms(films) {\n\t  localStorage.setItem('findFilms', JSON.stringify(films.results));\n\t}\n\n\tsaveToLibraryMovieInLS(film, actions) {\t\t\n\t\t// console.log(`фильм сохранен в LS ${actions}`);\n\t\tlet filmArray = this.getFromLS(`${actions}`);\n\t\tif (!filmArray){ filmArray =[]}\n\n\t\tfilmArray.push(film);\n\t\t// console.log('actions, filmArray', actions, filmArray);\n\t\tlocalStorage.setItem(`${actions}`, JSON.stringify(filmArray));\n\t}\n\n\tremoveFromLibraryMovieInLS(filmToRemove, actions) {\n\t\t// console.log(`фильм удален из LS ${actions}`);\n\t\t\n\t\tlet filmArray = this.getFromLS(`${actions}`);\n\t\tconst removeIndex = filmArray.findIndex(film => film.id == filmToRemove.id);\n\n\t\tfilmArray.splice(removeIndex, 1);\n\t\t\n\t\tlocalStorage.setItem(`${actions}`, JSON.stringify(filmArray));\n\t}\n\n\tchangeModalBtnName(li, actions) {\n\t}\n\n\tgetFromLS(key) {\n\t\tconst value = localStorage.getItem(`${key}`);\n\t\t\n\t\ttry{\n\t\t\t// console.log('JSON.parse(value)', JSON.parse(value));\n\t\treturn JSON.parse(value);\n\t\t} catch(error) {\n\t\t\tif (error.name ==='SyntaxError') {\n\t\t\t\tconsole.log('Ошибка парса JSON', );\n\t\t\t}\n\t\t}\n\t}\n\n\tisModalFilmIncludesLS(id, actions) {\n\t\tconst filmsArray = movieClass.getFromLS(actions);\n\t\tif (filmsArray === null) {\n\t\t\t// return console.log('фильма нет в локал сторидж', );\n\t\t}\n\n\t\treturn filmsArray.find(film => {\n\t\t  if (film.id == id) {\n\t\t\t// return console.log('фильм уже есть в локал сторидж', );\n\t\t\t\n\t\t  }\n\t\t});\n\t  }\n\n\n\tmodifyDate(release_date, first_air_date) {\n\t  // в некоторых нет даты релиза, используют дату первого полета\n\t  if (release_date) {\n\t\treturn release_date.slice(0, 4);\n\t  } else if (first_air_date) {\n\t\treturn first_air_date.slice(0, 4);\n\t  }\n\t  return '';\n\t}\n  \n\tmodifyGenres(genre_ids) {\n\t  const genresArray = [];\n\t  for (let id of genre_ids) {\n\t\t// если название пустое -- пропускаем\n\t\tif (allGenres[id] === null || allGenres[id] === undefined) {\n\t\t  continue;\n\t\t}\n  \n\t\t// если массив 2+ жанров -- пишем 'Other'\n\t\tif (genresArray.length === 2) {\n\t\t  genresArray.push('Other');\n\t\t  break;\n\t\t}\n\t\tgenresArray.push(allGenres[id]);\n\t  }\n\t  return Object.values(genresArray).join(', ');\n\t}\n  \n\tmakeGenresList(genres_id, genres) {\n\t  const genresArray = [];\n\t  for (let id of genres_id) {\n\t\tconst index = genres.findIndex(genre => genre.id == id);\n\n\t\tif (genres[index] === null || genres[index] === undefined) {\n\t\t  continue;\n\t\t}\n\t\t// если массив 2+ жанров -- пишем 'Other'\n\t\tif (genresArray.length === 2) {\n\t\t  genresArray.push('Other');\n\t\t  break;\n\t\t}\n\t\tgenresArray.push(genres[index].name);\n\t  }\n\t  return Object.values(genresArray).join(', ');\n\t}\n  \n\tmakeAllMoodalGenresList(genre_ids, genres) {\n\t\tconst genresArray = [];\n\t\tfor (let id of genre_ids) {\n\t\t  if (genres[id] === null || genres[id] === undefined) {\n\t\t\tcontinue;\n\t\t  }\n\t\t  genresArray.push(genres[id].name);\n\t\t}\n\t\treturn Object.values(genresArray).join(', ');\n\t  }\n\n\tparseFindedFilms() {\n\t  const value = localStorage.getItem('findFilms');\n\t  let parsedFindedFilmsFromLS = [];\n\t  try {\n\t\tparsedFindedFilmsFromLS = JSON.parse(value);\n\t  } catch (error) {\n\t\tif (error.name === 'SyntaxError') {\n\t\t  console.log('Ошибка парса JSON');\n\t\t}\n\t  }\n\t  return parsedFindedFilmsFromLS;\n\t}\n  \n\tsearchFilmByIdInLS(id) {\n\t  const parsedFindedFilmsFromLS = movieClass.parseFindedFilms();\n\t  return parsedFindedFilmsFromLS.find(film => {\n\t\tif (film.id == id) {\n\t\t  return film;\n\t\t}\n\t  });\n\t}\n  }\n  \n  \n\n\n\n  // ============================Genres (not use)=====================\n  class Genres {\n\tconstructor() {}\n\t// Возвращает объект с жанрами в виде ключ-значение\n\tchangeGenresToBeUsable(genresArray, newGenresObj = {}) {\n\t  genresArray.genres.map(genre => {\n\t\tnewGenresObj[genre.id] = genre.name;\n\t\treturn newGenresObj;\n\t  });\n\t}\n  \n\t// Парсит жанры из локал сторидж\n\tasync parseGenres() {\n\t  await this.saveGenres();\n\t  const value = localStorage.getItem('genres');\n\t  let parseGanres = {};\n\t  try {\n\t\tparseGanres = JSON.parse(value);\n\t  } catch (error) {\n\t\tconsole.log(error);\n\t\tif (error.name === 'SyntaxError') {\n\t\t  console.log('Ошибка парса JSON');\n\t\t}\n\t  }     \n\t  return parseGanres;\n\t}\n  \n\t// Сохраняет id всех жанров в локал сторидж\n\tasync saveGenres() {\n\t  try {\n\t\treturn await this.fetchGenresList().then(genresArray => {\n\t\t  const newGenresObj = {};\n\t\t  this.changeGenresToBeUsable(genresArray, newGenresObj);\n  \n\t\t  return localStorage.setItem('genres', JSON.stringify(newGenresObj));\n\t\t});\n\t  } catch (error) {\n\t\tconsole.log(error);\n\t  }\n\t}\n  \n\t// Посылает запрос за id всех жанров\n\tasync fetchGenresList() {\n\t  const genres = await fetch(\n\t\t'https://api.themoviedb.org/3/genre/movie/list?api_key=5692dca6012d3660a336300872bd664c&language=en-US'\n\t  );\n\t  return await genres.json();\n\t}\n  \n\t// Получает id возвращает массив с названиями жанров\n\tmakeGenresArrayMarkup(genre_ids, parsedGenres) {\n\t  const genresArray = [];\n  \n\t  for (id of genre_ids) {\n\t\t// если название пустое -- пропускаем\n\t\tif (parsedGenres[id] === null || parsedGenres[id] === undefined) {\n\t\t  continue;\n\t\t}\n  \n\t\t// если массив 2+ жанров -- пишем 'Other'\n\t\tif (genresArray.length === 2) {\n\t\t  genresArray.push('Other');\n\t\t  break;\n\t\t}\n\t\tgenresArray.push(parsedGenres[id]);\n\t  }\n\t  return Object.values(genresArray).join(', ');\n\t}\n  }\n  const genresClass = new Genres();\n  const parsedGenres = genresClass.parseGenres();\n  const allGenres = genresClass.parseGenres();\n  ","export default genres = [\n\t{\n\t\"id\": 28,\n\t\"name\": \"Action\"\n\t},\n\t{\n\t\"id\": 12,\n\t\"name\": \"Adventure\"\n\t},\n\t{\n\t\"id\": 16,\n\t\"name\": \"Animation\"\n\t},\n\t{\n\t\"id\": 35,\n\t\"name\": \"Comedy\"\n\t},\n\t{\n\t\"id\": 80,\n\t\"name\": \"Crime\"\n\t},\n\t{\n\t\"id\": 99,\n\t\"name\": \"Documentary\"\n\t},\n\t{\n\t\"id\": 18,\n\t\"name\": \"Drama\"\n\t},\n\t{\n\t\"id\": 10751,\n\t\"name\": \"Family\"\n\t},\n\t{\n\t\"id\": 14,\n\t\"name\": \"Fantasy\"\n\t},\n\t{\n\t\"id\": 36,\n\t\"name\": \"History\"\n\t},\n\t{\n\t\"id\": 27,\n\t\"name\": \"Horror\"\n\t},\n\t{\n\t\"id\": 10402,\n\t\"name\": \"Music\"\n\t},\n\t{\n\t\"id\": 9648,\n\t\"name\": \"Mystery\"\n\t},\n\t{\n\t\"id\": 10749,\n\t\"name\": \"Romance\"\n\t},\n\t{\n\t\"id\": 878,\n\t\"name\": \"Science Fiction\"\n\t},\n\t{\n\t\"id\": 10770,\n\t\"name\": \"TV Movie\"\n\t},\n\t{\n\t\"id\": 53,\n\t\"name\": \"Thriller\"\n\t},\n\t{\n\t\"id\": 10752,\n\t\"name\": \"War\"\n\t},\n\t{\n\t\"id\": 37,\n\t\"name\": \"Western\"\n\t}\n\t]","import { movieClass } from './movieClass';\nimport genres from './genres';\n\nexport { createMurkup };\n\nfunction createMurkup({\n  original_title,\n  original_name,\n  id,\n  genre_ids,\n  release_date,\n  first_air_date,\n  poster_path,\n}) {\n  // проверка дает ли бэк original_title\n  if (!original_title) {\n    original_title = original_name;\n  }\n\n  return `<li class=\"gallery_card__item\" data-id=${id}>\n  <a href=\"./\" class=\"gallery_card__link\">\n      <div class=\"gallery_thumb\">\n          <img src=https://image.tmdb.org/t/p/w500${poster_path} alt=\"movie cover\" loading='lazy' class=\"gallery_card__img\">\n      </div>\n      <div class=\"gallery_info\">\n          <h3 class=\"gallery_info__name\">${original_title}</h3>\n          <div class = \"gallery_info__about\">\n              <p class = \"gallery_info__genres\">${movieClass.makeGenresList(genre_ids, genres)}</p>\n              <p class = \"gallery_info__separator\">|</p>\n              <p class = \"gallery_info__year\">${movieClass.modifyDate(\n                release_date,\n                first_air_date\n              )}</p>\n          </div>\n      </div>\n  </a>\n</li>`;\n}","export { refs };\nconst refs = {\n  gallery: document.querySelector('.js-gallery__list'),\n  backdrop: document.querySelector('#backdrop'),\n  body: document.querySelector('body'),\n  btnCloseModalFilm: document.querySelector('#btn-close-modal'),\n  imageModal: document.querySelector('#imageModal'),\n  modalTitle: document.querySelector('#title'),\n  modalTitleOriginal: document.querySelector('#titleOriginal'),\n  voteModal: document.querySelector('#vote'),\n  votesModal: document.querySelector('#votes'),\n  popularityModal: document.querySelector('#popularity'),\n  genreModal: document.querySelector('#genre'),\n  overviewModal: document.querySelector('#overview'),\n  gallery: document.querySelector('.js-gallery__list'),\n  modalBtn: document.querySelector('.js-modal-button'),\n  searchForm: document.querySelector('.search'),\n  searchError: document.querySelector('.search-error'),\n  searchFormContainer: document.querySelector('.search-form-container'),\n  modalBtnWatched: document.querySelector('[data-actions=\"watched\"]'),\n  modalBtnQueue: document.querySelector('[data-actions=\"queue\"]'),\n};\n","// Генерирует разметку популярных фильмов, первой страницы\nexport default createStartPortfolio();\n\nimport { createMurkup } from './createGalleryMarkup';\nimport { refs } from '../refs';\nimport { movieClass } from './movieClass';\n\nasync function createStartPortfolio() {\n  return await movieClass.fetchPopularMovies().then(films => {\n    movieClass.saveToLocalStorageFindedFilms(films);\n\n    return refs.gallery.insertAdjacentHTML(\n      'beforeend',\n      films.results\n        .map(film => {\n          return createMurkup(film);\n        })\n        .join('')\n    );\n  });\n}\n","import { refs } from '../refs';\nimport {movieClass} from '../portfolio/movieClass';\n\nexport { btnModalClass };\n\nconst btnModalClass = new class BtnModal {\n   isFilmIncludesLSLibrary(id, actions) {\n    const filmsArray = movieClass.getFromLS(`${actions}`);\n\t\tif (filmsArray === null) {\n\t\t\treturn false \n\t\t}\n\n\t\treturn filmsArray.find(film => {\n\t\t  if (film.id == id) {\n\t\t\treturn true\n\t\t\t\n\t\t  }\n\t\t});\n  }\n\n  isFilmIncludesLSQueue(id) {\n    const filmsArray = movieClass.getFromLS(\"queue\");\n\t\tif (filmsArray === null) {\n\t\t\treturn false \n\t\t}\n\n\t\treturn filmsArray.find(film => {\n\t\t  if (film.id == id) {\n\t\t\treturn true\n\t\t\t\n\t\t  }\n\t\t});\n  }\n\n  \n}\n","import { refs } from '../refs';\nimport { movieClass } from './movieClass';\n// import { genres } from './genres';\nimport genres from './genres';\nimport { btnModalClass } from '../modal/btnModalClass';\n\n// console.log('genresModal', genres);\nrefs.gallery.addEventListener('click', onFilmCardClick);\n\nfunction onFilmCardClick(e) {\n  e.preventDefault();\n  clearInfoModal();\n\n  const li = e.target.closest('li');\n  if (!li) return;\n  const id = li.getAttribute('data-id');\n\n  const film = movieClass.searchFilmByIdInLS(id);\n  const genresList = movieClass.makeAllMoodalGenresList(film.genre_ids, genres);\n  // console.log('film:', film);\n\n  refs.searchFormContainer.style.display = 'none';\n\n  const URL_IMG = 'https://image.tmdb.org/t/p/w500';\n  refs.modalBtnQueue.setAttribute('data-id', `${id}`);\n  refs.modalBtnWatched.setAttribute('data-id', `${id}`);\n  refs.imageModal.src = `${URL_IMG}${film.poster_path}`;\n  refs.modalTitle.textContent = `${film.title ? film.title : film.name}`;\n  refs.modalTitleOriginal.textContent = `${\n    film.original_title ? film.original_title : film.original_name\n  }`;\n  refs.voteModal.textContent = `${film.vote_average.toFixed(2)}`;\n  refs.votesModal.textContent = `${film.vote_count}`;\n  refs.popularityModal.textContent = `${film.popularity}`;\n  refs.genreModal.textContent = `${genresList}`;\n  refs.overviewModal.textContent = `${film.overview}`;\n\n  refs.backdrop.style.background = `url(${URL_IMG}${film.backdrop_path}) no-repeat center`;\n  refs.backdrop.style.backgroundSize = 'cover';\n\n  refs.backdrop.classList.remove('is-hidden');\n  refs.body.classList.add('backdrop-body-block-scroll');\n\n  checkStartBtn(id, refs.modalBtnWatched, refs.modalBtnWatched.getAttribute('data-actions'));\n  checkStartBtn(id, refs.modalBtnQueue,  refs.modalBtnQueue.getAttribute('data-actions'));\n}\n\nrefs.btnCloseModalFilm.addEventListener('click', closeModal);\n\nwindow.addEventListener('keydown', onEscPress);\nfunction onEscPress(e) {\n  if (e.key === 'Escape') {\n    closeModal();\n  }\n}\n\nrefs.backdrop.addEventListener('click', onCloseBackdropClick);\nfunction onCloseBackdropClick(e) {\n  if (e.target === e.currentTarget) {\n    closeModal();\n  }\n}\n\nfunction closeModal() {\n  refs.searchFormContainer.style.display = null;\n  refs.backdrop.classList.add('is-hidden');\n  refs.body.classList.remove('backdrop-body-block-scroll');\n}\nfunction clearInfoModal() {\n  refs.imageModal.src = ``;\n  refs.modalTitle.textContent = ``;\n  refs.modalTitleOriginal.textContent = ``;\n  refs.voteModal.textContent = ``;\n  refs.votesModal.textContent = ``;\n  refs.popularityModal.textContent = ``;\n  refs.genreModal.textContent = ``;\n  refs.overviewModal.textContent = ``;\n}\n\nfunction checkStartBtn(id, btn, actions) {\n  if (btnModalClass.isFilmIncludesLSLibrary(id, actions)) {\n    btn.textContent = `remove from ${actions}`;\n  } else {\n    btn.textContent = `add to ${actions}`;\n  }\n}","import { refs } from '../refs';\nimport { createMurkup } from './createGalleryMarkup';\n// import { saveToLocalStorageFindedFilms } from './localStorage';\nimport { movieClass } from './movieClass';\n\nif (refs.searchForm) {\n  refs.searchForm.addEventListener('submit', handleSubmit);\n}\n// console.log(refs.searchError);\n// refs.searchError.style.visibility = 'hidden';\nlet page = 1;\n\nfunction handleSubmit(event) {\n  event.preventDefault();\n\n  const {\n    elements: { search },\n  } = event.currentTarget;\n  searchQuery = search.value.trim();\n\n  if (searchQuery !== '') {\n    createSearchedPortfolio(searchQuery);\n    event.currentTarget.reset();\n  }\n  return searchQuery;\n}\n\nasync function fetchSearchedMovies(searchQuery) {\n  try {\n    page = 1;\n    const response = await fetch(\n      `https://api.themoviedb.org/3/search/movie?api_key=5692dca6012d3660a336300872bd664c&language=en-US&page=${page}&include_adult=false&query=${searchQuery}`\n    );\n    return await response.json();\n  } catch (error) {\n    console.log(error);\n  }\n}\n\nasync function createSearchedPortfolio(input) {\n  return await fetchSearchedMovies(input).then(films => {\n    if (films.total_results !== 0) {\n      // saveToLocalStorageFindedFilms(films);\n      movieClass.saveToLocalStorageFindedFilms(films);\n      refs.gallery.innerHTML = '';\n      return refs.gallery.insertAdjacentHTML(\n        'beforeend',\n        films.results\n          .map(film => {\n            return createMurkup(film);\n          })\n          .join('')\n      );\n    }\n    refs.searchError.style.visibility = 'visible';\n    setTimeout(onSearchError, 2000);\n  });\n}\n\nconst onSearchError = () => {\n  refs.searchError.style.visibility = 'hidden';\n};\n","import { refs } from '../refs';\nimport { movieClass } from '../portfolio/movieClass';\nimport { btnModalClass } from './btnModalClass';\n\nrefs.modalBtn.addEventListener('click', onModalBtnClick);\n\nfunction onModalBtnClick(evt) {\n  evt.preventDefault();\n\n  const liBtn = evt.target.closest('li');\n  if (!liBtn) return;\n\n  const id = liBtn.getAttribute('data-id');\n  const actions = liBtn.getAttribute('data-actions');\n  const film = movieClass.searchFilmByIdInLS(id);\n  // console.log('film:', film,  'actions:', actions, 'id:', id, 'liBtn', liBtn);\n\n  if (btnModalClass.isFilmIncludesLSLibrary(id, actions)) {\n    movieClass.removeFromLibraryMovieInLS(film, actions);\n  } else {\n    movieClass.saveToLibraryMovieInLS(film, actions);\n  }\n\n  // if (  btnModalClass.isFilmIncludesLSQueue(id)) {movieClass.removeFromLibraryMovie(film, actions)} else{\n  //   movieClass.saveToLibraryMovieInLS(film, actions);\n  // }\n}\n","const storageKey = 'preference-theme';\nconst refs = {\n    body: document.querySelector('body'),\n    infoNames: document.querySelectorAll('.gallery_info__name'),\n    themeBtn: document.querySelector('.theme-toggle'),\n    lightToggleIcon: document.querySelector('.lightToggleIcon'),\n    darkToggleIcon: document.querySelector('.darkToggleIcon')\n}\n\n// console.log(refs.themeBtn);\n// console.log(refs.body);\n// console.log(refs.infoNames);\n\nupdateTheme();\n\n\nrefs.themeBtn.addEventListener('click', toggleTheme);\n\nfunction toggleTheme(event) {\n    event.preventDefault();\n    const result = refs.themeBtn.classList.toggle('js-light');\n    // console.log(result);\n    if (result) {\n        theme = 'light';\n        refs.body.classList.remove('dark');\n        refs.darkToggleIcon.classList.add('is-hidden');\n        refs.lightToggleIcon.classList.remove('is-hidden');\n        // refs.infoNames.map(infoName => infoName.classList.remove('darkText'));\n    } else {\n        theme = \"dark\";\n        refs.body.classList.add('dark');\n        refs.lightToggleIcon.classList.add('is-hidden');\n        refs.darkToggleIcon.classList.remove('is-hidden');\n        // refs.infoNames.map(infoName => infoName.classList.add('darkText'));\n    }\n    // console.log(theme);\n    localStorage.setItem(\"preference-theme\", theme);\n}\nfunction updateTheme() {\n    theme = localStorage.getItem('preference-theme');\n    // console.log(theme);\n    if (theme === 'light') {\n        refs.body.classList.remove('dark');\n        refs.themeBtn.classList.add('js-light');\n        refs.lightToggleIcon.classList.remove('is-hidden');\n        refs.darkToggleIcon.classList.add('is-hidden');\n        // refs.infoNames.map(infoName => infoName.classList.remove('darkText'));\n        \n    } else {\n        refs.body.classList.add('dark');\n        refs.themeBtn.classList.remove('js-light');\n        refs.lightToggleIcon.classList.add('is-hidden');\n        refs.darkToggleIcon.classList.remove('is-hidden');\n        // refs.infoNames.map(infoName => infoName.classList.add('darkText'));\n\n    }\n}"],"names":["$80ce887b25c2db71$export$433960ea2466dd22","async","response","fetch","json","saveToLocalStorageFindedFilms","films","localStorage","setItem","JSON","stringify","results","saveToLibraryMovieInLS","film","actions","filmArray","this","getFromLS","push","removeFromLibraryMovieInLS","filmToRemove","removeIndex","findIndex","id","splice","changeModalBtnName","li","key","value","getItem","parse","error","name","console","log","isModalFilmIncludesLS","filmsArray","find","modifyDate","release_date","first_air_date","slice","modifyGenres","genre_ids","genresArray","$80ce887b25c2db71$var$allGenres","undefined","length","Object","values","join","makeGenresList","genres_id","genres","index","genre","makeAllMoodalGenresList","parseFindedFilms","parsedFindedFilmsFromLS","searchFilmByIdInLS","constructor","storageWatched","storageQueue","$80ce887b25c2db71$var$genresClass","changeGenresToBeUsable","newGenresObj","map","saveGenres","parseGanres","fetchGenresList","then","makeGenresArrayMarkup","parsedGenres1","parseGenres","$f3cbc78d166f0e2b$export$2e2bcd8739ae039","$2f2baa788713cbe4$export$ad754d85cf33dc3f","original_title","original_name","poster_path","$ee27a4d7c64fc8c4$export$21666b427502ea6d","gallery","document","querySelector","backdrop","body","btnCloseModalFilm","imageModal","modalTitle","modalTitleOriginal","voteModal","votesModal","popularityModal","genreModal","overviewModal","modalBtn","searchForm","searchError","searchFormContainer","modalBtnWatched","modalBtnQueue","fetchPopularMovies","insertAdjacentHTML","$bfd7031ae10fe513$var$createStartPortfolio","$57403ffcb9b81886$export$32eb4bdee116a854","isFilmIncludesLSLibrary","isFilmIncludesLSQueue","$bdbe1fc36a31795c$var$closeModal","style","display","classList","add","remove","$bdbe1fc36a31795c$var$checkStartBtn","btn","textContent","addEventListener","e","preventDefault","src","target","closest","getAttribute","genresList","URL_IMG","setAttribute","title","vote_average","toFixed","vote_count","popularity","overview","background","backdrop_path","backgroundSize","window","currentTarget","event","elements","search","searchQuery","trim","input","$fba2a2085e2d00fb$var$page","$fba2a2085e2d00fb$var$fetchSearchedMovies","total_results","innerHTML","visibility","setTimeout","$fba2a2085e2d00fb$var$onSearchError","$fba2a2085e2d00fb$var$createSearchedPortfolio","reset","evt","liBtn","$efe9be9ba36ff704$var$refs","infoNames","querySelectorAll","themeBtn","lightToggleIcon","darkToggleIcon","theme","toggle"],"version":3,"file":"library.ecbf109e.js.map"}