!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},r={},n={},a=t.parcelRequired7c6;null==a&&((a=function(e){if(e in r)return r[e].exports;if(e in n){var t=n[e];delete n[e];var a={id:e,exports:{}};return r[e]=a,t.call(a.exports,a,a.exports),a.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){n[e]=t},t.parcelRequired7c6=a),a.register("hKHmD",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r;return e}})),a.register("kMC0W",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e){if(Array.isArray(e))return n.default(e)};var r,n=(r=a("8NIkP"))&&r.__esModule?r:{default:r}})),a.register("8NIkP",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}})),a.register("7AJDX",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}})),a.register("8CtQK",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}})),a.register("auk6i",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t){if(!e)return;if("string"==typeof e)return n.default(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return n.default(e,t)};var r,n=(r=a("8NIkP"))&&r.__esModule?r:{default:r}})),a.register("8slrw",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e){if(Array.isArray(e))return e}})),a.register("ifqQW",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}})),a.register("ds8z5",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}})),a.register("gD1JV",(function(e,t){"use strict";function r(e,t){return(r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t){return r(e,t)}})),a.register("ge8co",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t,r){return s.apply(null,arguments)};var r,n=(r=a("gD1JV"))&&r.__esModule?r:{default:r};function i(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function s(e,t,r){return(s=i()?Reflect.construct:function(e,t,r){var a=[null];a.push.apply(a,t);var i=new(Function.bind.apply(e,a));return r&&n.default(i,r.prototype),i}).apply(null,arguments)}})),a.register("cZGw3",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}})),a.register("fVNic",(function(e,t){"use strict";function r(e){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e){return r(e)}})),a.register("aTHs7",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}})),a.register("jmhxu",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t){return!t||"object"!==n.default(t)&&"function"!=typeof t?r.default(e):t};var r=i(a("ds8z5")),n=i(a("l5bVx"));function i(e){return e&&e.__esModule?e:{default:e}}})),a.register("l5bVx",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e){return e&&e.constructor===Symbol?"symbol":typeof e}})),a.register("2mz0K",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=n.default(e)););return e};var r,n=(r=a("fVNic"))&&r.__esModule?r:{default:r}}));var i=a("4Nugj");document.getElementById("reg-btn").addEventListener("click",(function(){i.refs.signupForm.style.display="inline",i.refs.signinForm.style.display="none"})),document.getElementById("log-btn").addEventListener("click",(function(){i.refs.signupForm.style.display="none",i.refs.signinForm.style.display="inline"})),i.refs.formaLoginCreatRegister.addEventListener("click",(function(e){e.target===e.currentTarget&&(u(),o())}));var s=function(e){"Escape"===e.key&&(o(),window.removeEventListener("keydown",s))},o=function(){i.refs.formaLoginCreatRegister.classList.add("is-hidden")},u=function(){i.refs.signupForm.reset(),i.refs.signinForm.reset()};a("6slwO");var c=a("bpxeT"),l=a("2TvXO"),f=a("gZy4F"),p=a("5rqL0");function d(e){var t=e.original_title,r=e.original_name,n=e.id,a=e.genre_ids,i=e.release_date,s=e.first_air_date,o=e.poster_path;t||(t=r);var u=f.movieClass.makeGenresList(a,p.genres)?f.movieClass.makeGenresList(a,p.genres):"No info",c=f.movieClass.modifyDate(i,s)?f.movieClass.modifyDate(i,s):"No info",l="".concat("https://image.tmdb.org/t/p/w500").concat(o);return o||(l="https://i.ibb.co/BrYLsTv/default-movie-poster-min.jpg"),'<li class="gallery_card__item" data-id='.concat(n,'>\n  <div class="status-btn-wrapper" data-status=').concat(n,'></div>\n  <a href="./" class="gallery_card__link">\n      <div class="gallery_thumb">\n          <img src=').concat(l,' alt="movie cover" loading=\'lazy\' class="gallery_card__img">\n      </div>\n      <div class="gallery_info">\n          <h3 class="gallery_info__name">').concat(t,'</h3>\n          <div class = "gallery_info__about">\n              <p class = "gallery_info__genres">').concat(u,'</p>\n              <p class = "gallery_info__separator">|</p>\n              <p class = "gallery_info__year">').concat(c,"</p>\n          </div>\n      </div>\n  </a>\n</li>")}i=a("4Nugj"),f=a("gZy4F");var h=a("30o8m"),v=new IntersectionObserver((function(e){e.forEach((function(e){e.isIntersecting&&m()}))}),{rootMargin:"400px",threshold:1});function m(){return g.apply(this,arguments)}function g(){return(g=e(c)(e(l).mark((function t(){return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("load more cards"),f.movieClass.page||(console.log("запрос популярных"),k()),!f.movieClass.page){e.next=6;break}return e.next=5,f.movieClass.fetchSearchedMovies(f.movieClass.searchQuery).then((function(e){f.movieClass.addToLocalStorageFindedFilms(e),(0,h.createGalleryStickers)(),i.refs.gallery.insertAdjacentHTML("beforeend",e.results.map((function(e){return d(e)})).join(""))}));case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function y(){return(y=e(c)(e(l).mark((function t(){return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.movieClass.fetchPopularMovies().then((function(e){f.movieClass.saveToLocalStorageFindedFilms(e),i.refs.gallery.insertAdjacentHTML("beforeend",e.results.map((function(e){return d(e)})).join("")),document.querySelector(".scroll-guard")||i.refs.gallery.insertAdjacentHTML("afterend",'\n     <div class="scroll-guard"></div>')}));case 2:return e.next=4,(0,h.createGalleryStickers)();case 4:return e.next=6,v.observe(document.querySelector(".scroll-guard"));case 6:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function k(){return b.apply(this,arguments)}function b(){return(b=e(c)(e(l).mark((function t(){return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.movieClass.fetchPopularMovies().then((function(e){f.movieClass.addToLocalStorageFindedFilms(e),i.refs.gallery.insertAdjacentHTML("beforeend",e.results.map((function(e){return d(e)})).join("")),document.querySelector(".scroll-guard")||i.refs.gallery.insertAdjacentHTML("afterend",'\n     <div class="scroll-guard"></div>')}));case 2:return e.next=4,(0,h.createGalleryStickers)();case 4:return e.next=6,v.observe(document.querySelector(".scroll-guard"));case 6:case"end":return e.stop()}}),t)})))).apply(this,arguments)}!function(){y.apply(this,arguments)}(),a("gZy4F"),a("5HNXG");c=a("bpxeT"),l=a("2TvXO"),i=a("4Nugj"),f=a("gZy4F");function w(){return(w=e(c)(e(l).mark((function t(r){return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.movieClass.fetchSearchedMovies(r).then((function(e){if(0!==e.total_results)return f.movieClass.saveToLocalStorageFindedFilms(e),i.refs.gallery.innerHTML="",i.refs.gallery.insertAdjacentHTML("beforeend",e.results.map((function(e){return d(e)})).join(""));i.refs.searchError.style.visibility="visible",setTimeout(_,2e3)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),t)})))).apply(this,arguments)}i.refs.searchError.style.visibility="hidden",(null===i.refs||void 0===i.refs?void 0:i.refs.searchForm)&&i.refs.searchForm.addEventListener("submit",(function(e){e.preventDefault();var t=i.refs.searchForm.search.value.trim();f.movieClass.searchQuery=i.refs.searchForm.search.value.trim(),f.movieClass.page=0,""!==t&&(!function(e){w.apply(this,arguments)}(f.movieClass.searchQuery),i.refs.searchForm.reset());return t}));var _=function(){i.refs.searchError.style.visibility="hidden"};a("lv9Lu"),a("88IOC"),a("kvC6y"),a("4Nugj");c=a("bpxeT");var x=a("8MBJY"),I=a("a2hTj"),T=a("hKHmD"),E={};Object.defineProperty(E,"__esModule",{value:!0}),E.default=function(e){return S.default(e)||O.default(e)||P.default(e)||C.default()};var S=R(a("kMC0W")),O=R(a("7AJDX")),C=R(a("8CtQK")),P=R(a("auk6i"));function R(e){return e&&e.__esModule?e:{default:e}}l=a("2TvXO"),c=a("bpxeT"),x=a("8MBJY"),I=a("a2hTj");var A={};Object.defineProperty(A,"__esModule",{value:!0}),A.default=function(e,t){return N.default(e)||D.default(e,t)||L.default(e,t)||M.default()};var N=j(a("8slrw")),D=j(a("7AJDX")),M=j(a("ifqQW")),L=j(a("auk6i"));function j(e){return e&&e.__esModule?e:{default:e}}l=a("2TvXO");var U=a("ds8z5"),F=(x=a("8MBJY"),I=a("a2hTj"),{});Object.defineProperty(F,"__esModule",{value:!0}),F.default=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&V.default(e,t)};var H,V=(H=a("gD1JV"))&&H.__esModule?H:{default:H};var B={};Object.defineProperty(B,"__esModule",{value:!0}),B.default=function(e){return J(e)};var z=G(a("ge8co")),W=G(a("cZGw3")),q=G(a("fVNic")),K=G(a("gD1JV"));function G(e){return e&&e.__esModule?e:{default:e}}function J(e){var t="function"==typeof Map?new Map:void 0;return J=function(e){if(null===e||!W.default(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return z.default(e,arguments,q.default(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),K.default(r,e)},J(e)}var X={};Object.defineProperty(X,"__esModule",{value:!0}),X.default=function(e){var t=Y.default();return function(){var r,n=Q.default(e);if(t){var a=Q.default(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return Z.default(this,r)}};var Y=ee(a("aTHs7")),Q=ee(a("fVNic")),Z=ee(a("jmhxu"));function ee(e){return e&&e.__esModule?e:{default:e}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var te=function(e){for(var t=[],r=0,n=0;n<e.length;n++){var a=e.charCodeAt(n);a<128?t[r++]=a:a<2048?(t[r++]=a>>6|192,t[r++]=63&a|128):55296==(64512&a)&&n+1<e.length&&56320==(64512&e.charCodeAt(n+1))?(a=65536+((1023&a)<<10)+(1023&e.charCodeAt(++n)),t[r++]=a>>18|240,t[r++]=a>>12&63|128,t[r++]=a>>6&63|128,t[r++]=63&a|128):(t[r++]=a>>12|224,t[r++]=a>>6&63|128,t[r++]=63&a|128)}return t},re={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var r=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[],a=0;a<e.length;a+=3){var i=e[a],s=a+1<e.length,o=s?e[a+1]:0,u=a+2<e.length,c=u?e[a+2]:0,l=i>>2,f=(3&i)<<4|o>>4,p=(15&o)<<2|c>>6,d=63&c;u||(d=64,s||(p=64)),n.push(r[l],r[f],r[p],r[d])}return n.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(te(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],r=0,n=0;r<e.length;){var a=e[r++];if(a<128)t[n++]=String.fromCharCode(a);else if(a>191&&a<224){var i=e[r++];t[n++]=String.fromCharCode((31&a)<<6|63&i)}else if(a>239&&a<365){var s=((7&a)<<18|(63&e[r++])<<12|(63&e[r++])<<6|63&e[r++])-65536;t[n++]=String.fromCharCode(55296+(s>>10)),t[n++]=String.fromCharCode(56320+(1023&s))}else{var o=e[r++],u=e[r++];t[n++]=String.fromCharCode((15&a)<<12|(63&o)<<6|63&u)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var r=t?this.charToByteMapWebSafe_:this.charToByteMap_,n=[],a=0;a<e.length;){var i=r[e.charAt(a++)],s=a<e.length?r[e.charAt(a)]:0,o=++a<e.length?r[e.charAt(a)]:64,u=++a<e.length?r[e.charAt(a)]:64;if(++a,null==i||null==s||null==o||null==u)throw Error();var c=i<<2|s>>4;if(n.push(c),64!==o){var l=s<<4&240|o>>2;if(n.push(l),64!==u){var f=o<<6&192|u;n.push(f)}}}return n},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},ne=function(e){return function(e){var t=te(e);return re.encodeByteArray(t,!0)}(e).replace(/\./g,"")},ae=function(e){try{return re.decodeString(e,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var ie=function(){"use strict";function t(){var r=this;e(x)(this,t),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,t){r.resolve=e,r.reject=t}))}return e(I)(t,[{key:"wrapCallback",value:function(e){var t=this;return function(r,n){r?t.reject(r):t.resolve(n),"function"==typeof e&&(t.promise.catch((function(){})),1===e.length?e(r):e(r,n))}}}]),t}();
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function se(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function oe(){var e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof e&&void 0!==e.id}function ue(){return"object"==typeof indexedDB}function ce(){return new Promise((function(e,t){try{var r=!0,n="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(n);a.onsuccess=function(){a.result.close(),r||self.indexedDB.deleteDatabase(n),e(!0)},a.onupgradeneeded=function(){r=!1},a.onerror=function(){var e;t((null===(e=a.error)||void 0===e?void 0:e.message)||"")}}catch(e){t(e)}}))}function le(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var fe=function(t){"use strict";e(F)(n,t);var r=e(X)(n);function n(t,a,i){var s;return e(x)(this,n),(s=r.call(this,a)).code=t,s.customData=i,s.name="FirebaseError",Object.setPrototypeOf(e(U)(s),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(e(U)(s),pe.prototype.create),s}return n}(e(B)(Error)),pe=function(){"use strict";function t(r,n,a){e(x)(this,t),this.service=r,this.serviceName=n,this.errors=a}return e(I)(t,[{key:"create",value:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];var a=r[0]||{},i="".concat(this.service,"/").concat(e),s=this.errors[e],o=s?de(s,a):"Error",u="".concat(this.serviceName,": ").concat(o," (").concat(i,")."),c=new fe(i,u,a);return c}}]),t}();function de(e,t){return e.replace(he,(function(e,r){var n=t[r];return null!=n?String(n):"<".concat(r,"?>")}))}var he=/\{\$([^}]+)}/g;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ve(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function me(e,t){if(e===t)return!0;var r=Object.keys(e),n=Object.keys(t),a=!0,i=!1,s=void 0;try{for(var o,u=r[Symbol.iterator]();!(a=(o=u.next()).done);a=!0){var c=o.value;if(!n.includes(c))return!1;var l=e[c],f=t[c];if(ge(l)&&ge(f)){if(!me(l,f))return!1}else if(l!==f)return!1}}catch(e){i=!0,s=e}finally{try{a||null==u.return||u.return()}finally{if(i)throw s}}var p=!0,d=!1,h=void 0;try{for(var v,m=n[Symbol.iterator]();!(p=(v=m.next()).done);p=!0){var g=v.value;if(!r.includes(g))return!1}}catch(e){d=!0,h=e}finally{try{p||null==m.return||m.return()}finally{if(d)throw h}}return!0}function ge(e){return null!==e&&"object"==typeof e}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function ye(t){var r=[],n=!0,a=!1,i=void 0;try{for(var s,o=function(t,n){var a=e(A)(n.value,2),i=a[0],s=a[1];Array.isArray(s)?s.forEach((function(e){r.push(encodeURIComponent(i)+"="+encodeURIComponent(e))})):r.push(encodeURIComponent(i)+"="+encodeURIComponent(s))},u=Object.entries(t)[Symbol.iterator]();!(n=(s=u.next()).done);n=!0)o(0,s)}catch(e){a=!0,i=e}finally{try{n||null==u.return||u.return()}finally{if(a)throw i}}return r.length?"&"+r.join("&"):""}function ke(t){var r={};return t.replace(/^\?/,"").split("&").forEach((function(t){if(t){var n=e(A)(t.split("="),2),a=n[0],i=n[1];r[decodeURIComponent(a)]=decodeURIComponent(i)}})),r}function be(e){var t=e.indexOf("?");if(!t)return"";var r=e.indexOf("#",t);return e.substring(t,r>0?r:void 0)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var we=function(){"use strict";function t(r,n){var a=this;e(x)(this,t),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){r(a)})).catch((function(e){a.error(e)}))}return e(I)(t,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,r){var n,a=this;if(void 0===e&&void 0===t&&void 0===r)throw new Error("Missing Observer.");n=function(e,t){if("object"!=typeof e||null===e)return!1;var r=!0,n=!1,a=void 0;try{for(var i,s=t[Symbol.iterator]();!(r=(i=s.next()).done);r=!0){var o=i.value;if(o in e&&"function"==typeof e[o])return!0}}catch(e){n=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(n)throw a}}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:r},void 0===n.next&&(n.next=_e),void 0===n.error&&(n.error=_e),void 0===n.complete&&(n.complete=_e);var i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{a.finalError?n.error(a.finalError):n.complete()}catch(e){}})),this.observers.push(n),i}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var r=this;this.task.then((function(){if(void 0!==r.observers&&void 0!==r.observers[e])try{t(r.observers[e])}catch(e){"undefined"!=typeof console&&console.error&&console.error(e)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),t}();function _e(){}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var xe=144e5;function Ie(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,n=t*Math.pow(r,e),a=Math.round(.5*n*(Math.random()-.5)*2);return Math.min(xe,n+a)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Te(e){return e&&e._delegate?e._delegate:e}var Ee=function(){"use strict";function t(r,n,a){e(x)(this,t),this.name=r,this.instanceFactory=n,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return e(I)(t,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),t}(),Se="[DEFAULT]",Oe=function(){"use strict";function t(r,n){e(x)(this,t),this.name=r,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return e(I)(t,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var r=new ie;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{var n=this.getOrInitializeService({instanceIdentifier:t});n&&r.resolve(n)}catch(e){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,r=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),n=null!==(t=null==e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(n)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(e){if(n)return null;throw e}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(t){if(t.name!==this.name)throw Error("Mismatching Component ".concat(t.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=t,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t))try{this.getOrInitializeService({instanceIdentifier:Se})}catch(e){}var r=!0,n=!1,a=void 0;try{for(var i,s=this.instancesDeferred.entries()[Symbol.iterator]();!(r=(i=s.next()).done);r=!0){var o=e(A)(i.value,2),u=o[0],c=o[1],l=this.normalizeInstanceIdentifier(u);try{var f=this.getOrInitializeService({instanceIdentifier:l});c.resolve(f)}catch(e){}}}catch(e){n=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(n)throw a}}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Se;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var t=this;return e(c)(e(l).mark((function r(){var n;return e(l).wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=Array.from(t.instances.values()),r.next=3,Promise.all(e(E)(n.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))).concat(e(E)(n.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return r.stop()}}),r)})))()}},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Se;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Se;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.options,n=void 0===r?{}:r,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error("".concat(this.name,"(").concat(a,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i=this.getOrInitializeService({instanceIdentifier:a,options:n}),s=!0,o=!1,u=void 0;try{for(var c,l=this.instancesDeferred.entries()[Symbol.iterator]();!(s=(c=l.next()).done);s=!0){var f=e(A)(c.value,2),p=f[0],d=f[1],h=this.normalizeInstanceIdentifier(p);a===h&&d.resolve(i)}}catch(e){o=!0,u=e}finally{try{s||null==l.return||l.return()}finally{if(o)throw u}}return i}},{key:"onInit",value:function(e,t){var r,n=this.normalizeInstanceIdentifier(t),a=null!==(r=this.onInitCallbacks.get(n))&&void 0!==r?r:new Set;a.add(e),this.onInitCallbacks.set(n,a);var i=this.instances.get(n);return i&&e(i,n),function(){a.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var r=this.onInitCallbacks.get(t);if(r){var n=!0,a=!1,i=void 0;try{for(var s,o=r[Symbol.iterator]();!(n=(s=o.next()).done);n=!0){var u=s.value;try{u(e,t)}catch(e){}}}catch(e){a=!0,i=e}finally{try{n||null==o.return||o.return()}finally{if(a)throw i}}}}},{key:"getOrInitializeService",value:function(e){var t,r=e.instanceIdentifier,n=e.options,a=void 0===n?{}:n,i=this.instances.get(r);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:(t=r,t===Se?void 0:t),options:a}),this.instances.set(r,i),this.instancesOptions.set(r,a),this.invokeOnInitCallbacks(i,r),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,r,i)}catch(e){}return i||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Se;return this.component?this.component.multipleInstances?e:Se:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),t}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ce,Pe,Re=function(){"use strict";function t(r){e(x)(this,t),this.name=r,this.providers=new Map}return e(I)(t,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new Oe(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),t}(),Ae=(x=a("8MBJY"),I=a("a2hTj"),T=a("hKHmD"),[]);(Pe=Ce||(Ce={}))[Pe.DEBUG=0]="DEBUG",Pe[Pe.VERBOSE=1]="VERBOSE",Pe[Pe.INFO=2]="INFO",Pe[Pe.WARN=3]="WARN",Pe[Pe.ERROR=4]="ERROR",Pe[Pe.SILENT=5]="SILENT";var Ne,De={debug:Ce.DEBUG,verbose:Ce.VERBOSE,info:Ce.INFO,warn:Ce.WARN,error:Ce.ERROR,silent:Ce.SILENT},Me=Ce.INFO,Le=(Ne={},e(T)(Ne,Ce.DEBUG,"log"),e(T)(Ne,Ce.VERBOSE,"log"),e(T)(Ne,Ce.INFO,"info"),e(T)(Ne,Ce.WARN,"warn"),e(T)(Ne,Ce.ERROR,"error"),Ne),je=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i];var s;if(!(r<t.logLevel)){var o=(new Date).toISOString(),u=Le[r];if(!u)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(r,")"));(s=console)[u].apply(s,["[".concat(o,"]  ").concat(t.name,":")].concat(e(E)(a)))}},Ue=function(){"use strict";function t(r){e(x)(this,t),this.name=r,this._logLevel=Me,this._logHandler=je,this._userLogHandler=null,Ae.push(this)}return e(I)(t,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in Ce))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"==typeof e?De[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Ce.DEBUG].concat(e(E)(r))),this._logHandler.apply(this,[this,Ce.DEBUG].concat(e(E)(r)))}},{key:"log",value:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Ce.VERBOSE].concat(e(E)(r))),this._logHandler.apply(this,[this,Ce.VERBOSE].concat(e(E)(r)))}},{key:"info",value:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Ce.INFO].concat(e(E)(r))),this._logHandler.apply(this,[this,Ce.INFO].concat(e(E)(r)))}},{key:"warn",value:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Ce.WARN].concat(e(E)(r))),this._logHandler.apply(this,[this,Ce.WARN].concat(e(E)(r)))}},{key:"error",value:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Ce.ERROR].concat(e(E)(r))),this._logHandler.apply(this,[this,Ce.ERROR].concat(e(E)(r)))}}]),t}();c=a("bpxeT");var Fe={};Object.defineProperty(Fe,"__esModule",{value:!0}),Fe.default=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){He.default(e,t,r[t])}))}return e};var He=function(e){return e&&e.__esModule?e:{default:e}}(a("hKHmD"));var Ve,Be;l=a("2TvXO");var ze=new WeakMap,We=new WeakMap,qe=new WeakMap,Ke=new WeakMap,Ge=new WeakMap;var Je={get:function(e,t,r){if(e instanceof IDBTransaction){if("done"===t)return We.get(e);if("objectStoreNames"===t)return e.objectStoreNames||qe.get(e);if("store"===t)return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return Ye(e[t])},set:function(e,t,r){return e[t]=r,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function $e(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Be||(Be=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(t)?function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return t.apply(Qe(this),r),Ye(ze.get(this))}:function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return Ye(t.apply(Qe(this),r))}:function(r){for(var n=arguments.length,a=new Array(n>1?n-1:0),i=1;i<n;i++)a[i-1]=arguments[i];var s,o=(s=t).call.apply(s,[Qe(this),r].concat(e(E)(a)));return qe.set(o,r.sort?r.sort():[r]),Ye(o)}}function Xe(e){return"function"==typeof e?$e(e):(e instanceof IDBTransaction&&function(e){if(!We.has(e)){var t=new Promise((function(t,r){var n=function(){e.removeEventListener("complete",a),e.removeEventListener("error",i),e.removeEventListener("abort",i)},a=function(){t(),n()},i=function(){r(e.error||new DOMException("AbortError","AbortError")),n()};e.addEventListener("complete",a),e.addEventListener("error",i),e.addEventListener("abort",i)}));We.set(e,t)}}(e),t=e,(Ve||(Ve=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((function(e){return t instanceof e}))?new Proxy(e,Je):e);var t}function Ye(e){if(e instanceof IDBRequest)return t=e,(r=new Promise((function(e,r){var n=function(){t.removeEventListener("success",a),t.removeEventListener("error",i)},a=function(){e(Ye(t.result)),n()},i=function(){r(t.error),n()};t.addEventListener("success",a),t.addEventListener("error",i)}))).then((function(e){e instanceof IDBCursor&&ze.set(e,t)})).catch((function(){})),Ge.set(r,t),r;var t,r;if(Ke.has(e))return Ke.get(e);var n=Xe(e);return n!==e&&(Ke.set(e,n),Ge.set(n,e)),n}var Qe=function(e){return Ge.get(e)};function Ze(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.blocked,a=r.upgrade,i=r.blocking,s=r.terminated,o=indexedDB.open(e,t),u=Ye(o);return a&&o.addEventListener("upgradeneeded",(function(e){a(Ye(o.result),e.oldVersion,e.newVersion,Ye(o.transaction))})),n&&o.addEventListener("blocked",(function(){return n()})),u.then((function(e){s&&e.addEventListener("close",(function(){return s()})),i&&e.addEventListener("versionchange",(function(){return i()}))})).catch((function(){})),u}var et=["get","getKey","getAll","getAllKeys","count"],tt=["put","add","delete","clear"],rt=new Map;function nt(t,r){if(t instanceof IDBDatabase&&!(r in t)&&"string"==typeof r){if(rt.get(r))return rt.get(r);var n=r.replace(/FromIndex$/,""),a=r!==n,i=tt.includes(n);if(n in(a?IDBIndex:IDBObjectStore).prototype&&(i||et.includes(n))){var s,o=(s=e(c)(e(l).mark((function t(r){var s,o,u,c,f,p,d=arguments;return e(l).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(s=d.length,o=new Array(s>1?s-1:0),u=1;u<s;u++)o[u-1]=d[u];return f=this.transaction(r,i?"readwrite":"readonly"),p=f.store,a&&(p=p.index(o.shift())),t.next=7,Promise.all([(c=p)[n].apply(c,e(E)(o)),i&&f.done]);case 7:return t.abrupt("return",t.sent[0]);case 8:case"end":return t.stop()}}),t,this)}))),function(e){return s.apply(this,arguments)});return rt.set(r,o),o}}}Je=function(t){return e(Fe)({},t,{get:function(e,r,n){return nt(e,r)||t.get(e,r,n)},has:function(e,r){return!!nt(e,r)||t.has(e,r)}})}(Je);
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var at=function(){"use strict";function t(r){e(x)(this,t),this.container=r}return e(I)(t,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null==t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),t}();var it,st,ot="@firebase/app",ut="0.7.28",ct=new Ue("@firebase/app"),lt="[DEFAULT]",ft=(it={},e(T)(it,ot,"fire-core"),e(T)(it,"@firebase/app-compat","fire-core-compat"),e(T)(it,"@firebase/analytics","fire-analytics"),e(T)(it,"@firebase/analytics-compat","fire-analytics-compat"),e(T)(it,"@firebase/app-check","fire-app-check"),e(T)(it,"@firebase/app-check-compat","fire-app-check-compat"),e(T)(it,"@firebase/auth","fire-auth"),e(T)(it,"@firebase/auth-compat","fire-auth-compat"),e(T)(it,"@firebase/database","fire-rtdb"),e(T)(it,"@firebase/database-compat","fire-rtdb-compat"),e(T)(it,"@firebase/functions","fire-fn"),e(T)(it,"@firebase/functions-compat","fire-fn-compat"),e(T)(it,"@firebase/installations","fire-iid"),e(T)(it,"@firebase/installations-compat","fire-iid-compat"),e(T)(it,"@firebase/messaging","fire-fcm"),e(T)(it,"@firebase/messaging-compat","fire-fcm-compat"),e(T)(it,"@firebase/performance","fire-perf"),e(T)(it,"@firebase/performance-compat","fire-perf-compat"),e(T)(it,"@firebase/remote-config","fire-rc"),e(T)(it,"@firebase/remote-config-compat","fire-rc-compat"),e(T)(it,"@firebase/storage","fire-gcs"),e(T)(it,"@firebase/storage-compat","fire-gcs-compat"),e(T)(it,"@firebase/firestore","fire-fst"),e(T)(it,"@firebase/firestore-compat","fire-fst-compat"),e(T)(it,"fire-js","fire-js"),e(T)(it,"firebase","fire-js-all"),it),pt=new Map,dt=new Map;function ht(e,t){try{e.container.addComponent(t)}catch(r){ct.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),r)}}function vt(e){var t=e.name;if(dt.has(t))return ct.debug("There were multiple attempts to register component ".concat(t,".")),!1;dt.set(t,e);var r=!0,n=!1,a=void 0;try{for(var i,s=pt.values()[Symbol.iterator]();!(r=(i=s.next()).done);r=!0){ht(i.value,e)}}catch(e){n=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(n)throw a}}return!0}function mt(e,t){var r=e.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),e.container.getProvider(t)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var gt=(st={},e(T)(st,"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),e(T)(st,"bad-app-name","Illegal App name: '{$appName}"),e(T)(st,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),e(T)(st,"app-deleted","Firebase App named '{$appName}' already deleted"),e(T)(st,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),e(T)(st,"invalid-log-argument","First argument to `onLog` must be null or a function."),e(T)(st,"storage-open","Error thrown when opening storage. Original error: {$originalErrorMessage}."),e(T)(st,"storage-get","Error thrown when reading from storage. Original error: {$originalErrorMessage}."),e(T)(st,"storage-set","Error thrown when writing to storage. Original error: {$originalErrorMessage}."),e(T)(st,"storage-delete","Error thrown when deleting from storage. Original error: {$originalErrorMessage}."),st),yt=new pe("app","Firebase",gt),kt=function(){"use strict";function t(r,n,a){var i=this;e(x)(this,t),this._isDeleted=!1,this._options=Object.assign({},r),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Ee("app",(function(){return i}),"PUBLIC"))}return e(I)(t,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw yt.create("app-deleted",{appName:this._name})}}]),t}(),bt="9.9.0";function wt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:lt,t=pt.get(e);if(!t)throw yt.create("no-app",{appName:e});return t}function _t(e,t,r){var n,a=null!==(n=ft[e])&&void 0!==n?n:e;r&&(a+="-".concat(r));var i=a.match(/\s|\//),s=t.match(/\s|\//);if(i||s){var o=['Unable to register library "'.concat(a,'" with version "').concat(t,'":')];return i&&o.push('library name "'.concat(a,'" contains illegal characters (whitespace or "/")')),i&&s&&o.push("and"),s&&o.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void ct.warn(o.join(" "))}vt(new Ee("".concat(a,"-version"),(function(){return{library:a,version:t}}),"VERSION"))}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var xt="firebase-heartbeat-store",It=null;function Tt(){return It||(It=Ze("firebase-heartbeat-database",1,{upgrade:function(e,t){if(0===t)e.createObjectStore(xt)}}).catch((function(e){throw yt.create("storage-open",{originalErrorMessage:e.message})}))),It}function Et(e){return St.apply(this,arguments)}function St(){return(St=e(c)(e(l).mark((function t(r){var n,a;return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=1,e.next=4,Tt();case 4:return a=e.sent,e.abrupt("return",a.transaction(xt).objectStore(xt).get(Pt(r)));case 8:throw e.prev=8,e.t0=e.catch(1),yt.create("storage-get",{originalErrorMessage:null===(n=e.t0)||void 0===n?void 0:n.message});case 11:case"end":return e.stop()}}),t,null,[[1,8]])})))).apply(this,arguments)}function Ot(e,t){return Ct.apply(this,arguments)}function Ct(){return(Ct=e(c)(e(l).mark((function t(r,n){var a,i,s,o;return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=1,e.next=4,Tt();case 4:return i=e.sent,s=i.transaction(xt,"readwrite"),o=s.objectStore(xt),e.next=9,o.put(n,Pt(r));case 9:return e.abrupt("return",s.done);case 12:throw e.prev=12,e.t0=e.catch(1),yt.create("storage-set",{originalErrorMessage:null===(a=e.t0)||void 0===a?void 0:a.message});case 15:case"end":return e.stop()}}),t,null,[[1,12]])})))).apply(this,arguments)}function Pt(e){return"".concat(e.name,"!").concat(e.options.appId)}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rt=function(){"use strict";function t(r){var n=this;e(x)(this,t),this.container=r,this._heartbeatsCache=null;var a=this.container.getProvider("app").getImmediate();this._storage=new Mt(a),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return e(I)(t,[{key:"triggerHeartbeat",value:function(){var t=this;return e(c)(e(l).mark((function r(){var n,a,i;return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.container.getProvider("platform-logger").getImmediate(),a=n.getPlatformInfoString(),i=At(),null!==t._heartbeatsCache){e.next=7;break}return e.next=6,t._heartbeatsCachePromise;case 6:t._heartbeatsCache=e.sent;case 7:if(t._heartbeatsCache.lastSentHeartbeatDate!==i&&!t._heartbeatsCache.heartbeats.some((function(e){return e.date===i}))){e.next=11;break}return e.abrupt("return");case 11:t._heartbeatsCache.heartbeats.push({date:i,agent:a});case 12:return t._heartbeatsCache.heartbeats=t._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",t._storage.overwrite(t._heartbeatsCache));case 14:case"end":return e.stop()}}),r)})))()}},{key:"getHeartbeatsHeader",value:function(){var t=this;return e(c)(e(l).mark((function r(){var n,a,i,s,o;return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==t._heartbeatsCache){e.next=3;break}return e.next=3,t._heartbeatsCachePromise;case 3:if(null!==t._heartbeatsCache&&0!==t._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(n=At(),a=Nt(t._heartbeatsCache.heartbeats),i=a.heartbeatsToSend,s=a.unsentEntries,o=ne(JSON.stringify({version:2,heartbeats:i})),t._heartbeatsCache.lastSentHeartbeatDate=n,!(s.length>0)){e.next=15;break}return t._heartbeatsCache.heartbeats=s,e.next=13,t._storage.overwrite(t._heartbeatsCache);case 13:e.next=16;break;case 15:t._heartbeatsCache.heartbeats=[],t._storage.overwrite(t._heartbeatsCache);case 16:return e.abrupt("return",o);case 17:case"end":return e.stop()}}),r)})))()}}]),t}();function At(){return(new Date).toISOString().substring(0,10)}function Nt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],n=e.slice(),a=!0,i=!1,s=void 0;try{for(var o,u=function(e,a){var i=a.value,s=r.find((function(e){return e.agent===i.agent}));if(s){if(s.dates.push(i.date),Lt(r)>t)return s.dates.pop(),"break"}else if(r.push({agent:i.agent,dates:[i.date]}),Lt(r)>t)return r.pop(),"break";n=n.slice(1)},c=e[Symbol.iterator]();!(a=(o=c.next()).done);a=!0){var l=u(c,o);if("break"===l)break}}catch(e){i=!0,s=e}finally{try{a||null==c.return||c.return()}finally{if(i)throw s}}return{heartbeatsToSend:r,unsentEntries:n}}var Dt,Mt=function(){"use strict";function t(r){e(x)(this,t),this.app=r,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return e(I)(t,[{key:"runIndexedDBEnvironmentCheck",value:function(){return e(c)(e(l).mark((function t(){return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ue()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",ce().then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),t)})))()}},{key:"read",value:function(){var t=this;return e(c)(e(l).mark((function r(){var n;return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,Et(t.app);case 9:return n=e.sent,e.abrupt("return",n||{heartbeats:[]});case 11:case"end":return e.stop()}}),r)})))()}},{key:"overwrite",value:function(t){var r=this;return e(c)(e(l).mark((function n(){var a,i;return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,r._canUseIndexedDBPromise;case 3:if(e.sent){e.next=8;break}return e.abrupt("return");case 8:return e.next=10,r.read();case 10:return i=e.sent,e.abrupt("return",Ot(r.app,{lastSentHeartbeatDate:null!==(a=t.lastSentHeartbeatDate)&&void 0!==a?a:i.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 12:case"end":return e.stop()}}),n)})))()}},{key:"add",value:function(t){var r=this;return e(c)(e(l).mark((function n(){var a,i;return e(l).wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=3,r._canUseIndexedDBPromise;case 3:if(n.sent){n.next=8;break}return n.abrupt("return");case 8:return n.next=10,r.read();case 10:return i=n.sent,n.abrupt("return",Ot(r.app,{lastSentHeartbeatDate:null!==(a=t.lastSentHeartbeatDate)&&void 0!==a?a:i.lastSentHeartbeatDate,heartbeats:e(E)(i.heartbeats).concat(e(E)(t.heartbeats))}));case 12:case"end":return n.stop()}}),n)})))()}}]),t}();function Lt(e){return ne(JSON.stringify({version:2,heartbeats:e})).length}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Dt="",vt(new Ee("platform-logger",(function(e){return new at(e)}),"PRIVATE")),vt(new Ee("heartbeat",(function(e){return new Rt(e)}),"PRIVATE")),_t(ot,ut,Dt),_t(ot,ut,"esm2017"),_t("fire-js","");
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
_t("firebase","9.9.0","app");c=a("bpxeT"),x=a("8MBJY"),I=a("a2hTj"),T=a("hKHmD"),l=a("2TvXO"),c=a("bpxeT"),T=a("hKHmD"),l=a("2TvXO");var jt,Ut="@firebase/installations",Ft="0.5.12",Ht=1e4,Vt="w:".concat(Ft),Bt="FIS_v2",zt=36e5,Wt=(jt={},e(T)(jt,"missing-app-config-values",'Missing App configuration value: "{$valueName}"'),e(T)(jt,"not-registered","Firebase Installation is not registered."),e(T)(jt,"installation-not-found","Firebase Installation not found."),e(T)(jt,"request-failed",'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"'),e(T)(jt,"app-offline","Could not process request. Application offline."),e(T)(jt,"delete-pending-registration","Can't delete installation while there is a pending registration request."),jt),qt=new pe("installations","Installations",Wt);function Kt(e){return e instanceof fe&&e.code.includes("request-failed")}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gt(e){var t=e.projectId;return"".concat("https://firebaseinstallations.googleapis.com/v1","/projects/").concat(t,"/installations")}function Jt(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}function $t(e,t){return Xt.apply(this,arguments)}function Xt(){return(Xt=e(c)(e(l).mark((function t(r,n){var a,i;return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.json();case 2:return a=e.sent,i=a.error,e.abrupt("return",qt.create("request-failed",{requestName:r,serverCode:i.code,serverMessage:i.message,serverStatus:i.status}));case 5:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function Yt(e){var t=e.apiKey;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function Qt(e,t){var r=t.refreshToken,n=Yt(e);return n.append("Authorization",function(e){return"".concat(Bt," ").concat(e)}(r)),n}function Zt(e){return er.apply(this,arguments)}function er(){return(er=e(c)(e(l).mark((function t(r){var n;return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r();case 2:if(!((n=e.sent).status>=500&&n.status<600)){e.next=5;break}return e.abrupt("return",r());case 5:return e.abrupt("return",n);case 6:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function tr(e,t){return rr.apply(this,arguments)}function rr(){return(rr=
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
e(c)(e(l).mark((function t(r,n){var a,i,s,o,u,c,f,p,d,h,v,m;return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=r.appConfig,i=r.heartbeatServiceProvider,s=n.fid,o=Gt(a),u=Yt(a),!(c=i.getImmediate({optional:!0}))){e.next=9;break}return e.next=7,c.getHeartbeatsHeader();case 7:(f=e.sent)&&u.append("x-firebase-client",f);case 9:return p={fid:s,authVersion:Bt,appId:a.appId,sdkVersion:Vt},d={method:"POST",headers:u,body:JSON.stringify(p)},e.next=13,Zt((function(){return fetch(o,d)}));case 13:if(!(h=e.sent).ok){e.next=22;break}return e.next=17,h.json();case 17:return v=e.sent,m={fid:v.fid||s,registrationStatus:2,refreshToken:v.refreshToken,authToken:Jt(v.authToken)},e.abrupt("return",m);case 22:return e.next=24,$t("Create Installation",h);case 24:throw e.sent;case 25:case"end":return e.stop()}}),t)})))).apply(this,arguments)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nr(e){return new Promise((function(t){setTimeout(t,e)}))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var ar=/^[cdef][\w-]{21}$/;function ir(){try{var t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;var r=function(t){return(r=t,btoa((n=String).fromCharCode.apply(n,e(E)(r))).replace(/\+/g,"-").replace(/\//g,"_")).substr(0,22);var r,n}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t);return ar.test(r)?r:""}catch(e){return""}}function sr(e){return"".concat(e.appName,"!").concat(e.appId)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var or=new Map;function ur(e,t){var r=sr(e);cr(r,t),function(e,t){var r=fr();r&&r.postMessage({key:e,fid:t});pr()}(r,t)}function cr(e,t){var r=or.get(e);if(r){var n=!0,a=!1,i=void 0;try{for(var s,o=r[Symbol.iterator]();!(n=(s=o.next()).done);n=!0){(0,s.value)(t)}}catch(e){a=!0,i=e}finally{try{n||null==o.return||o.return()}finally{if(a)throw i}}}}var lr=null;function fr(){return!lr&&"BroadcastChannel"in self&&((lr=new BroadcastChannel("[Firebase] FID Change")).onmessage=function(e){cr(e.data.key,e.data.fid)}),lr}function pr(){0===or.size&&lr&&(lr.close(),lr=null)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dr="firebase-installations-store",hr=null;function vr(){return hr||(hr=Ze("firebase-installations-database",1,{upgrade:function(e,t){if(0===t)e.createObjectStore(dr)}})),hr}function mr(e,t){return gr.apply(this,arguments)}function gr(){return(gr=e(c)(e(l).mark((function t(r,n){var a,i,s,o,u;return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=sr(r),e.next=3,vr();case 3:return i=e.sent,s=i.transaction(dr,"readwrite"),o=s.objectStore(dr),e.next=8,o.get(a);case 8:return u=e.sent,e.next=11,o.put(n,a);case 11:return e.next=13,s.done;case 13:return u&&u.fid===n.fid||ur(r,n.fid),e.abrupt("return",n);case 15:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function yr(e){return kr.apply(this,arguments)}function kr(){return(kr=e(c)(e(l).mark((function t(r){var n,a,i;return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=sr(r),e.next=3,vr();case 3:return a=e.sent,i=a.transaction(dr,"readwrite"),e.next=7,i.objectStore(dr).delete(n);case 7:return e.next=9,i.done;case 9:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function br(e,t){return wr.apply(this,arguments)}function wr(){return(wr=e(c)(e(l).mark((function t(r,n){var a,i,s,o,u,c;return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=sr(r),e.next=3,vr();case 3:return i=e.sent,s=i.transaction(dr,"readwrite"),o=s.objectStore(dr),e.next=8,o.get(a);case 8:if(u=e.sent,void 0!==(c=n(u))){e.next=15;break}return e.next=13,o.delete(a);case 13:e.next=17;break;case 15:return e.next=17,o.put(c,a);case 17:return e.next=19,s.done;case 19:return!c||u&&u.fid===c.fid||ur(r,c.fid),e.abrupt("return",c);case 21:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function _r(e){return xr.apply(this,arguments)}function xr(){return(xr=
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
e(c)(e(l).mark((function t(r){var n,a;return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,br(r.appConfig,(function(e){var t=Ir(e),a=Tr(r,t);return n=a.registrationPromise,a.installationEntry}));case 3:if(""!==(a=e.sent).fid){e.next=9;break}return e.next=7,n;case 7:return e.t0=e.sent,e.abrupt("return",{installationEntry:e.t0});case 9:return e.abrupt("return",{installationEntry:a,registrationPromise:n});case 10:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function Ir(e){return Pr(e||{fid:ir(),registrationStatus:0})}function Tr(e,t){if(0===t.registrationStatus){if(!navigator.onLine)return{installationEntry:t,registrationPromise:Promise.reject(qt.create("app-offline"))};var r={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},n=function(e,t){return Er.apply(this,arguments)}(e,r);return{installationEntry:r,registrationPromise:n}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:Sr(e)}:{installationEntry:t}}function Er(){return(Er=e(c)(e(l).mark((function t(r,n){var a;return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,tr(r,n);case 3:return a=e.sent,e.abrupt("return",mr(r.appConfig,a));case 7:if(e.prev=7,e.t0=e.catch(0),!Kt(e.t0)||409!==e.t0.customData.serverCode){e.next=14;break}return e.next=12,yr(r.appConfig);case 12:e.next=16;break;case 14:return e.next=16,mr(r.appConfig,{fid:n.fid,registrationStatus:0});case 16:throw e.t0;case 17:case"end":return e.stop()}}),t,null,[[0,7]])})))).apply(this,arguments)}function Sr(e){return Or.apply(this,arguments)}function Or(){return(Or=e(c)(e(l).mark((function t(r){var n,a,i,s;return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Cr(r.appConfig);case 2:n=e.sent;case 3:if(1!==n.registrationStatus){e.next=11;break}return e.next=6,nr(100);case 6:return e.next=8,Cr(r.appConfig);case 8:n=e.sent,e.next=3;break;case 11:if(0!==n.registrationStatus){e.next=22;break}return e.next=14,_r(r);case 14:if(a=e.sent,i=a.installationEntry,!(s=a.registrationPromise)){e.next=21;break}return e.abrupt("return",s);case 21:return e.abrupt("return",i);case 22:return e.abrupt("return",n);case 23:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function Cr(e){return br(e,(function(e){if(!e)throw qt.create("installation-not-found");return Pr(e)}))}function Pr(e){return 1===(t=e).registrationStatus&&t.registrationTime+Ht<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}function Rr(e,t){return Ar.apply(this,arguments)}function Ar(){return(Ar=
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
e(c)(e(l).mark((function t(r,n){var a,i,s,o,u,c,f,p,d,h,v;return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=r.appConfig,i=r.heartbeatServiceProvider,s=Nr(a,n),o=Qt(a,n),!(u=i.getImmediate({optional:!0}))){e.next=9;break}return e.next=7,u.getHeartbeatsHeader();case 7:(c=e.sent)&&o.append("x-firebase-client",c);case 9:return f={installation:{sdkVersion:Vt,appId:a.appId}},p={method:"POST",headers:o,body:JSON.stringify(f)},e.next=13,Zt((function(){return fetch(s,p)}));case 13:if(!(d=e.sent).ok){e.next=22;break}return e.next=17,d.json();case 17:return h=e.sent,v=Jt(h),e.abrupt("return",v);case 22:return e.next=24,$t("Generate Auth Token",d);case 24:throw e.sent;case 25:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function Nr(e,t){var r=t.fid;return"".concat(Gt(e),"/").concat(r,"/authTokens:generate")}function Dr(e){return Mr.apply(this,arguments)}function Mr(){return Mr=
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
e(c)(e(l).mark((function t(r){var n,a,i,s,o=arguments;return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>1&&void 0!==o[1]&&o[1],e.next=4,br(r.appConfig,(function(e){if(!Vr(e))throw qt.create("not-registered");var t=e.authToken;if(!n&&Br(t))return e;if(1===t.requestStatus)return a=Lr(r,n),e;if(!navigator.onLine)throw qt.create("app-offline");var i=zr(e);return a=Fr(r,i),i}));case 4:if(i=e.sent,!a){e.next=11;break}return e.next=8,a;case 8:e.t0=e.sent,e.next=12;break;case 11:e.t0=i.authToken;case 12:return s=e.t0,e.abrupt("return",s);case 14:case"end":return e.stop()}}),t)}))),Mr.apply(this,arguments)}function Lr(e,t){return jr.apply(this,arguments)}function jr(){return(jr=e(c)(e(l).mark((function t(r,n){var a,i;return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ur(r.appConfig);case 2:a=e.sent;case 3:if(1!==a.authToken.requestStatus){e.next=11;break}return e.next=6,nr(100);case 6:return e.next=8,Ur(r.appConfig);case 8:a=e.sent,e.next=3;break;case 11:if(0!==(i=a.authToken).requestStatus){e.next=16;break}return e.abrupt("return",Dr(r,n));case 16:return e.abrupt("return",i);case 17:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function Ur(e){return br(e,(function(e){if(!Vr(e))throw qt.create("not-registered");var t,r=e.authToken;return 1===(t=r).requestStatus&&t.requestTime+Ht<Date.now()?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e}))}function Fr(e,t){return Hr.apply(this,arguments)}function Hr(){return(Hr=e(c)(e(l).mark((function t(r,n){var a,i,s;return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Rr(r,n);case 3:return a=e.sent,i=Object.assign(Object.assign({},n),{authToken:a}),e.next=7,mr(r.appConfig,i);case 7:return e.abrupt("return",a);case 10:if(e.prev=10,e.t0=e.catch(0),!Kt(e.t0)||401!==e.t0.customData.serverCode&&404!==e.t0.customData.serverCode){e.next=17;break}return e.next=15,yr(r.appConfig);case 15:e.next=20;break;case 17:return s=Object.assign(Object.assign({},n),{authToken:{requestStatus:0}}),e.next=20,mr(r.appConfig,s);case 20:throw e.t0;case 21:case"end":return e.stop()}}),t,null,[[0,10]])})))).apply(this,arguments)}function Vr(e){return void 0!==e&&2===e.registrationStatus}function Br(e){return 2===e.requestStatus&&!function(e){var t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+zt}(e)}function zr(e){var t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}function Wr(){return(Wr=
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
e(c)(e(l).mark((function t(r){var n,a,i,s;return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r,e.next=3,_r(n);case 3:return a=e.sent,i=a.installationEntry,(s=a.registrationPromise)?s.catch(console.error):Dr(n).catch(console.error),e.abrupt("return",i.fid);case 8:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function qr(){return qr=
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
e(c)(e(l).mark((function t(r){var n,a,i,s=arguments;return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]&&s[1],a=r,e.next=4,Kr(a);case 4:return e.next=6,Dr(a,n);case 6:return i=e.sent,e.abrupt("return",i.token);case 8:case"end":return e.stop()}}),t)}))),qr.apply(this,arguments)}function Kr(e){return Gr.apply(this,arguments)}function Gr(){return(Gr=e(c)(e(l).mark((function t(r){var n;return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_r(r);case 2:if(!(n=e.sent.registrationPromise)){e.next=6;break}return e.next=6,n;case 6:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function Jr(e){return qt.create("missing-app-config-values",{valueName:e})}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $r="installations",Xr=function(e){var t=mt(e.getProvider("app").getImmediate(),$r).getImmediate(),r={getId:function(){return function(e){return Wr.apply(this,arguments)}(t)},getToken:function(e){return function(e){return qr.apply(this,arguments)}(t,e)}};return r};vt(new Ee($r,(function(e){var t=e.getProvider("app").getImmediate(),r=
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function(e){if(!e||!e.options)throw Jr("App Configuration");if(!e.name)throw Jr("App Name");var t=!0,r=!1,n=void 0;try{for(var a,i=["projectId","apiKey","appId"][Symbol.iterator]();!(t=(a=i.next()).done);t=!0){var s=a.value;if(!e.options[s])throw Jr(s)}}catch(e){r=!0,n=e}finally{try{t||null==i.return||i.return()}finally{if(r)throw n}}return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t);return{app:t,appConfig:r,heartbeatServiceProvider:mt(t,"heartbeat"),_delete:function(){return Promise.resolve()}}}),"PUBLIC")),vt(new Ee("installations-internal",Xr,"PRIVATE")),_t(Ut,Ft),_t(Ut,Ft,"esm2017");
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Yr,Qr="analytics",Zr=6e4,en="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",tn="https://www.googletagmanager.com/gtag/js",rn=new Ue("@firebase/analytics");
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function nn(e){return Promise.all(e.map((function(e){return e.catch((function(e){return e}))})))}function an(e,t){var r=document.createElement("script");r.src="".concat(tn,"?l=").concat(e,"&id=").concat(t),r.async=!0,document.head.appendChild(r)}function sn(e,t,r,n,a,i){return on.apply(this,arguments)}function on(){return(on=e(c)(e(l).mark((function t(r,n,a,i,s,o){var u,c,f;return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u=i[s],e.prev=1,!u){e.next=7;break}return e.next=5,n[u];case 5:e.next=14;break;case 7:return e.next=9,nn(a);case 9:if(c=e.sent,!(f=c.find((function(e){return e.measurementId===s})))){e.next=14;break}return e.next=14,n[f.appId];case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(1),rn.error(e.t0);case 19:r("config",s,o);case 20:case"end":return e.stop()}}),t,null,[[1,16]])})))).apply(this,arguments)}function un(e,t,r,n,a){return cn.apply(this,arguments)}function cn(){return(cn=e(c)(e(l).mark((function t(r,n,a,i,s){var o,u,c,f,p,d,h,v,m,g,y;return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,o=[],!s||!s.send_to){e.next=38;break}return u=s.send_to,Array.isArray(u)||(u=[u]),e.next=7,nn(a);case 7:c=e.sent,f=!0,p=!1,d=void 0,e.prev=9,h=u[Symbol.iterator]();case 11:if(f=(v=h.next()).done){e.next=24;break}if(m=v.value,g=c.find((function(e){return e.measurementId===m})),!(y=g&&n[g.appId])){e.next=19;break}o.push(y),e.next=21;break;case 19:return o=[],e.abrupt("break",24);case 21:f=!0,e.next=11;break;case 24:e.next=30;break;case 26:e.prev=26,e.t0=e.catch(9),p=!0,d=e.t0;case 30:e.prev=30,e.prev=31,f||null==h.return||h.return();case 33:if(e.prev=33,!p){e.next=36;break}throw d;case 36:return e.finish(33);case 37:return e.finish(30);case 38:return 0===o.length&&(o=Object.values(n)),e.next=41,Promise.all(o);case 41:r("event",i,s||{}),e.next=47;break;case 44:e.prev=44,e.t1=e.catch(0),rn.error(e.t1);case 47:case"end":return e.stop()}}),t,null,[[0,44],[9,26,30,38],[31,,33,37]])})))).apply(this,arguments)}function ln(t,r,n,a,i){var s=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];window[a].push(arguments)};return window[i]&&"function"==typeof window[i]&&(s=window[i]),window[i]=function(t,r,n,a){function i(){return(i=e(c)(e(l).mark((function i(s,o,u){return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,"event"!==s){e.next=6;break}return e.next=4,un(t,r,n,o,u);case 4:e.next=12;break;case 6:if("config"!==s){e.next=11;break}return e.next=9,sn(t,r,n,a,o,u);case 9:e.next=12;break;case 11:"consent"===s?t("consent","update",u):t("set",o);case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),rn.error(e.t0);case 17:case"end":return e.stop()}}),i,null,[[0,14]])})))).apply(this,arguments)}return function(e,t,r){return i.apply(this,arguments)}}(s,t,r,n),{gtagCore:s,wrappedGtag:window[i]}}function fn(){var e=window.document.getElementsByTagName("script"),t=!0,r=!1,n=void 0;try{for(var a,i=Object.values(e)[Symbol.iterator]();!(t=(a=i.next()).done);t=!0){var s=a.value;if(s.src&&s.src.includes(tn))return s}}catch(e){r=!0,n=e}finally{try{t||null==i.return||i.return()}finally{if(r)throw n}}return null}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var pn=(Yr={},e(T)(Yr,"already-exists","A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId."),e(T)(Yr,"already-initialized","initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance."),e(T)(Yr,"already-initialized-settings","Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect."),e(T)(Yr,"interop-component-reg-failed","Firebase Analytics Interop Component failed to instantiate: {$reason}"),e(T)(Yr,"invalid-analytics-context","Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}"),e(T)(Yr,"indexeddb-unavailable","IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}"),e(T)(Yr,"fetch-throttle","The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}."),e(T)(Yr,"config-fetch-failed","Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}"),e(T)(Yr,"no-api-key",'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.'),e(T)(Yr,"no-app-id",'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'),Yr),dn=new pe("analytics","Analytics",pn),hn=function(){"use strict";function t(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;e(x)(this,t),this.throttleMetadata=r,this.intervalMillis=n}return e(I)(t,[{key:"getThrottleMetadata",value:function(e){return this.throttleMetadata[e]}},{key:"setThrottleMetadata",value:function(e,t){this.throttleMetadata[e]=t}},{key:"deleteThrottleMetadata",value:function(e){delete this.throttleMetadata[e]}}]),t}(),vn=new hn;function mn(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}function gn(e){return yn.apply(this,arguments)}function yn(){return(yn=e(c)(e(l).mark((function t(r){var n,a,i,s,o,u,c,f;return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.appId,i=r.apiKey,s={method:"GET",headers:mn(i)},o=en.replace("{app-id}",a),e.next=6,fetch(o,s);case 6:if(200===(u=e.sent).status||304===u.status){e.next=19;break}return c="",e.prev=9,e.next=12,u.json();case 12:f=e.sent,(null===(n=f.error)||void 0===n?void 0:n.message)&&(c=f.error.message),e.next=18;break;case 16:e.prev=16,e.t0=e.catch(9);case 18:throw dn.create("config-fetch-failed",{httpStatus:u.status,responseMessage:c});case 19:return e.abrupt("return",u.json());case 20:case"end":return e.stop()}}),t,null,[[9,16]])})))).apply(this,arguments)}function kn(e){return bn.apply(this,arguments)}function bn(){return bn=e(c)(e(l).mark((function t(r){var n,a,i,s,o,u,f,p,d=arguments;return e(l).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=d.length>1&&void 0!==d[1]?d[1]:vn,a=d.length>2?d[2]:void 0,i=r.options,s=i.appId,o=i.apiKey,u=i.measurementId,s){t.next=4;break}throw dn.create("no-app-id");case 4:if(o){t.next=8;break}if(!u){t.next=7;break}return t.abrupt("return",{measurementId:u,appId:s});case 7:throw dn.create("no-api-key");case 8:return f=n.getThrottleMetadata(s)||{backoffCount:0,throttleEndTimeMillis:Date.now()},p=new Sn,setTimeout(e(c)(e(l).mark((function t(){return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:p.abort();case 1:case"end":return e.stop()}}),t)}))),void 0!==a?a:Zr),t.abrupt("return",wn({appId:s,apiKey:o,measurementId:u},f,p,n));case 12:case"end":return t.stop()}}),t)}))),bn.apply(this,arguments)}function wn(e,t,r){return _n.apply(this,arguments)}function _n(){return _n=e(c)(e(l).mark((function t(r,n,a){var i,s,o,u,c,f,p,d,h,v,m,g=arguments;return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=n.throttleEndTimeMillis,s=n.backoffCount,o=g.length>3&&void 0!==g[3]?g[3]:vn,f=r.appId,p=r.measurementId,e.prev=3,e.next=6,xn(a,i);case 6:e.next=14;break;case 8:if(e.prev=8,e.t0=e.catch(3),!p){e.next=13;break}return rn.warn("Timed out fetching this Firebase app's measurement ID from the server."+" Falling back to the measurement ID ".concat(p)+' provided in the "measurementId" field in the local Firebase config. ['.concat(null===(u=e.t0)||void 0===u?void 0:u.message,"]")),e.abrupt("return",{appId:f,measurementId:p});case 13:throw e.t0;case 14:return e.prev=14,e.next=17,gn(r);case 17:return d=e.sent,o.deleteThrottleMetadata(f),e.abrupt("return",d);case 22:if(e.prev=22,e.t1=e.catch(14),In(h=e.t1)){e.next=33;break}if(o.deleteThrottleMetadata(f),!p){e.next=32;break}return rn.warn("Failed to fetch this Firebase app's measurement ID from the server."+" Falling back to the measurement ID ".concat(p)+' provided in the "measurementId" field in the local Firebase config. ['.concat(null==h?void 0:h.message,"]")),e.abrupt("return",{appId:f,measurementId:p});case 32:throw e.t1;case 33:return v=503===Number(null===(c=null==h?void 0:h.customData)||void 0===c?void 0:c.httpStatus)?Ie(s,o.intervalMillis,30):Ie(s,o.intervalMillis),m={throttleEndTimeMillis:Date.now()+v,backoffCount:s+1},o.setThrottleMetadata(f,m),rn.debug("Calling attemptFetch again in ".concat(v," millis")),e.abrupt("return",wn(r,m,a,o));case 38:case"end":return e.stop()}}),t,null,[[3,8],[14,22]])}))),_n.apply(this,arguments)}function xn(e,t){return new Promise((function(r,n){var a=Math.max(t-Date.now(),0),i=setTimeout(r,a);e.addEventListener((function(){clearTimeout(i),n(dn.create("fetch-throttle",{throttleEndTimeMillis:t}))}))}))}function In(e){if(!(e instanceof fe&&e.customData))return!1;var t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}var Tn,En,Sn=function(){"use strict";function t(){e(x)(this,t),this.listeners=[]}return e(I)(t,[{key:"addEventListener",value:function(e){this.listeners.push(e)}},{key:"abort",value:function(){this.listeners.forEach((function(e){return e()}))}}]),t}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function On(){return(On=e(c)(e(l).mark((function t(r,n,a,i,s){var o,u;return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!s||!s.global){e.next=5;break}return r("event",a,i),e.abrupt("return");case 5:return e.next=7,n;case 7:o=e.sent,u=Object.assign(Object.assign({},i),{send_to:o}),r("event",a,u);case 10:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function Cn(e){En=e}function Pn(e){Tn=e}function Rn(){return An.apply(this,arguments)}function An(){return(An=
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
e(c)(e(l).mark((function t(){var r;return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ue()){e.next=6;break}return rn.warn(dn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),e.abrupt("return",!1);case 6:return e.prev=6,e.next=9,ce();case 9:e.next=15;break;case 11:return e.prev=11,e.t0=e.catch(6),rn.warn(dn.create("indexeddb-unavailable",{errorInfo:null===(r=e.t0)||void 0===r?void 0:r.toString()}).message),e.abrupt("return",!1);case 15:return e.abrupt("return",!0);case 16:case"end":return e.stop()}}),t,null,[[6,11]])})))).apply(this,arguments)}function Nn(){return(Nn=e(c)(e(l).mark((function t(r,n,a,i,s,o,u){var c,f,p,d,h,v,m;return e(l).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(f=kn(r)).then((function(e){a[e.measurementId]=e.appId,r.options.measurementId&&e.measurementId!==r.options.measurementId&&rn.warn("The measurement ID in the local Firebase config (".concat(r.options.measurementId,")")+" does not match the measurement ID fetched from the server (".concat(e.measurementId,").")+" To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")})).catch((function(e){return rn.error(e)})),n.push(f),p=Rn().then((function(e){return e?i.getId():void 0})),t.t0=e(A),t.next=8,Promise.all([f,p]);case 8:return t.t1=t.sent,d=(0,t.t0)(t.t1,2),h=d[0],v=d[1],fn()||an(o,h.measurementId),En&&(s("consent","default",En),Cn(void 0)),s("js",new Date),(m=null!==(c=null==u?void 0:u.config)&&void 0!==c?c:{}).origin="firebase",m.update=!0,null!=v&&(m.firebase_id=v),s("config",h.measurementId,m),Tn&&(s("set",Tn),Pn(void 0)),t.abrupt("return",h.measurementId);case 22:case"end":return t.stop()}}),t)})))).apply(this,arguments)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Dn,Mn,Ln=function(){"use strict";function t(r){e(x)(this,t),this.app=r}return e(I)(t,[{key:"_delete",value:function(){return delete jn[this.app.options.appId],Promise.resolve()}}]),t}(),jn={},Un=[],Fn={},Hn="dataLayer",Vn="gtag",Bn=!1;function zn(e,t,r){!function(){var e=[];if(oe()&&e.push("This is a browser extension environment."),le()||e.push("Cookies are not available."),e.length>0){var t=e.map((function(e,t){return"(".concat(t+1,") ").concat(e)})).join(" "),r=dn.create("invalid-analytics-context",{errorInfo:t});rn.warn(r.message)}}();var n,a,i=e.options.appId;if(!i)throw dn.create("no-app-id");if(!e.options.apiKey){if(!e.options.measurementId)throw dn.create("no-api-key");rn.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest'+" measurement ID for this Firebase app. Falling back to the measurement ID ".concat(e.options.measurementId)+' provided in the "measurementId" field in the local Firebase config.')}if(null!=jn[i])throw dn.create("already-exists",{id:i});if(!Bn){n=Hn,a=[],Array.isArray(window[n])?a=window[n]:window[n]=a;var s=ln(jn,Un,Fn,Hn,Vn),o=s.wrappedGtag,u=s.gtagCore;Mn=o,Dn=u,Bn=!0}return jn[i]=function(e,t,r,n,a,i,s){return Nn.apply(this,arguments)}(e,Un,Fn,t,Dn,Hn,r),new Ln(e)}function Wn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=mt(e,Qr);if(r.isInitialized()){var n=r.getImmediate();if(me(t,r.getOptions()))return n;throw dn.create("already-initialized")}var a=r.initialize({options:t});return a}function qn(e,t,r,n){e=Te(e),function(e,t,r,n,a){return On.apply(this,arguments)}(Mn,jn[e.app.options.appId],t,r,n).catch((function(e){return rn.error(e)}))}var Kn="@firebase/analytics",Gn="0.8.0";vt(new Ee(Qr,(function(e,t){var r=t.options;return zn(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),r)}),"PUBLIC")),vt(new Ee("analytics-internal",(function(e){try{var t=e.getProvider(Qr).getImmediate();return{logEvent:function(e,r,n){return qn(t,e,r,n)}}}catch(e){throw dn.create("interop-component-reg-failed",{reason:e})}}),"PRIVATE")),_t(Kn,Gn),_t(Kn,Gn,"esm2017");U=a("ds8z5"),c=a("bpxeT"),x=a("8MBJY"),I=a("a2hTj"),T=a("hKHmD");var Jn={};Object.defineProperty(Jn,"__esModule",{value:!0}),Jn.default=function(e,t,r){return Xn(e,t,r)};var $n=function(e){return e&&e.__esModule?e:{default:e}}(a("2mz0K"));function Xn(e,t,r){return(Xn="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=$n.default(e,t);if(n){var a=Object.getOwnPropertyDescriptor(n,t);return a.get?a.get.call(r||e):a.value}})(e,t,r)}var Yn=a("fVNic");l=a("2TvXO");function Qn(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r}Object.create;Object.create;function Zn(){return e(T)({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var ea=Zn,ta=new pe("auth","Firebase",Zn()),ra=new Ue("@firebase/auth");function na(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];var i;ra.logLevel<=Ce.ERROR&&(i=ra).error.apply(i,["Auth (".concat(bt,"): ").concat(t)].concat(e(E)(n)))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aa(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];throw oa.apply(void 0,[t].concat(e(E)(n)))}function ia(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];return oa.apply(void 0,[t].concat(e(E)(n)))}function sa(t,r,n){var a=Object.assign(Object.assign({},ea()),e(T)({},r,n));return new pe("auth","Firebase",a).create(r,{appName:t.name})}function oa(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];var i;if("string"!=typeof t){var s,o=n[0],u=e(E)(n.slice(1));return u[0]&&(u[0].appName=t.name),(s=t._errorFactory).create.apply(s,[o].concat(e(E)(u)))}return(i=ta).create.apply(i,[t].concat(e(E)(n)))}function ua(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i];if(!t)throw oa.apply(void 0,[r].concat(e(E)(a)))}function ca(e){var t="INTERNAL ASSERTION FAILED: "+e;throw na(t),new Error(t)}function la(e,t){e||ca(t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fa=new Map;function pa(e){la(e instanceof Function,"Expected a class definition");var t=fa.get(e);return t?(la(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,fa.set(e,t),t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function da(e,t){var r=mt(e,"auth");if(r.isInitialized()){var n=r.getImmediate();if(me(r.getOptions(),null!=t?t:{}))return n;aa(n,"already-initialized")}return r.initialize({options:t})}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function ha(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function va(){return"http:"===ma()||"https:"===ma()}function ma(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var ga=function(){"use strict";function t(r,n){e(x)(this,t),this.shortDelay=r,this.longDelay=n,la(n>r,"Short delay should be less than long delay!"),this.isMobile="undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(se())||"object"==typeof navigator&&"ReactNative"===navigator.product}return e(I)(t,[{key:"get",value:function(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(va()||oe()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),t}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ya(e,t){la(e.emulator,"Emulator should always be set here");var r=e.emulator.url;return t?"".concat(r).concat(t.startsWith("/")?t.slice(1):t):r}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ka,ba=function(){"use strict";function t(){e(x)(this,t)}return e(I)(t,null,[{key:"initialize",value:function(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void ca("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void ca("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void ca("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),t}(),wa=(ka={},e(T)(ka,"CREDENTIAL_MISMATCH","custom-token-mismatch"),e(T)(ka,"MISSING_CUSTOM_TOKEN","internal-error"),e(T)(ka,"INVALID_IDENTIFIER","invalid-email"),e(T)(ka,"MISSING_CONTINUE_URI","internal-error"),e(T)(ka,"INVALID_PASSWORD","wrong-password"),e(T)(ka,"MISSING_PASSWORD","internal-error"),e(T)(ka,"EMAIL_EXISTS","email-already-in-use"),e(T)(ka,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),e(T)(ka,"INVALID_IDP_RESPONSE","invalid-credential"),e(T)(ka,"INVALID_PENDING_TOKEN","invalid-credential"),e(T)(ka,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),e(T)(ka,"MISSING_REQ_TYPE","internal-error"),e(T)(ka,"EMAIL_NOT_FOUND","user-not-found"),e(T)(ka,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),e(T)(ka,"EXPIRED_OOB_CODE","expired-action-code"),e(T)(ka,"INVALID_OOB_CODE","invalid-action-code"),e(T)(ka,"MISSING_OOB_CODE","internal-error"),e(T)(ka,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),e(T)(ka,"INVALID_ID_TOKEN","invalid-user-token"),e(T)(ka,"TOKEN_EXPIRED","user-token-expired"),e(T)(ka,"USER_NOT_FOUND","user-token-expired"),e(T)(ka,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),e(T)(ka,"INVALID_CODE","invalid-verification-code"),e(T)(ka,"INVALID_SESSION_INFO","invalid-verification-id"),e(T)(ka,"INVALID_TEMPORARY_PROOF","invalid-credential"),e(T)(ka,"MISSING_SESSION_INFO","missing-verification-id"),e(T)(ka,"SESSION_EXPIRED","code-expired"),e(T)(ka,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),e(T)(ka,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),e(T)(ka,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),e(T)(ka,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),e(T)(ka,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),e(T)(ka,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),e(T)(ka,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),e(T)(ka,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),e(T)(ka,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),e(T)(ka,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),e(T)(ka,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),ka),_a=new ga(3e4,6e4);function xa(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function Ia(e,t,r,n){return Ta.apply(this,arguments)}function Ta(){return Ta=e(c)(e(l).mark((function t(r,n,a,i){var s,o=arguments;return e(l).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=o.length>4&&void 0!==o[4]?o[4]:{},t.abrupt("return",Ea(r,s,e(c)(e(l).mark((function t(){var s,o,u,c;return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s={},o={},i&&("GET"===n?o=i:s={body:JSON.stringify(i)}),u=ye(Object.assign({key:r.config.apiKey},o)).slice(1),e.next=6,r._getAdditionalHeaders();case 6:return(c=e.sent)["Content-Type"]="application/json",r.languageCode&&(c["X-Firebase-Locale"]=r.languageCode),e.abrupt("return",ba.fetch()(Pa(r,r.config.apiHost,a,u),Object.assign({method:n,headers:c,referrerPolicy:"no-referrer"},s)));case 10:case"end":return e.stop()}}),t)})))));case 2:case"end":return t.stop()}}),t)}))),Ta.apply(this,arguments)}function Ea(e,t,r){return Sa.apply(this,arguments)}function Sa(){return(Sa=e(c)(e(l).mark((function t(r,n,a){var i,s,o,u,c,f,p,d,h;return e(l).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r._canInitEmulator=!1,i=Object.assign(Object.assign({},wa),n),t.prev=2,s=new Ra(r),t.next=6,Promise.race([a(),s.promise]);case 6:return o=t.sent,s.clearNetworkTimeout(),t.next=10,o.json();case 10:if(!("needConfirmation"in(u=t.sent))){t.next=13;break}throw Aa(r,"account-exists-with-different-credential",u);case 13:if(!o.ok||"errorMessage"in u){t.next=17;break}return t.abrupt("return",u);case 17:if(c=o.ok?u.errorMessage:u.error.message,f=e(A)(c.split(" : "),2),p=f[0],d=f[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==p){t.next=23;break}throw Aa(r,"credential-already-in-use",u);case 23:if("EMAIL_EXISTS"!==p){t.next=27;break}throw Aa(r,"email-already-in-use",u);case 27:if("USER_DISABLED"!==p){t.next=29;break}throw Aa(r,"user-disabled",u);case 29:if(h=i[p]||p.toLowerCase().replace(/[_\s]+/g,"-"),!d){t.next=34;break}throw sa(r,h,d);case 34:aa(r,h);case 35:t.next=42;break;case 37:if(t.prev=37,t.t0=t.catch(2),!(t.t0 instanceof fe)){t.next=41;break}throw t.t0;case 41:aa(r,"network-request-failed");case 42:case"end":return t.stop()}}),t,null,[[2,37]])})))).apply(this,arguments)}function Oa(e,t,r,n){return Ca.apply(this,arguments)}function Ca(){return Ca=e(c)(e(l).mark((function t(r,n,a,i){var s,o,u=arguments;return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=u.length>4&&void 0!==u[4]?u[4]:{},e.next=3,Ia(r,n,a,i,s);case 3:return"mfaPendingCredential"in(o=e.sent)&&aa(r,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),t)}))),Ca.apply(this,arguments)}function Pa(e,t,r,n){var a="".concat(t).concat(r,"?").concat(n);return e.config.emulator?ya(e.config,a):"".concat(e.config.apiScheme,"://").concat(a)}var Ra=function(){"use strict";function t(r){var n=this;e(x)(this,t),this.auth=r,this.timer=null,this.promise=new Promise((function(e,t){var r=n;n.timer=setTimeout((function(){return t(ia(r.auth,"network-request-failed"))}),_a.get())}))}return e(I)(t,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),t}();function Aa(e,t,r){var n={appName:e.name};r.email&&(n.email=r.email),r.phoneNumber&&(n.phoneNumber=r.phoneNumber);var a=ia(e,t,n);return a.customData._tokenResponse=r,a}function Na(e,t){return Da.apply(this,arguments)}function Da(){return(Da=
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
e(c)(e(l).mark((function t(r,n){return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ia(r,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function Ma(e,t){return La.apply(this,arguments)}function La(){return(La=e(c)(e(l).mark((function t(r,n){return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ia(r,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),t)})))).apply(this,arguments)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ja(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(e){}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ua(){return Ua=e(c)(e(l).mark((function t(r){var n,a,i,s,o,u,c=arguments;return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=c.length>1&&void 0!==c[1]&&c[1],a=Te(r),e.next=4,a.getIdToken(n);case 4:return i=e.sent,ua((s=Ha(i))&&s.exp&&s.auth_time&&s.iat,a.auth,"internal-error"),o="object"==typeof s.firebase?s.firebase:void 0,u=null==o?void 0:o.sign_in_provider,e.abrupt("return",{claims:s,token:i,authTime:ja(Fa(s.auth_time)),issuedAtTime:ja(Fa(s.iat)),expirationTime:ja(Fa(s.exp)),signInProvider:u||null,signInSecondFactor:(null==o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),t)}))),Ua.apply(this,arguments)}function Fa(e){return 1e3*Number(e)}function Ha(t){var r,n=e(A)(t.split("."),3),a=n[0],i=n[1],s=n[2];if(void 0===a||void 0===i||void 0===s)return na("JWT malformed, contained fewer than 3 sections"),null;try{var o=ae(i);return o?JSON.parse(o):(na("Failed to decode base64 JWT payload"),null)}catch(e){return na("Caught error parsing JWT payload as JSON",null===(r=e)||void 0===r?void 0:r.toString()),null}}function Va(e,t){return Ba.apply(this,arguments)}function Ba(){return Ba=
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
e(c)(e(l).mark((function t(r,n){var a=arguments;return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a.length>2&&void 0!==a[2]&&a[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof fe&&za(e.t0))){e.next=15;break}if(r.auth.currentUser!==r){e.next=15;break}return e.next=15,r.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),t,null,[[3,9]])}))),Ba.apply(this,arguments)}function za(e){var t=e.code;return"auth/user-disabled"===t||"auth/user-token-expired"===t}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Wa=function(){"use strict";function t(r){e(x)(this,t),this.user=r,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return e(I)(t,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}this.errorBackoff=3e4;var n=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,n)}},{key:"schedule",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var r=this.getInterval(t),n=this;this.timerId=setTimeout(e(c)(e(l).mark((function t(){return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.iteration();case 2:case"end":return e.stop()}}),t)}))),r)}}},{key:"iteration",value:function(){var t=this;return e(c)(e(l).mark((function r(){var n;return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=1,e.next=4,t.user.getIdToken(!0);case 4:e.next=10;break;case 6:return e.prev=6,e.t0=e.catch(1),"auth/network-request-failed"===(null===(n=e.t0)||void 0===n?void 0:n.code)&&t.schedule(!0),e.abrupt("return");case 10:t.schedule();case 11:case"end":return e.stop()}}),r,null,[[1,6]])})))()}}]),t}(),qa=function(){"use strict";function t(r,n){e(x)(this,t),this.createdAt=r,this.lastLoginAt=n,this._initializeTime()}return e(I)(t,[{key:"_initializeTime",value:function(){this.lastSignInTime=ja(this.lastLoginAt),this.creationTime=ja(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),t}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ka(e){return Ga.apply(this,arguments)}function Ga(){return(Ga=
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
e(c)(e(l).mark((function t(r){var n,a,i,s,o,u,c,f,p,d,h;return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.auth,e.next=4,r.getIdToken();case 4:return i=e.sent,e.next=7,Va(r,Ma(a,{idToken:i}));case 7:ua(null==(s=e.sent)?void 0:s.users.length,a,"internal-error"),o=s.users[0],r._notifyReloadListener(o),u=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?Xa(o.providerUserInfo):[],c=$a(r.providerData,u),f=r.isAnonymous,p=!(r.email&&o.passwordHash||(null==c?void 0:c.length)),d=!!f&&p,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new qa(o.createdAt,o.lastLoginAt),isAnonymous:d},Object.assign(r,h);case 18:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function Ja(){return(Ja=e(c)(e(l).mark((function t(r){var n;return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Te(r),e.next=3,Ka(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function $a(t,r){var n=t.filter((function(e){return!r.some((function(t){return t.providerId===e.providerId}))}));return e(E)(n).concat(e(E)(r))}function Xa(e){return e.map((function(e){var t=e.providerId,r=Qn(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}}))}function Ya(e,t){return Qa.apply(this,arguments)}function Qa(){return(Qa=
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
e(c)(e(l).mark((function t(r,n){var a;return e(l).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ea(r,{},e(c)(e(l).mark((function t(){var a,i,s,o,u,c;return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=ye({grant_type:"refresh_token",refresh_token:n}).slice(1),i=r.config,s=i.tokenApiHost,o=i.apiKey,u=Pa(r,s,"/v1/token","key=".concat(o)),e.next=5,r._getAdditionalHeaders();case 5:return(c=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",ba.fetch()(u,{method:"POST",headers:c,body:a}));case 8:case"end":return e.stop()}}),t)}))));case 2:return a=t.sent,t.abrupt("return",{accessToken:a.access_token,expiresIn:a.expires_in,refreshToken:a.refresh_token});case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Za=function(){"use strict";function t(){e(x)(this,t),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return e(I)(t,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){ua(e.idToken,"internal-error"),ua(void 0!==e.idToken,"internal-error"),ua(void 0!==e.refreshToken,"internal-error");var t,r,n="expiresIn"in e&&void 0!==e.expiresIn?Number(e.expiresIn):(t=e.idToken,ua(r=Ha(t),"internal-error"),ua(void 0!==r.exp,"internal-error"),ua(void 0!==r.iat,"internal-error"),Number(r.exp)-Number(r.iat));this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}},{key:"getToken",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this;return e(c)(e(l).mark((function a(){return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ua(!n.accessToken||n.refreshToken,t,"user-token-expired"),r||!n.accessToken||n.isExpired){e.next=3;break}return e.abrupt("return",n.accessToken);case 3:if(!n.refreshToken){e.next=7;break}return e.next=6,n.refresh(t,n.refreshToken);case 6:return e.abrupt("return",n.accessToken);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),a)})))()}},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(t,r){var n=this;return e(c)(e(l).mark((function a(){var i,s,o,u;return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ya(t,r);case 2:i=e.sent,s=i.accessToken,o=i.refreshToken,u=i.expiresIn,n.updateTokensAndExpiration(s,o,Number(u));case 7:case"end":return e.stop()}}),a)})))()}},{key:"updateTokensAndExpiration",value:function(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new t,this.toJSON())}},{key:"_performRefresh",value:function(){return ca("not implemented")}}],[{key:"fromJSON",value:function(e,r){var n=r.refreshToken,a=r.accessToken,i=r.expirationTime,s=new t;return n&&(ua("string"==typeof n,"internal-error",{appName:e}),s.refreshToken=n),a&&(ua("string"==typeof a,"internal-error",{appName:e}),s.accessToken=a),i&&(ua("number"==typeof i,"internal-error",{appName:e}),s.expirationTime=i),s}}]),t}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ei(e,t){ua("string"==typeof e||void 0===e,"internal-error",{appName:t})}var ti=function(){"use strict";function t(r){e(x)(this,t);var n=r.uid,a=r.auth,i=r.stsTokenManager,s=Qn(r,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Wa(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=a,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?e(E)(s.providerData):[],this.metadata=new qa(s.createdAt||void 0,s.lastLoginAt||void 0)}return e(I)(t,[{key:"getIdToken",value:function(t){var r=this;return e(c)(e(l).mark((function n(){var a;return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Va(r,r.stsTokenManager.getToken(r.auth,t));case 2:if(ua(a=e.sent,r.auth,"internal-error"),r.accessToken===a){e.next=9;break}return r.accessToken=a,e.next=8,r.auth._persistUserIfCurrent(r);case 8:r.auth._notifyListenersIfCurrent(r);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),n)})))()}},{key:"getIdTokenResult",value:function(e){return function(e){return Ua.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return Ja.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(ua(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(e){return new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}},{key:"_onReload",value:function(e){ua(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this;return e(c)(e(l).mark((function a(){var i;return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=!1,t.idToken&&t.idToken!==n.stsTokenManager.accessToken&&(n.stsTokenManager.updateFromServerResponse(t),i=!0),!r){e.next=5;break}return e.next=5,Ka(n);case 5:return e.next=7,n.auth._persistUserIfCurrent(n);case 7:i&&n.auth._notifyListenersIfCurrent(n);case 8:case"end":return e.stop()}}),a)})))()}},{key:"delete",value:function(){var t=this;return e(c)(e(l).mark((function r(){var n;return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getIdToken();case 2:return n=e.sent,e.next=5,Va(t,Na(t.auth,{idToken:n}));case 5:return t.stsTokenManager.clearRefreshToken(),e.abrupt("return",t.auth.signOut());case 7:case"end":return e.stop()}}),r)})))()}},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(e,r){var n,a,i,s,o,u,c,l,f=null!==(n=r.displayName)&&void 0!==n?n:void 0,p=null!==(a=r.email)&&void 0!==a?a:void 0,d=null!==(i=r.phoneNumber)&&void 0!==i?i:void 0,h=null!==(s=r.photoURL)&&void 0!==s?s:void 0,v=null!==(o=r.tenantId)&&void 0!==o?o:void 0,m=null!==(u=r._redirectEventId)&&void 0!==u?u:void 0,g=null!==(c=r.createdAt)&&void 0!==c?c:void 0,y=null!==(l=r.lastLoginAt)&&void 0!==l?l:void 0,k=r.uid,b=r.emailVerified,w=r.isAnonymous,_=r.providerData,x=r.stsTokenManager;ua(k&&x,e,"internal-error");var I=Za.fromJSON(this.name,x);ua("string"==typeof k,e,"internal-error"),ei(f,e.name),ei(p,e.name),ua("boolean"==typeof b,e,"internal-error"),ua("boolean"==typeof w,e,"internal-error"),ei(d,e.name),ei(h,e.name),ei(v,e.name),ei(m,e.name),ei(g,e.name),ei(y,e.name);var T=new t({uid:k,auth:e,email:p,emailVerified:b,displayName:f,isAnonymous:w,photoURL:h,phoneNumber:d,tenantId:v,stsTokenManager:I,createdAt:g,lastLoginAt:y});return _&&Array.isArray(_)&&(T.providerData=_.map((function(e){return Object.assign({},e)}))),m&&(T._redirectEventId=m),T}},{key:"_fromIdTokenResponse",value:function(r,n){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return e(c)(e(l).mark((function i(){var s,o;return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(s=new Za).updateFromServerResponse(n),o=new t({uid:n.localId,auth:r,stsTokenManager:s,isAnonymous:a}),e.next=5,Ka(o);case 5:return e.abrupt("return",o);case 6:case"end":return e.stop()}}),i)})))()}}]),t}(),ri=function(){"use strict";function t(){e(x)(this,t),this.type="NONE",this.storage={}}return e(I)(t,[{key:"_isAvailable",value:function(){return e(c)(e(l).mark((function t(){return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),t)})))()}},{key:"_set",value:function(t,r){var n=this;return e(c)(e(l).mark((function a(){return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.storage[t]=r;case 1:case"end":return e.stop()}}),a)})))()}},{key:"_get",value:function(t){var r=this;return e(c)(e(l).mark((function n(){var a;return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.storage[t],e.abrupt("return",void 0===a?null:a);case 2:case"end":return e.stop()}}),n)})))()}},{key:"_remove",value:function(t){var r=this;return e(c)(e(l).mark((function n(){return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete r.storage[t];case 1:case"end":return e.stop()}}),n)})))()}},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),t}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ri.type="NONE";var ni=ri;
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ai(e,t,r){return"firebase:".concat(e,":").concat(t,":").concat(r)}var ii=function(){"use strict";function t(r,n,a){e(x)(this,t),this.persistence=r,this.auth=n,this.userKey=a;var i=this.auth,s=i.config,o=i.name;this.fullUserKey=ai(this.userKey,s.apiKey,o),this.fullPersistenceKey=ai("persistence",s.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return e(I)(t,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var t=this;return e(c)(e(l).mark((function r(){var n;return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.persistence._get(t.fullUserKey);case 2:return n=e.sent,e.abrupt("return",n?ti._fromJSON(t.auth,n):null);case 4:case"end":return e.stop()}}),r)})))()}},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(t){var r=this;return e(c)(e(l).mark((function n(){var a;return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,r.getCurrentUser();case 4:return a=e.sent,e.next=7,r.removeCurrentUser();case 7:if(r.persistence=t,!a){e.next=10;break}return e.abrupt("return",r.setCurrentUser(a));case 10:case"end":return e.stop()}}),n)})))()}},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(r,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";return e(c)(e(l).mark((function i(){var s,o,u,f,p,d,h,v,m,g,y,k,b;return e(l).wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(n.length){i.next=2;break}return i.abrupt("return",new t(pa(ni),r,a));case 2:return i.next=4,Promise.all(n.map(function(){var t=e(c)(e(l).mark((function t(r){return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",r);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()));case 4:s=i.sent.filter((function(e){return e})),o=s[0]||pa(ni),u=ai(a,r.config.apiKey,r.name),f=null,p=!0,d=!1,h=void 0,i.prev=9,v=n[Symbol.iterator]();case 11:if(p=(m=v.next()).done){i.next=29;break}return g=m.value,i.prev=13,i.next=16,g._get(u);case 16:if(!(y=i.sent)){i.next=22;break}return k=ti._fromJSON(r,y),g!==o&&(f=k),o=g,i.abrupt("break",29);case 22:i.next=26;break;case 24:i.prev=24,i.t0=i.catch(13);case 26:p=!0,i.next=11;break;case 29:i.next=35;break;case 31:i.prev=31,i.t1=i.catch(9),d=!0,h=i.t1;case 35:i.prev=35,i.prev=36,p||null==v.return||v.return();case 38:if(i.prev=38,!d){i.next=41;break}throw h;case 41:return i.finish(38);case 42:return i.finish(35);case 43:if(b=s.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&b.length){i.next=46;break}return i.abrupt("return",new t(o,r,a));case 46:if(o=b[0],!f){i.next=50;break}return i.next=50,o._set(u,f.toJSON());case 50:return i.next=52,Promise.all(n.map(function(){var t=e(c)(e(l).mark((function t(r){return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r===o){e.next=8;break}return e.prev=1,e.next=4,r._remove(u);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),t,null,[[1,6]])})));return function(e){return t.apply(this,arguments)}}()));case 52:return i.abrupt("return",new t(o,r,a));case 53:case"end":return i.stop()}}),i,null,[[9,31,35,43],[13,24],[36,,38,42]])})))()}}]),t}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function si(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(li(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(oi(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(pi(t))return"Blackberry";if(di(t))return"Webos";if(ui(t))return"Safari";if((t.includes("chrome/")||ci(t))&&!t.includes("edge/"))return"Chrome";if(fi(t))return"Android";var r=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null==r?void 0:r.length)?r[1]:"Other"}function oi(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:se();return/firefox\//i.test(e)}function ui(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:se(),t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function ci(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:se();return/crios\//i.test(e)}function li(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:se();return/iemobile/i.test(e)}function fi(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:se();return/android/i.test(e)}function pi(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:se();return/blackberry/i.test(e)}function di(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:se();return/webos/i.test(e)}function hi(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:se();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function vi(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:se();return hi(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}function mi(){return((e=se()).indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0)&&10===document.documentMode;var e}function gi(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:se();return hi(e)||fi(e)||di(e)||pi(e)||/windows phone/i.test(e)||li(e)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function yi(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=si(se());break;case"Worker":t="".concat(si(se()),"-").concat(e);break;default:t=e}var n=r.length?r.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(bt,"/").concat(n)}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ki=function(){"use strict";function t(r){e(x)(this,t),this.auth=r,this.queue=[]}return e(I)(t,[{key:"pushCallback",value:function(e,t){var r=this,n=function(t){return new Promise((function(r,n){try{r(e(t))}catch(e){n(e)}}))};n.onAbort=t,this.queue.push(n);var a=this.queue.length-1;return function(){r.queue[a]=function(){return Promise.resolve()}}}},{key:"runMiddleware",value:function(t){var r=this;return e(c)(e(l).mark((function n(){var a,i,s,o,u,c,f,p,d,h,v,m,g,y;return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.auth.currentUser!==t){e.next=3;break}return e.abrupt("return");case 3:i=[],e.prev=4,s=!0,o=!1,u=void 0,e.prev=6,c=r.queue[Symbol.iterator]();case 8:if(s=(f=c.next()).done){e.next=16;break}return p=f.value,e.next=12,p(t);case 12:p.onAbort&&i.push(p.onAbort);case 13:s=!0,e.next=8;break;case 16:e.next=22;break;case 18:e.prev=18,e.t0=e.catch(6),o=!0,u=e.t0;case 22:e.prev=22,e.prev=23,s||null==c.return||c.return();case 25:if(e.prev=25,!o){e.next=28;break}throw u;case 28:return e.finish(25);case 29:return e.finish(22);case 30:e.next=53;break;case 32:for(e.prev=32,e.t1=e.catch(4),i.reverse(),d=!0,h=!1,v=void 0,e.prev=36,m=i[Symbol.iterator]();!(d=(g=m.next()).done);d=!0){y=g.value;try{y()}catch(e){}}e.next=44;break;case 40:e.prev=40,e.t2=e.catch(36),h=!0,v=e.t2;case 44:e.prev=44,e.prev=45,d||null==m.return||m.return();case 47:if(e.prev=47,!h){e.next=50;break}throw v;case 50:return e.finish(47);case 51:return e.finish(44);case 52:throw r.auth._errorFactory.create("login-blocked",{originalMessage:null===(a=e.t1)||void 0===a?void 0:a.message});case 53:case"end":return e.stop()}}),n,null,[[4,32],[6,18,22,30],[23,,25,29],[36,40,44,52],[45,,47,51]])})))()}}]),t}(),bi=function(){"use strict";function t(r,n,a){e(x)(this,t),this.app=r,this.heartbeatServiceProvider=n,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new _i(this),this.idTokenSubscription=new _i(this),this.beforeStateQueue=new ki(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ta,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=r.name,this.clientVersion=a.sdkClientVersion}return e(I)(t,[{key:"_initializeWithPersistence",value:function(t,r){r&&(this._popupRedirectResolver=pa(r));var n=this;return this._initializationPromise=this.queue(e(c)(e(l).mark((function a(){var i,s;return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n._deleted){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,ii.create(n,t);case 5:if(n.persistenceManager=e.sent,!n._deleted){e.next=8;break}return e.abrupt("return");case 8:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){e.next=16;break}return e.prev=9,e.next=12,n._popupRedirectResolver._initialize(n);case 12:e.next=16;break;case 14:e.prev=14,e.t0=e.catch(9);case 16:return e.next=18,n.initializeCurrentUser(r);case 18:if(n.lastNotifiedUid=(null===(s=n.currentUser)||void 0===s?void 0:s.uid)||null,!n._deleted){e.next=21;break}return e.abrupt("return");case 21:n._isInitialized=!0;case 22:case"end":return e.stop()}}),a,null,[[9,14]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var t=this;return e(c)(e(l).mark((function r(){var n;return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,t.assertedPersistence.getCurrentUser();case 4:if(n=e.sent,t.currentUser||n){e.next=7;break}return e.abrupt("return");case 7:if(!t.currentUser||!n||t.currentUser.uid!==n.uid){e.next=12;break}return t._currentUser._assign(n),e.next=11,t.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,t._updateCurrentUser(n,!0);case 14:case"end":return e.stop()}}),r)})))()}},{key:"initializeCurrentUser",value:function(t){var r=this;return e(c)(e(l).mark((function n(){var a,i,s,o,u,c,f;return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,r.assertedPersistence.getCurrentUser();case 3:if(i=e.sent,s=i,o=!1,!t||!r.config.authDomain){e.next=15;break}return e.next=9,r.getOrInitRedirectPersistenceManager();case 9:return u=null===(a=r.redirectUser)||void 0===a?void 0:a._redirectEventId,c=null==s?void 0:s._redirectEventId,e.next=13,r.tryRedirectSignIn(t);case 13:f=e.sent,u&&u!==c||!(null==f?void 0:f.user)||(s=f.user,o=!0);case 15:if(s){e.next=17;break}return e.abrupt("return",r.directlySetCurrentUser(null));case 17:if(s._redirectEventId){e.next=33;break}if(!o){e.next=28;break}return e.prev=19,e.next=22,r.beforeStateQueue.runMiddleware(s);case 22:e.next=28;break;case 24:e.prev=24,e.t0=e.catch(19),s=i,r._popupRedirectResolver._overrideRedirectResult(r,(function(){return Promise.reject(e.t0)}));case 28:if(!s){e.next=32;break}return e.abrupt("return",r.reloadAndSetCurrentUserOrClear(s));case 32:return e.abrupt("return",r.directlySetCurrentUser(null));case 33:return ua(r._popupRedirectResolver,r,"argument-error"),e.next=36,r.getOrInitRedirectPersistenceManager();case 36:if(!r.redirectUser||r.redirectUser._redirectEventId!==s._redirectEventId){e.next=38;break}return e.abrupt("return",r.directlySetCurrentUser(s));case 38:return e.abrupt("return",r.reloadAndSetCurrentUserOrClear(s));case 39:case"end":return e.stop()}}),n,null,[[19,24]])})))()}},{key:"tryRedirectSignIn",value:function(t){var r=this;return e(c)(e(l).mark((function n(){var a;return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=null,e.prev=1,e.next=4,r._popupRedirectResolver._completeRedirectFn(r,t,!0);case 4:a=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,r._setRedirectUser(null);case 11:return e.abrupt("return",a);case 12:case"end":return e.stop()}}),n,null,[[1,7]])})))()}},{key:"reloadAndSetCurrentUserOrClear",value:function(t){var r=this;return e(c)(e(l).mark((function n(){var a;return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=1,e.next=4,Ka(t);case 4:e.next=10;break;case 6:if(e.prev=6,e.t0=e.catch(1),"auth/network-request-failed"===(null===(a=e.t0)||void 0===a?void 0:a.code)){e.next=10;break}return e.abrupt("return",r.directlySetCurrentUser(null));case 10:return e.abrupt("return",r.directlySetCurrentUser(t));case 11:case"end":return e.stop()}}),n,null,[[1,6]])})))()}},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"==typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var t=this;return e(c)(e(l).mark((function r(){return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t._deleted=!0;case 1:case"end":return e.stop()}}),r)})))()}},{key:"updateCurrentUser",value:function(t){var r=this;return e(c)(e(l).mark((function n(){var a;return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=t?Te(t):null)&&ua(a.auth.config.apiKey===r.config.apiKey,r,"invalid-user-token"),e.abrupt("return",r._updateCurrentUser(a&&a._clone(r)));case 3:case"end":return e.stop()}}),n)})))()}},{key:"_updateCurrentUser",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this;return e(c)(e(l).mark((function a(){return e(l).wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!n._deleted){a.next=2;break}return a.abrupt("return");case 2:if(t&&ua(n.tenantId===t.tenantId,n,"tenant-id-mismatch"),r){a.next=6;break}return a.next=6,n.beforeStateQueue.runMiddleware(t);case 6:return a.abrupt("return",n.queue(e(c)(e(l).mark((function r(){return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.directlySetCurrentUser(t);case 2:n.notifyAuthListeners();case 3:case"end":return e.stop()}}),r)})))));case 7:case"end":return a.stop()}}),a)})))()}},{key:"signOut",value:function(){var t=this;return e(c)(e(l).mark((function r(){return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.beforeStateQueue.runMiddleware(null);case 2:if(!t.redirectPersistenceManager&&!t._popupRedirectResolver){e.next=5;break}return e.next=5,t._setRedirectUser(null);case 5:return e.abrupt("return",t._updateCurrentUser(null,!0));case 6:case"end":return e.stop()}}),r)})))()}},{key:"setPersistence",value:function(t){var r=this;return this.queue(e(c)(e(l).mark((function n(){return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.assertedPersistence.setPersistence(pa(t));case 2:case"end":return e.stop()}}),n)}))))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new pe("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}},{key:"beforeAuthStateChanged",value:function(e,t){return this.beforeStateQueue.pushCallback(e,t)}},{key:"onIdTokenChanged",value:function(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(t,r){var n=this;return e(c)(e(l).mark((function a(){var i;return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.getOrInitRedirectPersistenceManager(r);case 2:return i=e.sent,e.abrupt("return",null===t?i.removeCurrentUser():i.setCurrentUser(t));case 4:case"end":return e.stop()}}),a)})))()}},{key:"getOrInitRedirectPersistenceManager",value:function(t){var r=this;return e(c)(e(l).mark((function n(){var a;return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.redirectPersistenceManager){e.next=9;break}return ua(a=t&&pa(t)||r._popupRedirectResolver,r,"argument-error"),e.next=5,ii.create(r,[pa(a._redirectPersistence)],"redirectUser");case 5:return r.redirectPersistenceManager=e.sent,e.next=8,r.redirectPersistenceManager.getCurrentUser();case 8:r.redirectUser=e.sent;case 9:return e.abrupt("return",r.redirectPersistenceManager);case 10:case"end":return e.stop()}}),n)})))()}},{key:"_redirectUserForId",value:function(t){var r=this;return e(c)(e(l).mark((function n(){var a,i;return e(l).wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!r._isInitialized){n.next=4;break}return n.next=4,r.queue(e(c)(e(l).mark((function t(){return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),t)}))));case 4:if((null===(a=r._currentUser)||void 0===a?void 0:a._redirectEventId)!==t){n.next=6;break}return n.abrupt("return",r._currentUser);case 6:if((null===(i=r.redirectUser)||void 0===i?void 0:i._redirectEventId)!==t){n.next=8;break}return n.abrupt("return",r.redirectUser);case 8:return n.abrupt("return",null);case 9:case"end":return n.stop()}}),n)})))()}},{key:"_persistUserIfCurrent",value:function(t){var r=this;return e(c)(e(l).mark((function n(){return e(l).wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t!==r.currentUser){n.next=2;break}return n.abrupt("return",r.queue(e(c)(e(l).mark((function n(){return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",r.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),n)})))));case 2:case"end":return n.stop()}}),n)})))()}},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var r=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,r,n){var a=this;if(this._deleted)return function(){};var i="function"==typeof t?t:t.next.bind(t),s=this._isInitialized?Promise.resolve():this._initializationPromise;return ua(s,this,"internal-error"),s.then((function(){return i(a.currentUser)})),"function"==typeof t?e.addObserver(t,r,n):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(t){var r=this;return e(c)(e(l).mark((function n(){return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.currentUser&&r.currentUser!==t&&(r._currentUser._stopProactiveRefresh(),t&&r.isProactiveRefreshEnabled&&t._startProactiveRefresh()),r.currentUser=t,!t){e.next=7;break}return e.next=5,r.assertedPersistence.setCurrentUser(t);case 5:e.next=9;break;case 7:return e.next=9,r.assertedPersistence.removeCurrentUser();case 9:case"end":return e.stop()}}),n)})))()}},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return ua(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=yi(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var t=this;return e(c)(e(l).mark((function r(){var n,a,i;return e(l).wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a=e(T)({},"X-Client-Version",t.clientVersion),t.app.options.appId&&(a["X-Firebase-gmpid"]=t.app.options.appId),r.next=5,null===(n=t.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getHeartbeatsHeader();case 5:return(i=r.sent)&&(a["X-Firebase-Client"]=i),r.abrupt("return",a);case 8:case"end":return r.stop()}}),r)})))()}}]),t}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wi(e){return Te(e)}var _i=function(){"use strict";function t(r){var n,a,i=this;e(x)(this,t),this.auth=r,this.observer=null,this.addObserver=(a=new we((function(e){return i.observer=e}),n)).subscribe.bind(a)}return e(I)(t,[{key:"next",get:function(){return ua(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),t}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var xi=function(){"use strict";function t(r,n){e(x)(this,t),this.providerId=r,this.signInMethod=n}return e(I)(t,[{key:"toJSON",value:function(){return ca("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return ca("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return ca("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return ca("not implemented")}}]),t}();function Ii(e,t){return Ti.apply(this,arguments)}function Ti(){return(Ti=e(c)(e(l).mark((function t(r,n){return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ia(r,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function Ei(e,t){return Si.apply(this,arguments)}function Si(){return(Si=
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
e(c)(e(l).mark((function t(r,n){return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Oa(r,"POST","/v1/accounts:signInWithPassword",xa(r,n)));case 1:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function Oi(e,t){return Ci.apply(this,arguments)}function Ci(){return(Ci=
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
e(c)(e(l).mark((function t(r,n){return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Oa(r,"POST","/v1/accounts:signInWithEmailLink",xa(r,n)));case 1:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function Pi(e,t){return Ri.apply(this,arguments)}function Ri(){return(Ri=e(c)(e(l).mark((function t(r,n){return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Oa(r,"POST","/v1/accounts:signInWithEmailLink",xa(r,n)));case 1:case"end":return e.stop()}}),t)})))).apply(this,arguments)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ai=function(t){"use strict";e(F)(n,t);var r=e(X)(n);function n(t,a,i){var s,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return e(x)(this,n),(s=r.call(this,"password",i))._email=t,s._password=a,s._tenantId=o,s}return e(I)(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(t){var r=this;return e(c)(e(l).mark((function n(){return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=r.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",Ei(t,{returnSecureToken:!0,email:r._email,password:r._password}));case 4:return e.abrupt("return",Oi(t,{email:r._email,oobCode:r._password}));case 5:aa(t,"internal-error");case 6:case"end":return e.stop()}}),n)})))()}},{key:"_linkToIdToken",value:function(t,r){var n=this;return e(c)(e(l).mark((function a(){return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=n.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",Ii(t,{idToken:r,returnSecureToken:!0,email:n._email,password:n._password}));case 4:return e.abrupt("return",Pi(t,{idToken:r,email:n._email,oobCode:n._password}));case 5:aa(t,"internal-error");case 6:case"end":return e.stop()}}),a)})))()}},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new n(e,t,"emailLink",r)}},{key:"fromJSON",value:function(e){var t="string"==typeof e?JSON.parse(e):e;if((null==t?void 0:t.email)&&(null==t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(xi);function Ni(e,t){return Di.apply(this,arguments)}function Di(){return(Di=
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
e(c)(e(l).mark((function t(r,n){return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Oa(r,"POST","/v1/accounts:signInWithIdp",xa(r,n)));case 1:case"end":return e.stop()}}),t)})))).apply(this,arguments)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mi=function(t){"use strict";e(F)(n,t);var r=e(X)(n);function n(){var t;return e(x)(this,n),(t=r.call.apply(r,[this].concat(Array.prototype.slice.call(arguments)))).pendingToken=null,t}return e(I)(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return Ni(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var r=this.buildRequest();return r.idToken=t,Ni(e,r)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,Ni(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=ye(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):aa("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"==typeof e?JSON.parse(e):e,r=t.providerId,a=t.signInMethod,i=Qn(t,["providerId","signInMethod"]);if(!r||!a)return null;var s=new n(r,a);return s.idToken=i.idToken||void 0,s.accessToken=i.accessToken||void 0,s.secret=i.secret,s.nonce=i.nonce,s.pendingToken=i.pendingToken||null,s}}]),n}(xi);function Li(e,t){return ji.apply(this,arguments)}function ji(){return(ji=
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
e(c)(e(l).mark((function t(r,n){return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ia(r,"POST","/v1/accounts:sendVerificationCode",xa(r,n)));case 1:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function Ui(){return(Ui=e(c)(e(l).mark((function t(r,n){return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Oa(r,"POST","/v1/accounts:signInWithPhoneNumber",xa(r,n)));case 1:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function Fi(){return(Fi=e(c)(e(l).mark((function t(r,n){var a;return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Oa(r,"POST","/v1/accounts:signInWithPhoneNumber",xa(r,n));case 2:if(!(a=e.sent).temporaryProof){e.next=5;break}throw Aa(r,"account-exists-with-different-credential",a);case 5:return e.abrupt("return",a);case 6:case"end":return e.stop()}}),t)})))).apply(this,arguments)}var Hi=e(T)({},"USER_NOT_FOUND","user-not-found");function Vi(){return(Vi=e(c)(e(l).mark((function t(r,n){var a;return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",Oa(r,"POST","/v1/accounts:signInWithPhoneNumber",xa(r,a),Hi));case 2:case"end":return e.stop()}}),t)})))).apply(this,arguments)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Bi=function(t){"use strict";e(F)(n,t);var r=e(X)(n);function n(t){var a;return e(x)(this,n),(a=r.call(this,"phone","phone")).params=t,a}return e(I)(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return Ui.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return Fi.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return Vi.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,r=e.phoneNumber,n=e.verificationId,a=e.verificationCode;return t&&r?{temporaryProof:t,phoneNumber:r}:{sessionInfo:n,code:a}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"==typeof e&&(e=JSON.parse(e));var t=e.verificationId,r=e.verificationCode,a=e.phoneNumber,i=e.temporaryProof;return r||t||a||i?new n({verificationId:t,verificationCode:r,phoneNumber:a,temporaryProof:i}):null}}]),n}(xi);
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zi=function(){"use strict";function t(r){var n,a,i,s,o,u;e(x)(this,t);var c=ke(be(r)),l=null!==(n=c.apiKey)&&void 0!==n?n:null,f=null!==(a=c.oobCode)&&void 0!==a?a:null,p=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=c.mode)&&void 0!==i?i:null);ua(l&&f&&p,"argument-error"),this.apiKey=l,this.operation=p,this.code=f,this.continueUrl=null!==(s=c.continueUrl)&&void 0!==s?s:null,this.languageCode=null!==(o=c.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(u=c.tenantId)&&void 0!==u?u:null}return e(I)(t,null,[{key:"parseLink",value:function(e){var r=function(e){var t=ke(be(e)).link,r=t?ke(be(t)).deep_link_id:null,n=ke(be(e)).deep_link_id;return(n?ke(be(n)).link:null)||n||r||t||e}(e);try{return new t(r)}catch(e){return null}}}]),t}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Wi=function(){"use strict";function t(){e(x)(this,t),this.providerId=t.PROVIDER_ID}return e(I)(t,null,[{key:"credential",value:function(e,t){return Ai._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var r=zi.parseLink(t);return ua(r,"argument-error"),Ai._fromEmailAndCode(e,r.code,r.tenantId)}}]),t}();Wi.PROVIDER_ID="password",Wi.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Wi.EMAIL_LINK_SIGN_IN_METHOD="emailLink";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var qi=function(){"use strict";function t(r){e(x)(this,t),this.providerId=r,this.defaultLanguageCode=null,this.customParameters={}}return e(I)(t,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),t}(),Ki=function(t){"use strict";e(F)(n,t);var r=e(X)(n);function n(){var t;return e(x)(this,n),(t=r.call.apply(r,[this].concat(Array.prototype.slice.call(arguments)))).scopes=[],t}return e(I)(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return e(E)(this.scopes)}}]),n}(qi),Gi=function(t){"use strict";e(F)(n,t);var r=e(X)(n);function n(){return e(x)(this,n),r.call(this,"facebook.com")}return e(I)(n,null,[{key:"credential",value:function(e){return Mi._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(e){return null}}}]),n}(Ki);
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Gi.FACEBOOK_SIGN_IN_METHOD="facebook.com",Gi.PROVIDER_ID="facebook.com";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Ji=function(t){"use strict";e(F)(n,t);var r=e(X)(n);function n(){var t;return e(x)(this,n),(t=r.call(this,"google.com")).addScope("profile"),t}return e(I)(n,null,[{key:"credential",value:function(e,t){return Mi._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,a=t.oauthAccessToken;if(!r&&!a)return null;try{return n.credential(r,a)}catch(e){return null}}}]),n}(Ki);Ji.GOOGLE_SIGN_IN_METHOD="google.com",Ji.PROVIDER_ID="google.com";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var $i=function(t){"use strict";e(F)(n,t);var r=e(X)(n);function n(){return e(x)(this,n),r.call(this,"github.com")}return e(I)(n,null,[{key:"credential",value:function(e){return Mi._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(e){return null}}}]),n}(Ki);$i.GITHUB_SIGN_IN_METHOD="github.com",$i.PROVIDER_ID="github.com";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Xi=function(t){"use strict";e(F)(n,t);var r=e(X)(n);function n(){return e(x)(this,n),r.call(this,"twitter.com")}return e(I)(n,null,[{key:"credential",value:function(e,t){return Mi._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,a=t.oauthTokenSecret;if(!r||!a)return null;try{return n.credential(r,a)}catch(e){return null}}}]),n}(Ki);function Yi(e,t){return Qi.apply(this,arguments)}function Qi(){return(Qi=
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
e(c)(e(l).mark((function t(r,n){return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Oa(r,"POST","/v1/accounts:signUp",xa(r,n)));case 1:case"end":return e.stop()}}),t)})))).apply(this,arguments)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Xi.TWITTER_SIGN_IN_METHOD="twitter.com",Xi.PROVIDER_ID="twitter.com";var Zi=function(){"use strict";function t(r){e(x)(this,t),this.user=r.user,this.providerId=r.providerId,this._tokenResponse=r._tokenResponse,this.operationType=r.operationType}return e(I)(t,null,[{key:"_fromIdTokenResponse",value:function(r,n,a){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return e(c)(e(l).mark((function s(){var o,u,c;return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ti._fromIdTokenResponse(r,a,i);case 2:return o=e.sent,u=es(a),c=new t({user:o,providerId:u,_tokenResponse:a,operationType:n}),e.abrupt("return",c);case 6:case"end":return e.stop()}}),s)})))()}},{key:"_forOperation",value:function(r,n,a){return e(c)(e(l).mark((function i(){var s;return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._updateTokensIfNecessary(a,!0);case 2:return s=es(a),e.abrupt("return",new t({user:r,providerId:s,_tokenResponse:a,operationType:n}));case 4:case"end":return e.stop()}}),i)})))()}}]),t}();function es(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var ts=function(t){"use strict";e(F)(n,t);var r=e(X)(n);function n(t,a,i,s){var o,u;return e(x)(this,n),(o=r.call(this,a.code,a.message)).operationType=i,o.user=s,Object.setPrototypeOf(e(U)(o),n.prototype),o.customData={appName:t.name,tenantId:null!==(u=t.tenantId)&&void 0!==u?u:void 0,_serverResponse:a.customData._serverResponse,operationType:i},o}return e(I)(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,a){return new n(e,t,r,a)}}]),n}(fe);function rs(e,t,r,n){return("reauthenticate"===t?r._getReauthenticationResolver(e):r._getIdTokenResponse(e)).catch((function(r){if("auth/multi-factor-auth-required"===r.code)throw ts._fromErrorAndOperation(e,r,t,n);throw r}))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ns(e,t){return as.apply(this,arguments)}function as(){return as=e(c)(e(l).mark((function t(r,n){var a,i,s=arguments;return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=s.length>2&&void 0!==s[2]&&s[2],e.t0=Va,e.t1=r,e.t2=n,e.t3=r.auth,e.next=7,r.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=a,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",Zi._forOperation(r,"link",i));case 14:case"end":return e.stop()}}),t)}))),as.apply(this,arguments)}function is(e,t){return ss.apply(this,arguments)}function ss(){return ss=
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
e(c)(e(l).mark((function t(r,n){var a,i,s,o,u,c,f,p=arguments;return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=p.length>2&&void 0!==p[2]&&p[2],s=r.auth,o="reauthenticate",e.prev=4,e.next=7,Va(r,rs(s,o,n,r),a);case 7:return ua((u=e.sent).idToken,s,"internal-error"),ua(c=Ha(u.idToken),s,"internal-error"),f=c.sub,ua(r.uid===f,s,"user-mismatch"),e.abrupt("return",Zi._forOperation(r,o,u));case 16:throw e.prev=16,e.t0=e.catch(4),"auth/user-not-found"===(null===(i=e.t0)||void 0===i?void 0:i.code)&&aa(s,"user-mismatch"),e.t0;case 20:case"end":return e.stop()}}),t,null,[[4,16]])}))),ss.apply(this,arguments)}function os(e,t){return us.apply(this,arguments)}function us(){return us=
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
e(c)(e(l).mark((function t(r,n){var a,i,s,o,u=arguments;return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=u.length>2&&void 0!==u[2]&&u[2],i="signIn",e.next=4,rs(r,i,n);case 4:return s=e.sent,e.next=7,Zi._fromIdTokenResponse(r,i,s);case 7:if(o=e.sent,a){e.next=11;break}return e.next=11,r._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),t)}))),us.apply(this,arguments)}function cs(e,t){return ls.apply(this,arguments)}function ls(){return(ls=e(c)(e(l).mark((function t(r,n){return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",os(wi(r),n));case 1:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function fs(e,t,r){return ps.apply(this,arguments)}function ps(){return(ps=e(c)(e(l).mark((function t(r,n,a){var i,s,o;return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=wi(r),e.next=3,Yi(i,{returnSecureToken:!0,email:n,password:a});case 3:return s=e.sent,e.next=6,Zi._fromIdTokenResponse(i,"signIn",s);case 6:return o=e.sent,e.next=9,i._updateCurrentUser(o.user);case 9:return e.abrupt("return",o);case 10:case"end":return e.stop()}}),t)})))).apply(this,arguments)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function ds(e,t){return Ia(e,"POST","/v2/accounts/mfaEnrollment:start",xa(e,t))}new WeakMap;var hs="__sak",vs=function(){"use strict";function t(r,n){e(x)(this,t),this.storageRetriever=r,this.type=n}return e(I)(t,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(hs,"1"),this.storage.removeItem(hs),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),t}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ms=function(t){"use strict";e(F)(n,t);var r=e(X)(n);function n(){var t,a;return e(x)(this,n),(t=r.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(e,r){return t.onStorageEvent(e,r)},t.listeners={},t.localCache={},t.pollTimer=null,t.safariLocalStorageNotSynced=(ui(a=se())||hi(a))&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),t.fallbackToPolling=gi(),t._shouldAllowMigration=!0,t}return e(I)(n,[{key:"forAllChangedKeys",value:function(e){var t=!0,r=!1,n=void 0;try{for(var a,i=Object.keys(this.listeners)[Symbol.iterator]();!(t=(a=i.next()).done);t=!0){var s=a.value,o=this.storage.getItem(s),u=this.localCache[s];o!==u&&e(s,u,o)}}catch(e){r=!0,n=e}finally{try{t||null==i.return||i.return()}finally{if(r)throw n}}}},{key:"onStorageEvent",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this;if(e.key){var n=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var a=this.storage.getItem(n);if(e.newValue!==a)null!==e.newValue?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!t)return}var i=function(){var e=r.storage.getItem(n);(t||r.localCache[n]!==e)&&r.notifyListeners(n,e)},s=this.storage.getItem(n);mi()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,10):i()}else{var o=this;this.forAllChangedKeys((function(e,t,r){o.notifyListeners(e,r)}))}}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var r=this.listeners[e],n=!0,a=!1,i=void 0;if(r)try{for(var s,o=Array.from(r)[Symbol.iterator]();!(n=(s=o.next()).done);n=!0){(0,s.value)(t?JSON.parse(t):t)}}catch(e){a=!0,i=e}finally{try{n||null==o.return||o.return()}finally{if(a)throw i}}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){var t=e;e.forAllChangedKeys((function(e,r,n){t.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:r,newValue:n}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(t,r){var a=this,i=this;return e(c)(e(l).mark((function s(){return e(l).wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,e(Jn)(e(Yn)(n.prototype),"_set",a).call(i,t,r);case 2:i.localCache[t]=JSON.stringify(r);case 3:case"end":return s.stop()}}),s)})))()}},{key:"_get",value:function(t){var r=this,a=this;return e(c)(e(l).mark((function i(){var s;return e(l).wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,e(Jn)(e(Yn)(n.prototype),"_get",r).call(a,t);case 2:return s=i.sent,a.localCache[t]=JSON.stringify(s),i.abrupt("return",s);case 5:case"end":return i.stop()}}),i)})))()}},{key:"_remove",value:function(t){var r=this,a=this;return e(c)(e(l).mark((function i(){return e(l).wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,e(Jn)(e(Yn)(n.prototype),"_remove",r).call(a,t);case 2:delete a.localCache[t];case 3:case"end":return i.stop()}}),i)})))()}}]),n}(vs);ms.type="LOCAL";var gs=ms,ys=function(t){"use strict";e(F)(n,t);var r=e(X)(n);function n(){return e(x)(this,n),r.call(this,(function(){return window.sessionStorage}),"SESSION")}return e(I)(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(vs);
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ys.type="SESSION";var ks=ys;
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bs(t){return Promise.all(t.map((r=e(c)(e(l).mark((function t(r){var n;return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),t,null,[[0,7]])}))),function(e){return r.apply(this,arguments)})));var r}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ws=function(){"use strict";function t(r){e(x)(this,t),this.eventTarget=r,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return e(I)(t,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(t){var r=this;return e(c)(e(l).mark((function n(){var a,i,s,o,u,f,p,d;return e(l).wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(i=(a=t).data,s=i.eventId,o=i.eventType,u=i.data,null==(f=r.handlersMap[o])?void 0:f.size){n.next=5;break}return n.abrupt("return");case 5:return a.ports[0].postMessage({status:"ack",eventId:s,eventType:o}),p=Array.from(f).map(function(){var t=e(c)(e(l).mark((function t(r){return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",r(a.origin,u));case 1:case"end":return e.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),n.next=9,bs(p);case 9:d=n.sent,a.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:d});case 11:case"end":return n.stop()}}),n)})))()}},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(e){var r=this.receivers.find((function(t){return t.isListeningto(e)}));if(r)return r;var n=new t(e);return this.receivers.push(n),n}}]),t}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function _s(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,r="",n=0;n<t;n++)r+=Math.floor(10*Math.random());return e+r}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ws.receivers=[];var xs=function(){"use strict";function t(r){e(x)(this,t),this.target=r,this.handlers=new Set}return e(I)(t,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50,a=this;return e(c)(e(l).mark((function i(){var s,o,u;return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s="undefined"!=typeof MessageChannel?new MessageChannel:null){e.next=3;break}throw new Error("connection_unavailable");case 3:return e.abrupt("return",new Promise((function(e,i){var c=_s("",20);s.port1.start();var l=setTimeout((function(){i(new Error("unsupported_event"))}),n);u={messageChannel:s,onMessage:function(t){var r=t;if(r.data.eventId===c)switch(r.data.status){case"ack":clearTimeout(l),o=setTimeout((function(){i(new Error("timeout"))}),3e3);break;case"done":clearTimeout(o),e(r.data.response);break;default:clearTimeout(l),clearTimeout(o),i(new Error("invalid_response"))}}},a.handlers.add(u),s.port1.addEventListener("message",u.onMessage),a.target.postMessage({eventType:t,eventId:c,data:r},[s.port2])})).finally((function(){u&&a.removeMessageHandler(u)})));case 6:case"end":return e.stop()}}),i)})))()}}]),t}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Is(){return window}
/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Ts(){return void 0!==Is().WorkerGlobalScope&&"function"==typeof Is().importScripts}function Es(){return Ss.apply(this,arguments)}function Ss(){return(Ss=e(c)(e(l).mark((function t(){var r;return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return r=e.sent,e.abrupt("return",r.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),t,null,[[2,9]])})))).apply(this,arguments)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Os="firebaseLocalStorageDb",Cs="firebaseLocalStorage",Ps="fbase_key",Rs=function(){"use strict";function t(r){e(x)(this,t),this.request=r}return e(I)(t,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,r){var n=e;e.request.addEventListener("success",(function(){t(n.request.result)})),e.request.addEventListener("error",(function(){r(n.request.error)}))}))}}]),t}();function As(e,t){return e.transaction([Cs],t?"readwrite":"readonly").objectStore(Cs)}function Ns(){var e=indexedDB.deleteDatabase(Os);return new Rs(e).toPromise()}function Ds(){var t=indexedDB.open(Os,1);return new Promise((function(r,n){t.addEventListener("error",(function(){n(t.error)})),t.addEventListener("upgradeneeded",(function(){var e=t.result;try{e.createObjectStore(Cs,{keyPath:Ps})}catch(e){n(e)}})),t.addEventListener("success",e(c)(e(l).mark((function n(){var a;return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((a=t.result).objectStoreNames.contains(Cs)){e.next=12;break}return a.close(),e.next=5,Ns();case 5:return e.t0=r,e.next=8,Ds();case 8:e.t1=e.sent,(0,e.t0)(e.t1),e.next=13;break;case 12:r(a);case 13:case"end":return e.stop()}}),n)}))))}))}function Ms(e,t,r){return Ls.apply(this,arguments)}function Ls(){return(Ls=e(c)(e(l).mark((function t(r,n,a){var i,s;return e(l).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=As(r,!0).put((i={},e(T)(i,Ps,n),e(T)(i,"value",a),i)),t.abrupt("return",new Rs(s).toPromise());case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function js(e,t){return Us.apply(this,arguments)}function Us(){return(Us=e(c)(e(l).mark((function t(r,n){var a,i;return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=As(r,!1).get(n),e.next=3,new Rs(a).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function Fs(e,t){var r=As(e,!0).delete(t);return new Rs(r).toPromise()}var Hs=function(){"use strict";function t(){e(x)(this,t),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return e(I)(t,[{key:"_openDb",value:function(){var t=this;return e(c)(e(l).mark((function r(){return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.db){e.next=2;break}return e.abrupt("return",t.db);case 2:return e.next=4,Ds();case 4:return t.db=e.sent,e.abrupt("return",t.db);case 6:case"end":return e.stop()}}),r)})))()}},{key:"_withRetries",value:function(t){var r=this;return e(c)(e(l).mark((function n(){var a,i;return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=0;case 1:return e.prev=2,e.next=5,r._openDb();case 5:return i=e.sent,e.next=8,t(i);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(a++>3)){e.next=15;break}throw e.t0;case 15:r.db&&(r.db.close(),r.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),n,null,[[2,11]])})))()}},{key:"initializeServiceWorkerMessaging",value:function(){var t=this;return e(c)(e(l).mark((function r(){return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ts()?t.initializeReceiver():t.initializeSender());case 1:case"end":return e.stop()}}),r)})))()}},{key:"initializeReceiver",value:function(){var t=this;return e(c)(e(l).mark((function r(){return e(l).wrap((function(r){for(;;)switch(r.prev=r.next){case 0:t.receiver=ws._getInstance(Ts()?self:null),t.receiver._subscribe("keyChanged",function(){var r=e(c)(e(l).mark((function r(n,a){var i;return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(a.key)});case 4:case"end":return e.stop()}}),r)})));return function(e,t){return r.apply(this,arguments)}}()),t.receiver._subscribe("ping",function(){var t=e(c)(e(l).mark((function t(r,n){return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}());case 3:case"end":return r.stop()}}),r)})))()}},{key:"initializeSender",value:function(){var t=this;return e(c)(e(l).mark((function r(){var n,a,i;return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,Es();case 3:if(t.activeServiceWorker=e.sent,t.activeServiceWorker){e.next=6;break}return e.abrupt("return");case 6:return t.sender=new xs(t.activeServiceWorker),e.next=9,t.sender._send("ping",{},800);case 9:if(i=e.sent){e.next=12;break}return e.abrupt("return");case 12:(null===(n=i[0])||void 0===n?void 0:n.fulfilled)&&(null===(a=i[0])||void 0===a?void 0:a.value.includes("keyChanged"))&&(t.serviceWorkerReceiverAvailable=!0);case 13:case"end":return e.stop()}}),r)})))()}},{key:"notifyServiceWorker",value:function(t){var r=this;return e(c)(e(l).mark((function n(){return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.sender&&r.activeServiceWorker&&(n=void 0,((null===(n=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===n?void 0:n.controller)||null)===r.activeServiceWorker)){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,r.sender._send("keyChanged",{key:t},r.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}var n}),n,null,[[2,7]])})))()}},{key:"_isAvailable",value:function(){return e(c)(e(l).mark((function t(){var r;return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,Ds();case 5:return r=e.sent,e.next=8,Ms(r,hs,"1");case 8:return e.next=10,Fs(r,hs);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),t,null,[[0,13]])})))()}},{key:"_withPendingWrite",value:function(t){var r=this;return e(c)(e(l).mark((function n(){return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,r.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),n,null,[[1,,4,7]])})))()}},{key:"_set",value:function(t,r){var n=this;return e(c)(e(l).mark((function a(){return e(l).wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",n._withPendingWrite(e(c)(e(l).mark((function a(){return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return Ms(e,t,r)}));case 2:return n.localCache[t]=r,e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),a)})))));case 1:case"end":return a.stop()}}),a)})))()}},{key:"_get",value:function(t){var r=this;return e(c)(e(l).mark((function n(){var a;return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return js(e,t)}));case 2:return a=e.sent,r.localCache[t]=a,e.abrupt("return",a);case 5:case"end":return e.stop()}}),n)})))()}},{key:"_remove",value:function(t){var r=this;return e(c)(e(l).mark((function n(){return e(l).wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",r._withPendingWrite(e(c)(e(l).mark((function n(){return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return Fs(e,t)}));case 2:return delete r.localCache[t],e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),n)})))));case 1:case"end":return n.stop()}}),n)})))()}},{key:"_poll",value:function(){var t=this;return e(c)(e(l).mark((function r(){var n,a,i,s,o,u,c,f,p,d,h,v,m,g,y,k,b;return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._withRetries((function(e){var t=As(e,!1).getAll();return new Rs(t).toPromise()}));case 2:if(n=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===t.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:for(a=[],i=new Set,s=!0,o=!1,u=void 0,e.prev=10,c=n[Symbol.iterator]();!(s=(f=c.next()).done);s=!0)p=f.value,d=p.fbase_key,h=p.value,i.add(d),JSON.stringify(t.localCache[d])!==JSON.stringify(h)&&(t.notifyListeners(d,h),a.push(d));e.next=18;break;case 14:e.prev=14,e.t0=e.catch(10),o=!0,u=e.t0;case 18:e.prev=18,e.prev=19,s||null==c.return||c.return();case 21:if(e.prev=21,!o){e.next=24;break}throw u;case 24:return e.finish(21);case 25:return e.finish(18);case 26:for(v=!0,m=!1,g=void 0,e.prev=27,y=Object.keys(t.localCache)[Symbol.iterator]();!(v=(k=y.next()).done);v=!0)b=k.value,t.localCache[b]&&!i.has(b)&&(t.notifyListeners(b,null),a.push(b));e.next=35;break;case 31:e.prev=31,e.t1=e.catch(27),m=!0,g=e.t1;case 35:e.prev=35,e.prev=36,v||null==y.return||y.return();case 38:if(e.prev=38,!m){e.next=41;break}throw g;case 41:return e.finish(38);case 42:return e.finish(35);case 43:return e.abrupt("return",a);case 44:case"end":return e.stop()}}),r,null,[[10,14,18,26],[19,,21,25],[27,31,35,43],[36,,38,42]])})))()}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var r=this.listeners[e],n=!0,a=!1,i=void 0;if(r)try{for(var s,o=Array.from(r)[Symbol.iterator]();!(n=(s=o.next()).done);n=!0){(0,s.value)(t)}}catch(e){a=!0,i=e}finally{try{n||null==o.return||o.return()}finally{if(a)throw i}}}},{key:"startPolling",value:function(){this.stopPolling();var t=this;this.pollTimer=setInterval(e(c)(e(l).mark((function r(){return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t._poll());case 1:case"end":return e.stop()}}),r)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),t}();Hs.type="LOCAL";var Vs=Hs;
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bs(e,t){return Ia(e,"POST","/v2/accounts/mfaSignIn:start",xa(e,t))}function zs(e){return new Promise((function(t,r){var n,a,i=document.createElement("script");i.setAttribute("src",e),i.onload=t,i.onerror=function(e){var t=ia("internal-error");t.customData=e,r(t)},i.type="text/javascript",i.charset="UTF-8",(null!==(a=null===(n=document.getElementsByTagName("head"))||void 0===n?void 0:n[0])&&void 0!==a?a:document).appendChild(i)}))}function Ws(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Ws("rcb"),new ga(3e4,6e4);var qs="recaptcha";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ks(e,t,r){return Gs.apply(this,arguments)}function Gs(){return(Gs=e(c)(e(l).mark((function t(r,n,a){var i,s,o,u,c,f,p,d;return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,a.verify();case 3:if(s=e.sent,e.prev=4,ua("string"==typeof s,r,"argument-error"),ua(a.type===qs,r,"argument-error"),!("session"in(o="string"==typeof n?{phoneNumber:n}:n))){e.next=28;break}if(u=o.session,!("phoneNumber"in o)){e.next=19;break}return ua("enroll"===u.type,r,"internal-error"),e.next=15,ds(r,{idToken:u.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:s}});case 15:return c=e.sent,e.abrupt("return",c.phoneSessionInfo.sessionInfo);case 19:return ua("signin"===u.type,r,"internal-error"),ua(f=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,r,"missing-multi-factor-info"),e.next=24,Bs(r,{mfaPendingCredential:u.credential,mfaEnrollmentId:f,phoneSignInInfo:{recaptchaToken:s}});case 24:return p=e.sent,e.abrupt("return",p.phoneResponseInfo.sessionInfo);case 26:e.next=32;break;case 28:return e.next=30,Li(r,{phoneNumber:o.phoneNumber,recaptchaToken:s});case 30:return d=e.sent.sessionInfo,e.abrupt("return",d);case 32:return e.prev=32,a._reset(),e.finish(32);case 35:case"end":return e.stop()}}),t,null,[[4,,32,35]])})))).apply(this,arguments)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Js=function(){"use strict";function t(r){e(x)(this,t),this.providerId=t.PROVIDER_ID,this.auth=wi(r)}return e(I)(t,[{key:"verifyPhoneNumber",value:function(e,t){return Ks(this.auth,e,Te(t))}}],[{key:"credential",value:function(e,t){return Bi._fromVerification(e,t)}},{key:"credentialFromResult",value:function(e){var r=e;return t.credentialFromTaggedObject(r)}},{key:"credentialFromError",value:function(e){return t.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.phoneNumber,n=t.temporaryProof;return r&&n?Bi._fromTokenResponse(r,n):null}}]),t}();
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function $s(e,t){return t?pa(t):(ua(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Js.PROVIDER_ID="phone",Js.PHONE_SIGN_IN_METHOD="phone";var Xs=function(t){"use strict";e(F)(n,t);var r=e(X)(n);function n(t){var a;return e(x)(this,n),(a=r.call(this,"custom","custom")).params=t,a}return e(I)(n,[{key:"_getIdTokenResponse",value:function(e){return Ni(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return Ni(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return Ni(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(xi);function Ys(e){return os(e.auth,new Xs(e),e.bypassAuthState)}function Qs(e){var t=e.auth,r=e.user;return ua(r,t,"internal-error"),is(r,new Xs(e),e.bypassAuthState)}function Zs(e){return eo.apply(this,arguments)}function eo(){return(eo=e(c)(e(l).mark((function t(r){var n,a;return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.auth,ua(a=r.user,n,"internal-error"),e.abrupt("return",ns(a,new Xs(r),r.bypassAuthState));case 3:case"end":return e.stop()}}),t)})))).apply(this,arguments)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var to=function(){"use strict";function t(r,n,a,i){var s=arguments.length>4&&void 0!==arguments[4]&&arguments[4];e(x)(this,t),this.auth=r,this.resolver=a,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return e(I)(t,[{key:"execute",value:function(){var t,r=this;return new Promise((t=e(c)(e(l).mark((function t(n,a){return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.pendingPromise={resolve:n,reject:a},e.prev=1,e.next=4,r.resolver._initialize(r.auth);case 4:return r.eventManager=e.sent,e.next=7,r.onExecution();case 7:r.eventManager.registerConsumer(r),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),r.reject(e.t0);case 13:case"end":return e.stop()}}),t,null,[[1,10]])}))),function(e,r){return t.apply(this,arguments)}))}},{key:"onAuthEvent",value:function(t){var r=this;return e(c)(e(l).mark((function n(){var a,i,s,o,u,c,f;return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.urlResponse,i=t.sessionId,s=t.postBody,o=t.tenantId,u=t.error,c=t.type,!u){e.next=4;break}return r.reject(u),e.abrupt("return");case 4:return f={auth:r.auth,requestUri:a,sessionId:i,tenantId:o||void 0,postBody:s||void 0,user:r.user,bypassAuthState:r.bypassAuthState},e.prev=5,e.t0=r,e.next=9,r.getIdpTask(c)(f);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),r.reject(e.t2);case 16:case"end":return e.stop()}}),n,null,[[5,13]])})))()}},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Ys;case"linkViaPopup":case"linkViaRedirect":return Zs;case"reauthViaPopup":case"reauthViaRedirect":return Qs;default:aa(this.auth,"internal-error")}}},{key:"resolve",value:function(e){la(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){la(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),t}(),ro=new ga(2e3,1e4);
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var no=function(t){"use strict";e(F)(n,t);var r=e(X)(n);function n(t,a,i,s,o){var u;return e(x)(this,n),(u=r.call(this,t,a,s,o)).provider=i,u.authWindow=null,u.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=e(U)(u),u}return e(I)(n,[{key:"executeNotNull",value:function(){var t=this;return e(c)(e(l).mark((function r(){var n;return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.execute();case 2:return ua(n=e.sent,t.auth,"internal-error"),e.abrupt("return",n);case 5:case"end":return e.stop()}}),r)})))()}},{key:"onExecution",value:function(){var t=this;return e(c)(e(l).mark((function r(){var n;return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return la(1===t.filter.length,"Popup operations only handle one event"),n=_s(),e.next=4,t.resolver._openPopup(t.auth,t.provider,t.filter[0],n);case 4:t.authWindow=e.sent,t.authWindow.associatedEvent=n,t.resolver._originValidation(t.auth).catch((function(e){t.reject(e)})),t.resolver._isIframeWebStorageSupported(t.auth,(function(e){e||t.reject(ia(t.auth,"web-storage-unsupported"))})),t.pollUserCancellation();case 9:case"end":return e.stop()}}),r)})))()}},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(ia(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this,t=function(){var r,n;if(null===(n=null===(r=e.authWindow)||void 0===r?void 0:r.window)||void 0===n?void 0:n.closed){var a=e;e.pollId=window.setTimeout((function(){a.pollId=null,a.reject(ia(a.auth,"popup-closed-by-user"))}),2e3)}else e.pollId=window.setTimeout(t,ro.get())};t()}}]),n}(to);no.currentPopupAction=null;
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var ao=new Map,io=function(t){"use strict";e(F)(n,t);var r=e(X)(n);function n(t,a){var i,s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return e(x)(this,n),(i=r.call(this,t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],a,void 0,s)).eventId=null,i}return e(I)(n,[{key:"execute",value:function(){var t=this,r=this;return e(c)(e(l).mark((function a(){var i,s;return e(l).wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(i=ao.get(r.auth._key())){a.next=21;break}return a.prev=2,a.next=5,so(r.resolver,r.auth);case 5:if(!a.sent){a.next=12;break}return a.next=9,e(Jn)(e(Yn)(n.prototype),"execute",t).call(r);case 9:a.t0=a.sent,a.next=13;break;case 12:a.t0=null;case 13:s=a.t0,i=function(){return Promise.resolve(s)},a.next=20;break;case 17:a.prev=17,a.t1=a.catch(2),i=function(){return Promise.reject(a.t1)};case 20:ao.set(r.auth._key(),i);case 21:return r.bypassAuthState||ao.set(r.auth._key(),(function(){return Promise.resolve(null)})),a.abrupt("return",i());case 23:case"end":return a.stop()}}),a,null,[[2,17]])})))()}},{key:"onAuthEvent",value:function(t){var r=this,a=this,i=function(){return e(Jn)(e(Yn)(n.prototype),"onAuthEvent",r)};return e(c)(e(l).mark((function r(){var n;return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",i().call(a,t));case 4:if("unknown"!==t.type){e.next=7;break}return a.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,a.auth._redirectUserForId(t.eventId);case 10:if(!(n=e.sent)){e.next=16;break}return a.user=n,e.abrupt("return",i().call(a,t));case 16:a.resolve(null);case 17:case"end":return e.stop()}}),r)})))()}},{key:"onExecution",value:function(){return e(c)(e(l).mark((function t(){return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),t)})))()}},{key:"cleanUp",value:function(){}}]),n}(to);function so(e,t){return oo.apply(this,arguments)}function oo(){return(oo=e(c)(e(l).mark((function t(r,n){var a,i,s;return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=lo(n),i=co(r),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(a);case 8:return e.t0=e.sent,s="true"===e.t0,e.next=12,i._remove(a);case 12:return e.abrupt("return",s);case 13:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function uo(e,t){ao.set(e._key(),t)}function co(e){return pa(e._redirectPersistence)}function lo(e){return ai("pendingRedirect",e.config.apiKey,e.name)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fo(e,t){return po.apply(this,arguments)}function po(){return po=e(c)(e(l).mark((function t(r,n){var a,i,s,o,u,c=arguments;return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=c.length>2&&void 0!==c[2]&&c[2],i=wi(r),s=$s(i,n),o=new io(i,s,a),e.next=6,o.execute();case 6:if(!(u=e.sent)||a){e.next=13;break}return delete u.user._redirectEventId,e.next=11,i._persistUserIfCurrent(u.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",u);case 14:case"end":return e.stop()}}),t)}))),po.apply(this,arguments)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var ho=function(){"use strict";function t(r){e(x)(this,t),this.auth=r,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return e(I)(t,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var r=!1;return this.consumers.forEach((function(n){t.isEventForConsumer(e,n)&&(r=!0,t.sendToConsumer(e,n),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return mo(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=e,r=!0)),r}},{key:"sendToConsumer",value:function(e,t){var r;if(e.error&&!mo(e)){var n=(null===(r=e.error.code)||void 0===r?void 0:r.split("auth/")[1])||"internal-error";t.onError(ia(this.auth,n))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var r=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(vo(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(vo(e)),this.lastProcessedEventTime=Date.now()}}]),t}();function vo(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function mo(e){var t=e.type,r=e.error;return"unknown"===t&&"auth/no-auth-event"===(null==r?void 0:r.code)}function go(e){return yo.apply(this,arguments)}function yo(){return yo=
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
e(c)(e(l).mark((function t(r){var n,a=arguments;return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>1&&void 0!==a[1]?a[1]:{},e.abrupt("return",Ia(r,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),t)}))),yo.apply(this,arguments)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ko=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,bo=/^https?/;function wo(){return(wo=e(c)(e(l).mark((function t(r){var n,a,i,s,o,u,c;return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,go(r);case 4:n=e.sent.authorizedDomains,a=!0,i=!1,s=void 0,e.prev=6,o=n[Symbol.iterator]();case 8:if(a=(u=o.next()).done){e.next=20;break}if(c=u.value,e.prev=10,!_o(c)){e.next=13;break}return e.abrupt("return");case 13:e.next=17;break;case 15:e.prev=15,e.t0=e.catch(10);case 17:a=!0,e.next=8;break;case 20:e.next=26;break;case 22:e.prev=22,e.t1=e.catch(6),i=!0,s=e.t1;case 26:e.prev=26,e.prev=27,a||null==o.return||o.return();case 29:if(e.prev=29,!i){e.next=32;break}throw s;case 32:return e.finish(29);case 33:return e.finish(26);case 34:aa(r,"unauthorized-domain");case 35:case"end":return e.stop()}}),t,null,[[6,22,26,34],[10,15],[27,,29,33]])})))).apply(this,arguments)}function _o(e){var t=ha(),r=new URL(t),n=r.protocol,a=r.hostname;if(e.startsWith("chrome-extension://")){var i=new URL(e);return""===i.hostname&&""===a?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===a}if(!bo.test(n))return!1;if(ko.test(e))return a===e;var s=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(a)}
/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xo=new ga(3e4,6e4);function Io(){var t=Is().___jsl,r=!0,n=!1,a=void 0;if(null==t?void 0:t.H)try{for(var i,s=Object.keys(t.H)[Symbol.iterator]();!(r=(i=s.next()).done);r=!0){var o=i.value;if(t.H[o].r=t.H[o].r||[],t.H[o].L=t.H[o].L||[],t.H[o].r=e(E)(t.H[o].L),t.CP)for(var u=0;u<t.CP.length;u++)t.CP[u]=null}}catch(e){n=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(n)throw a}}}var To=null;function Eo(e){return To=To||function(e){return new Promise((function(t,r){var n,a,i;function s(){Io(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){Io(),r(ia(e,"network-request-failed"))},timeout:xo.get()})}if(null===(a=null===(n=Is().gapi)||void 0===n?void 0:n.iframes)||void 0===a?void 0:a.Iframe)t(gapi.iframes.getContext());else{if(!(null===(i=Is().gapi)||void 0===i?void 0:i.load)){var o=Ws("iframefcb");return Is()[o]=function(){gapi.load?s():r(ia(e,"network-request-failed"))},zs("https://apis.google.com/js/api.js?onload=".concat(o)).catch((function(e){return r(e)}))}s()}})).catch((function(e){throw To=null,e}))}(e),To}
/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var So=new ga(5e3,15e3),Oo={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Co=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Po(e){var t=e.config;ua(t.authDomain,e,"auth-domain-config-required");var r=t.emulator?ya(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),n={apiKey:t.apiKey,appName:e.name,v:bt},a=Co.get(e.config.apiHost);a&&(n.eid=a);var i=e._getFrameworks();return i.length&&(n.fw=i.join(",")),"".concat(r,"?").concat(ye(n).slice(1))}function Ro(e){return Ao.apply(this,arguments)}function Ao(){return Ao=e(c)(e(l).mark((function t(r){var n,a;return e(l).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Eo(r);case 2:return n=t.sent,ua(a=Is().gapi,r,"internal-error"),t.abrupt("return",n.open({where:document.body,url:Po(r),messageHandlersFilter:a.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Oo,dontclear:!0},(function(t){return new Promise((n=e(c)(e(l).mark((function n(a,i){var s,o,u;return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u=function(){Is().clearTimeout(o),a(t)},e.next=3,t.restyle({setHideOnLeave:!1});case 3:s=ia(r,"network-request-failed"),o=Is().setTimeout((function(){i(s)}),So.get()),t.ping(u).then(u,(function(){i(s)}));case 7:case"end":return e.stop()}}),n)}))),function(e,t){return n.apply(this,arguments)}));var n})));case 6:case"end":return t.stop()}}),t)}))),Ao.apply(this,arguments)}
/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var No={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Do="_blank",Mo="http://localhost",Lo=function(){"use strict";function t(r){e(x)(this,t),this.window=r,this.associatedEvent=null}return e(I)(t,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),t}();function jo(t,r,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-a)/2,0).toString(),u="",c=Object.assign(Object.assign({},No),{width:a.toString(),height:i.toString(),top:s,left:o}),l=se().toLowerCase();n&&(u=ci(l)?Do:n),oi(l)&&(r=r||Mo,c.scrollbars="yes");var f=Object.entries(c).reduce((function(t,r){var n=e(A)(r,2),a=n[0],i=n[1];return"".concat(t).concat(a,"=").concat(i,",")}),"");if(vi(l)&&"_self"!==u)return Uo(r||"",u),new Lo(null);var p=window.open(r||"",u,f);ua(p,t,"popup-blocked");try{p.focus()}catch(e){}return new Lo(p)}function Uo(e,t){var r=document.createElement("a");r.href=e,r.target=t;var n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(n)}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Fo="__/auth/handler",Ho="emulator/auth/handler";function Vo(t,r,n,a,i,s){ua(t.config.authDomain,t,"auth-domain-config-required"),ua(t.config.apiKey,t,"invalid-api-key");var o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:a,v:bt,eventId:i};if(r instanceof qi){r.setDefaultLanguage(t.languageCode),o.providerId=r.providerId||"",ve(r.getCustomParameters())||(o.customParameters=JSON.stringify(r.getCustomParameters()));var u=!0,c=!1,l=void 0;try{for(var f,p=Object.entries(s||{})[Symbol.iterator]();!(u=(f=p.next()).done);u=!0){var d=e(A)(f.value,2),h=d[0],v=d[1];o[h]=v}}catch(e){c=!0,l=e}finally{try{u||null==p.return||p.return()}finally{if(c)throw l}}}if(r instanceof Ki){var m=r.getScopes().filter((function(e){return""!==e}));m.length>0&&(o.scopes=m.join(","))}t.tenantId&&(o.tid=t.tenantId);var g,y,k=o,b=!0,w=!1,_=void 0;try{for(var x,I=Object.keys(k)[Symbol.iterator]();!(b=(x=I.next()).done);b=!0){var T=x.value;void 0===k[T]&&delete k[T]}}catch(e){w=!0,_=e}finally{try{b||null==I.return||I.return()}finally{if(w)throw _}}return"".concat((g=t,y=g.config,y.emulator?ya(y,Ho):"https://".concat(y.authDomain,"/").concat(Fo)),"?").concat(ye(k).slice(1))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Bo="webStorageSupport",zo=function(){"use strict";function t(){e(x)(this,t),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ks,this._completeRedirectFn=fo,this._overrideRedirectResult=uo}return e(I)(t,[{key:"_openPopup",value:function(t,r,n,a){var i=this;return e(c)(e(l).mark((function s(){var o,u;return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return la(null===(o=i.eventManagers[t._key()])||void 0===o?void 0:o.manager,"_initialize() not called before _openPopup()"),u=Vo(t,r,n,ha(),a),e.abrupt("return",jo(t,u,_s()));case 4:case"end":return e.stop()}}),s)})))()}},{key:"_openRedirect",value:function(t,r,n,a){var i=this;return e(c)(e(l).mark((function s(){return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i._originValidation(t);case 2:return s=Vo(t,r,n,ha(),a),Is().location.href=s,e.abrupt("return",new Promise((function(){})));case 4:case"end":return e.stop()}var s}),s)})))()}},{key:"_initialize",value:function(e){var t=this,r=e._key();if(this.eventManagers[r]){var n=this.eventManagers[r],a=n.manager,i=n.promise;return a?Promise.resolve(a):(la(i,"If manager is not set, promise should be"),i)}var s=this.initAndGetManager(e);return this.eventManagers[r]={promise:s},s.catch((function(){delete t.eventManagers[r]})),s}},{key:"initAndGetManager",value:function(t){var r=this;return e(c)(e(l).mark((function n(){var a,i;return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ro(t);case 2:return a=e.sent,i=new ho(t),a.register("authEvent",(function(e){return ua(null==e?void 0:e.authEvent,t,"invalid-auth-event"),{status:i.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),r.eventManagers[t._key()]={manager:i},r.iframes[t._key()]=a,e.abrupt("return",i);case 8:case"end":return e.stop()}}),n)})))()}},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(Bo,{type:Bo},(function(r){var n,a=null===(n=null==r?void 0:r[0])||void 0===n?void 0:n.webStorageSupport;void 0!==a&&t(!!a),aa(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return wo.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return gi()||ui()||hi()}}]),t}(),Wo=zo,qo=function(t){"use strict";e(F)(n,t);var r=e(X)(n);function n(t){var a;return e(x)(this,n),(a=r.call(this,"phone")).credential=t,a}return e(I)(n,[{key:"_finalizeEnroll",value:function(e,t,r){return function(e,t){return Ia(e,"POST","/v2/accounts/mfaEnrollment:finalize",xa(e,t))}(e,{idToken:t,displayName:r,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return Ia(e,"POST","/v2/accounts/mfaSignIn:finalize",xa(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(function(){"use strict";function t(r){e(x)(this,t),this.factorId=r}return e(I)(t,[{key:"_process",value:function(e,t,r){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,r);case"signin":return this._finalizeSignIn(e,t.credential);default:return ca("unexpected MultiFactorSessionType")}}}]),t}());(function(){"use strict";function t(){e(x)(this,t)}return e(I)(t,null,[{key:"assertion",value:function(e){return qo._fromCredential(e)}}]),t}()).FACTOR_ID="phone";var Ko,Go="@firebase/auth",Jo="0.20.5",$o=function(){"use strict";function t(r){e(x)(this,t),this.auth=r,this.internalListeners=new Map}return e(I)(t,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(t){var r=this;return e(c)(e(l).mark((function n(){var a;return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.assertAuthConfigured(),e.next=3,r.auth._initializationPromise;case 3:if(r.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,r.auth.currentUser.getIdToken(t);case 7:return a=e.sent,e.abrupt("return",{accessToken:a});case 9:case"end":return e.stop()}}),n)})))()}},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){var r;e((null===(r=t)||void 0===r?void 0:r.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){ua(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),t}();Ko="Browser",vt(new Ee("auth",(function(e,t){var r=t.options,n=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),i=n.options,s=i.apiKey,o=i.authDomain;return function(e,t){ua(s&&!s.includes(":"),"invalid-api-key",{appName:e.name}),ua(!(null==o?void 0:o.includes(":")),"argument-error",{appName:e.name});var n={apiKey:s,authDomain:o,clientPlatform:Ko,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:yi(Ko)},a=new bi(e,t,n);return function(e,t){var r=(null==t?void 0:t.persistence)||[],n=(Array.isArray(r)?r:[r]).map(pa);(null==t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(n,null==t?void 0:t.popupRedirectResolver)}(a,r),a}(n,a)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,r){e.getProvider("auth-internal").initialize()}))),vt(new Ee("auth-internal",(function(e){var t=wi(e.getProvider("auth").getImmediate());return new $o(t)}),"PRIVATE").setInstantiationMode("EXPLICIT")),_t(Go,Jo,
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(Ko)),_t(Go,Jo,"esm2017");i=a("4Nugj");var Xo=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"!=typeof t){var r=t;t={name:r}}var n=Object.assign({name:lt,automaticDataCollectionEnabled:!1},t),a=n.name;if("string"!=typeof a||!a)throw yt.create("bad-app-name",{appName:String(a)});var i=pt.get(a);if(i){if(me(e,i.options)&&me(n,i.config))return i;throw yt.create("duplicate-app",{appName:a})}var s=new Re(a),o=!0,u=!1,c=void 0;try{for(var l,f=dt.values()[Symbol.iterator]();!(o=(l=f.next()).done);o=!0){var p=l.value;s.addComponent(p)}}catch(e){u=!0,c=e}finally{try{o||null==f.return||f.return()}finally{if(u)throw c}}var d=new kt(e,n,s);return pt.set(a,d),d}({apiKey:"AIzaSyAI1BJ85yh87lUFEz2tWAxiWAX4MIS7p4U",authDomain:"team-js-filmoteka.firebaseapp.com",projectId:"team-js-filmoteka",storageBucket:"team-js-filmoteka.appspot.com",messagingSenderId:"420203055088",appId:"1:420203055088:web:5fa03a9e406adf1dc4ff35",measurementId:"G-6V5KHRSHSH"}),Yo=(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wt(),t=mt(e=Te(e),Qr);t.isInitialized()?t.getImmediate():Wn(e)}(Xo),
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wt(),t=mt(e,"auth");return t.isInitialized()?t.getImmediate():da(e,{popupRedirectResolver:Wo,persistence:[Vs,gs,ks]})}(Xo));Yo.currentUser;i.refs.btnSigninForm.addEventListener("click",(function(e){e.preventDefault();var t,r,n,a=document.getElementById("login-email").value,i=document.getElementById("login-password").value;(t=Yo,r=a,n=i,cs(Te(t),Wi.credential(r,n))).then((function(e){e.user;document.getElementById("result-box").style.display="inline",o(),document.getElementById("result").innerHTML="Welcome Back<br>"+a+" was login Successufully"})).catch((function(e){e.code;var t=e.message;document.getElementById("result-box").style.display="inline",o(),document.getElementById("result").innerHTML="Sorry ! <br>"+t}))})),i.refs.btnSignupForm.addEventListener("click",(function(e){e.preventDefault();var t=document.getElementById("register-email").value,r=document.getElementById("register-password").value;fs(Yo,t,r).then((function(e){e.user;document.getElementById("result-box").style.display="inline",u(),o(),document.getElementById("result").innerHTML="Welcome <br>"+t+" was Registered Successufully"})).catch((function(e){e.code;var t=e.message;document.getElementById("result-box").style.display="inline",o(),document.getElementById("result").innerHTML="Sorry ! <br>"+t}))}));var Qo;i.refs.btnLogin.addEventListener("click",(function(){i.refs.formaLoginCreatRegister.classList.remove("is-hidden"),window.addEventListener("keydown",s)})),i.refs.btnLoginout.addEventListener("click",(function(){var e;(e=Yo,Te(e).signOut()).then((function(){document.getElementById("result-box").style.display="none",i.refs.signinForm.style.display="inline",u()})).catch((function(e){document.getElementById("result").innerHTML="Sorry ! <br>"+errorMessage,u()}))})),a("30o8m"),a("5rqL0"),$(window).scroll((function(){clearTimeout(Qo),$("#footer").hide(2e3),Qo=setTimeout((function(){$("#footer").show()}),500)})),a("668Z7")}();
//# sourceMappingURL=index.b53b85d1.js.map
