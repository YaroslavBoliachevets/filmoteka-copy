!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},r={},n={},a=t.parcelRequired7c6;null==a&&((a=function(e){if(e in r)return r[e].exports;if(e in n){var t=n[e];delete n[e];var a={id:e,exports:{}};return r[e]=a,t.call(a.exports,a,a.exports),a.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){n[e]=t},t.parcelRequired7c6=a),a.register("hKHmD",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r;return e}})),a.register("kMC0W",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e){if(Array.isArray(e))return n.default(e)};var r,n=(r=a("8NIkP"))&&r.__esModule?r:{default:r}})),a.register("8NIkP",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}})),a.register("7AJDX",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}})),a.register("8CtQK",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}})),a.register("auk6i",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t){if(!e)return;if("string"==typeof e)return n.default(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return n.default(e,t)};var r,n=(r=a("8NIkP"))&&r.__esModule?r:{default:r}})),a.register("8slrw",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e){if(Array.isArray(e))return e}})),a.register("ifqQW",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}})),a.register("ds8z5",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}})),a.register("gD1JV",(function(e,t){"use strict";function r(e,t){return(r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t){return r(e,t)}})),a.register("ge8co",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t,r){return s.apply(null,arguments)};var r,n=(r=a("gD1JV"))&&r.__esModule?r:{default:r};function i(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function s(e,t,r){return(s=i()?Reflect.construct:function(e,t,r){var a=[null];a.push.apply(a,t);var i=new(Function.bind.apply(e,a));return r&&n.default(i,r.prototype),i}).apply(null,arguments)}})),a.register("cZGw3",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}})),a.register("fVNic",(function(e,t){"use strict";function r(e){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e){return r(e)}})),a.register("aTHs7",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}})),a.register("jmhxu",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t){return!t||"object"!==n.default(t)&&"function"!=typeof t?r.default(e):t};var r=i(a("ds8z5")),n=i(a("l5bVx"));function i(e){return e&&e.__esModule?e:{default:e}}})),a.register("l5bVx",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e){return e&&e.constructor===Symbol?"symbol":typeof e}})),a.register("2mz0K",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=n.default(e)););return e};var r,n=(r=a("fVNic"))&&r.__esModule?r:{default:r}}));var i=a("4Nugj");document.getElementById("reg-btn").addEventListener("click",(function(){i.refs.signupForm.style.display="inline",i.refs.signinForm.style.display="none"})),document.getElementById("log-btn").addEventListener("click",(function(){i.refs.signupForm.style.display="none",i.refs.signinForm.style.display="inline"})),i.refs.formaLoginCreatRegister.addEventListener("click",(function(e){e.target===e.currentTarget&&(u(),o())}));var s=function(e){"Escape"===e.key&&(o(),window.removeEventListener("keydown",s))},o=function(){i.refs.formaLoginCreatRegister.classList.add("is-hidden")},u=function(){i.refs.signupForm.reset(),i.refs.signinForm.reset()};a("6slwO"),a("2f7PH"),a("5HNXG");var c=a("bpxeT"),l=a("2TvXO"),f=(i=a("4Nugj"),a("2gw6N")),p=a("gZy4F");i.refs.searchError.style.visibility="hidden",(null===i.refs||void 0===i.refs?void 0:i.refs.searchForm)&&i.refs.searchForm.addEventListener("submit",(function(e){e.preventDefault();var t=i.refs.searchForm.search.value.trim();""!==t&&(!function(e){d.apply(this,arguments)}(t),i.refs.searchForm.reset());return t}));function d(){return(d=e(c)(e(l).mark((function t(r){return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.movieClass.fetchSearchedMovies(r).then((function(e){if(0!==e.total_results)return p.movieClass.saveToLocalStorageFindedFilms(e),i.refs.gallery.innerHTML="",i.refs.gallery.insertAdjacentHTML("beforeend",e.results.map((function(e){return(0,f.createMurkup)(e)})).join(""));i.refs.searchError.style.visibility="visible",setTimeout(h,2e3)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),t)})))).apply(this,arguments)}var h=function(){i.refs.searchError.style.visibility="hidden"},v=a("2f7PH");new IntersectionObserver((function(e){e.forEach((function(e){e.isIntersecting&&(0,v.createStartPortfolio)()}))}),{rootMargin:"400px",threshold:1}).observe(document.querySelector(".scroll-guard")),a("lv9Lu"),a("88IOC"),a("kvC6y"),a("4Nugj");c=a("bpxeT");var m=a("8MBJY"),y=a("a2hTj"),g=a("hKHmD"),k={};Object.defineProperty(k,"__esModule",{value:!0}),k.default=function(e){return b.default(e)||w.default(e)||_.default(e)||x.default()};var b=I(a("kMC0W")),w=I(a("7AJDX")),x=I(a("8CtQK")),_=I(a("auk6i"));function I(e){return e&&e.__esModule?e:{default:e}}l=a("2TvXO"),c=a("bpxeT"),m=a("8MBJY"),y=a("a2hTj");var T={};Object.defineProperty(T,"__esModule",{value:!0}),T.default=function(e,t){return E.default(e)||S.default(e,t)||C.default(e,t)||O.default()};var E=P(a("8slrw")),S=P(a("7AJDX")),O=P(a("ifqQW")),C=P(a("auk6i"));function P(e){return e&&e.__esModule?e:{default:e}}l=a("2TvXO");var R=a("ds8z5"),A=(m=a("8MBJY"),y=a("a2hTj"),{});Object.defineProperty(A,"__esModule",{value:!0}),A.default=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&D.default(e,t)};var N,D=(N=a("gD1JV"))&&N.__esModule?N:{default:N};var M={};Object.defineProperty(M,"__esModule",{value:!0}),M.default=function(e){return H(e)};var L=V(a("ge8co")),j=V(a("cZGw3")),U=V(a("fVNic")),F=V(a("gD1JV"));function V(e){return e&&e.__esModule?e:{default:e}}function H(e){var t="function"==typeof Map?new Map:void 0;return H=function(e){if(null===e||!j.default(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return L.default(e,arguments,U.default(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),F.default(r,e)},H(e)}var B={};Object.defineProperty(B,"__esModule",{value:!0}),B.default=function(e){var t=z.default();return function(){var r,n=W.default(e);if(t){var a=W.default(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return q.default(this,r)}};var z=K(a("aTHs7")),W=K(a("fVNic")),q=K(a("jmhxu"));function K(e){return e&&e.__esModule?e:{default:e}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var G=function(e){for(var t=[],r=0,n=0;n<e.length;n++){var a=e.charCodeAt(n);a<128?t[r++]=a:a<2048?(t[r++]=a>>6|192,t[r++]=63&a|128):55296==(64512&a)&&n+1<e.length&&56320==(64512&e.charCodeAt(n+1))?(a=65536+((1023&a)<<10)+(1023&e.charCodeAt(++n)),t[r++]=a>>18|240,t[r++]=a>>12&63|128,t[r++]=a>>6&63|128,t[r++]=63&a|128):(t[r++]=a>>12|224,t[r++]=a>>6&63|128,t[r++]=63&a|128)}return t},J={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var r=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[],a=0;a<e.length;a+=3){var i=e[a],s=a+1<e.length,o=s?e[a+1]:0,u=a+2<e.length,c=u?e[a+2]:0,l=i>>2,f=(3&i)<<4|o>>4,p=(15&o)<<2|c>>6,d=63&c;u||(d=64,s||(p=64)),n.push(r[l],r[f],r[p],r[d])}return n.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(G(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],r=0,n=0;r<e.length;){var a=e[r++];if(a<128)t[n++]=String.fromCharCode(a);else if(a>191&&a<224){var i=e[r++];t[n++]=String.fromCharCode((31&a)<<6|63&i)}else if(a>239&&a<365){var s=((7&a)<<18|(63&e[r++])<<12|(63&e[r++])<<6|63&e[r++])-65536;t[n++]=String.fromCharCode(55296+(s>>10)),t[n++]=String.fromCharCode(56320+(1023&s))}else{var o=e[r++],u=e[r++];t[n++]=String.fromCharCode((15&a)<<12|(63&o)<<6|63&u)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var r=t?this.charToByteMapWebSafe_:this.charToByteMap_,n=[],a=0;a<e.length;){var i=r[e.charAt(a++)],s=a<e.length?r[e.charAt(a)]:0,o=++a<e.length?r[e.charAt(a)]:64,u=++a<e.length?r[e.charAt(a)]:64;if(++a,null==i||null==s||null==o||null==u)throw Error();var c=i<<2|s>>4;if(n.push(c),64!==o){var l=s<<4&240|o>>2;if(n.push(l),64!==u){var f=o<<6&192|u;n.push(f)}}}return n},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},X=function(e){return function(e){var t=G(e);return J.encodeByteArray(t,!0)}(e).replace(/\./g,"")},$=function(e){try{return J.decodeString(e,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Y=function(){"use strict";function t(){var r=this;e(m)(this,t),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,t){r.resolve=e,r.reject=t}))}return e(y)(t,[{key:"wrapCallback",value:function(e){var t=this;return function(r,n){r?t.reject(r):t.resolve(n),"function"==typeof e&&(t.promise.catch((function(){})),1===e.length?e(r):e(r,n))}}}]),t}();
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Q(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Z(){var e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof e&&void 0!==e.id}function ee(){return"object"==typeof indexedDB}function te(){return new Promise((function(e,t){try{var r=!0,n="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(n);a.onsuccess=function(){a.result.close(),r||self.indexedDB.deleteDatabase(n),e(!0)},a.onupgradeneeded=function(){r=!1},a.onerror=function(){var e;t((null===(e=a.error)||void 0===e?void 0:e.message)||"")}}catch(e){t(e)}}))}function re(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var ne=function(t){"use strict";e(A)(n,t);var r=e(B)(n);function n(t,a,i){var s;return e(m)(this,n),(s=r.call(this,a)).code=t,s.customData=i,s.name="FirebaseError",Object.setPrototypeOf(e(R)(s),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(e(R)(s),ae.prototype.create),s}return n}(e(M)(Error)),ae=function(){"use strict";function t(r,n,a){e(m)(this,t),this.service=r,this.serviceName=n,this.errors=a}return e(y)(t,[{key:"create",value:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];var a=r[0]||{},i="".concat(this.service,"/").concat(e),s=this.errors[e],o=s?ie(s,a):"Error",u="".concat(this.serviceName,": ").concat(o," (").concat(i,")."),c=new ne(i,u,a);return c}}]),t}();function ie(e,t){return e.replace(se,(function(e,r){var n=t[r];return null!=n?String(n):"<".concat(r,"?>")}))}var se=/\{\$([^}]+)}/g;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oe(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function ue(e,t){if(e===t)return!0;var r=Object.keys(e),n=Object.keys(t),a=!0,i=!1,s=void 0;try{for(var o,u=r[Symbol.iterator]();!(a=(o=u.next()).done);a=!0){var c=o.value;if(!n.includes(c))return!1;var l=e[c],f=t[c];if(ce(l)&&ce(f)){if(!ue(l,f))return!1}else if(l!==f)return!1}}catch(e){i=!0,s=e}finally{try{a||null==u.return||u.return()}finally{if(i)throw s}}var p=!0,d=!1,h=void 0;try{for(var v,m=n[Symbol.iterator]();!(p=(v=m.next()).done);p=!0){var y=v.value;if(!r.includes(y))return!1}}catch(e){d=!0,h=e}finally{try{p||null==m.return||m.return()}finally{if(d)throw h}}return!0}function ce(e){return null!==e&&"object"==typeof e}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function le(t){var r=[],n=!0,a=!1,i=void 0;try{for(var s,o=function(t,n){var a=e(T)(n.value,2),i=a[0],s=a[1];Array.isArray(s)?s.forEach((function(e){r.push(encodeURIComponent(i)+"="+encodeURIComponent(e))})):r.push(encodeURIComponent(i)+"="+encodeURIComponent(s))},u=Object.entries(t)[Symbol.iterator]();!(n=(s=u.next()).done);n=!0)o(0,s)}catch(e){a=!0,i=e}finally{try{n||null==u.return||u.return()}finally{if(a)throw i}}return r.length?"&"+r.join("&"):""}function fe(t){var r={};return t.replace(/^\?/,"").split("&").forEach((function(t){if(t){var n=e(T)(t.split("="),2),a=n[0],i=n[1];r[decodeURIComponent(a)]=decodeURIComponent(i)}})),r}function pe(e){var t=e.indexOf("?");if(!t)return"";var r=e.indexOf("#",t);return e.substring(t,r>0?r:void 0)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var de=function(){"use strict";function t(r,n){var a=this;e(m)(this,t),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){r(a)})).catch((function(e){a.error(e)}))}return e(y)(t,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,r){var n,a=this;if(void 0===e&&void 0===t&&void 0===r)throw new Error("Missing Observer.");n=function(e,t){if("object"!=typeof e||null===e)return!1;var r=!0,n=!1,a=void 0;try{for(var i,s=t[Symbol.iterator]();!(r=(i=s.next()).done);r=!0){var o=i.value;if(o in e&&"function"==typeof e[o])return!0}}catch(e){n=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(n)throw a}}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:r},void 0===n.next&&(n.next=he),void 0===n.error&&(n.error=he),void 0===n.complete&&(n.complete=he);var i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{a.finalError?n.error(a.finalError):n.complete()}catch(e){}})),this.observers.push(n),i}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var r=this;this.task.then((function(){if(void 0!==r.observers&&void 0!==r.observers[e])try{t(r.observers[e])}catch(e){"undefined"!=typeof console&&console.error&&console.error(e)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),t}();function he(){}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var ve=144e5;function me(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,n=t*Math.pow(r,e),a=Math.round(.5*n*(Math.random()-.5)*2);return Math.min(ve,n+a)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function ye(e){return e&&e._delegate?e._delegate:e}var ge=function(){"use strict";function t(r,n,a){e(m)(this,t),this.name=r,this.instanceFactory=n,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return e(y)(t,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),t}(),ke="[DEFAULT]",be=function(){"use strict";function t(r,n){e(m)(this,t),this.name=r,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return e(y)(t,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var r=new Y;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{var n=this.getOrInitializeService({instanceIdentifier:t});n&&r.resolve(n)}catch(e){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,r=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),n=null!==(t=null==e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(n)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(e){if(n)return null;throw e}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(t){if(t.name!==this.name)throw Error("Mismatching Component ".concat(t.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=t,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t))try{this.getOrInitializeService({instanceIdentifier:ke})}catch(e){}var r=!0,n=!1,a=void 0;try{for(var i,s=this.instancesDeferred.entries()[Symbol.iterator]();!(r=(i=s.next()).done);r=!0){var o=e(T)(i.value,2),u=o[0],c=o[1],l=this.normalizeInstanceIdentifier(u);try{var f=this.getOrInitializeService({instanceIdentifier:l});c.resolve(f)}catch(e){}}}catch(e){n=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(n)throw a}}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ke;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var t=this;return e(c)(e(l).mark((function r(){var n;return e(l).wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=Array.from(t.instances.values()),r.next=3,Promise.all(e(k)(n.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))).concat(e(k)(n.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return r.stop()}}),r)})))()}},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ke;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ke;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.options,n=void 0===r?{}:r,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error("".concat(this.name,"(").concat(a,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i=this.getOrInitializeService({instanceIdentifier:a,options:n}),s=!0,o=!1,u=void 0;try{for(var c,l=this.instancesDeferred.entries()[Symbol.iterator]();!(s=(c=l.next()).done);s=!0){var f=e(T)(c.value,2),p=f[0],d=f[1],h=this.normalizeInstanceIdentifier(p);a===h&&d.resolve(i)}}catch(e){o=!0,u=e}finally{try{s||null==l.return||l.return()}finally{if(o)throw u}}return i}},{key:"onInit",value:function(e,t){var r,n=this.normalizeInstanceIdentifier(t),a=null!==(r=this.onInitCallbacks.get(n))&&void 0!==r?r:new Set;a.add(e),this.onInitCallbacks.set(n,a);var i=this.instances.get(n);return i&&e(i,n),function(){a.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var r=this.onInitCallbacks.get(t);if(r){var n=!0,a=!1,i=void 0;try{for(var s,o=r[Symbol.iterator]();!(n=(s=o.next()).done);n=!0){var u=s.value;try{u(e,t)}catch(e){}}}catch(e){a=!0,i=e}finally{try{n||null==o.return||o.return()}finally{if(a)throw i}}}}},{key:"getOrInitializeService",value:function(e){var t,r=e.instanceIdentifier,n=e.options,a=void 0===n?{}:n,i=this.instances.get(r);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:(t=r,t===ke?void 0:t),options:a}),this.instances.set(r,i),this.instancesOptions.set(r,a),this.invokeOnInitCallbacks(i,r),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,r,i)}catch(e){}return i||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ke;return this.component?this.component.multipleInstances?e:ke:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),t}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var we,xe,_e=function(){"use strict";function t(r){e(m)(this,t),this.name=r,this.providers=new Map}return e(y)(t,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new be(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),t}(),Ie=(m=a("8MBJY"),y=a("a2hTj"),g=a("hKHmD"),[]);(xe=we||(we={}))[xe.DEBUG=0]="DEBUG",xe[xe.VERBOSE=1]="VERBOSE",xe[xe.INFO=2]="INFO",xe[xe.WARN=3]="WARN",xe[xe.ERROR=4]="ERROR",xe[xe.SILENT=5]="SILENT";var Te,Ee={debug:we.DEBUG,verbose:we.VERBOSE,info:we.INFO,warn:we.WARN,error:we.ERROR,silent:we.SILENT},Se=we.INFO,Oe=(Te={},e(g)(Te,we.DEBUG,"log"),e(g)(Te,we.VERBOSE,"log"),e(g)(Te,we.INFO,"info"),e(g)(Te,we.WARN,"warn"),e(g)(Te,we.ERROR,"error"),Te),Ce=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i];var s;if(!(r<t.logLevel)){var o=(new Date).toISOString(),u=Oe[r];if(!u)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(r,")"));(s=console)[u].apply(s,["[".concat(o,"]  ").concat(t.name,":")].concat(e(k)(a)))}},Pe=function(){"use strict";function t(r){e(m)(this,t),this.name=r,this._logLevel=Se,this._logHandler=Ce,this._userLogHandler=null,Ie.push(this)}return e(y)(t,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in we))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"==typeof e?Ee[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,we.DEBUG].concat(e(k)(r))),this._logHandler.apply(this,[this,we.DEBUG].concat(e(k)(r)))}},{key:"log",value:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,we.VERBOSE].concat(e(k)(r))),this._logHandler.apply(this,[this,we.VERBOSE].concat(e(k)(r)))}},{key:"info",value:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,we.INFO].concat(e(k)(r))),this._logHandler.apply(this,[this,we.INFO].concat(e(k)(r)))}},{key:"warn",value:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,we.WARN].concat(e(k)(r))),this._logHandler.apply(this,[this,we.WARN].concat(e(k)(r)))}},{key:"error",value:function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,we.ERROR].concat(e(k)(r))),this._logHandler.apply(this,[this,we.ERROR].concat(e(k)(r)))}}]),t}();c=a("bpxeT");var Re={};Object.defineProperty(Re,"__esModule",{value:!0}),Re.default=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){Ae.default(e,t,r[t])}))}return e};var Ae=function(e){return e&&e.__esModule?e:{default:e}}(a("hKHmD"));var Ne,De;l=a("2TvXO");var Me=new WeakMap,Le=new WeakMap,je=new WeakMap,Ue=new WeakMap,Fe=new WeakMap;var Ve={get:function(e,t,r){if(e instanceof IDBTransaction){if("done"===t)return Le.get(e);if("objectStoreNames"===t)return e.objectStoreNames||je.get(e);if("store"===t)return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return ze(e[t])},set:function(e,t,r){return e[t]=r,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function He(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(De||(De=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(t)?function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return t.apply(We(this),r),ze(Me.get(this))}:function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return ze(t.apply(We(this),r))}:function(r){for(var n=arguments.length,a=new Array(n>1?n-1:0),i=1;i<n;i++)a[i-1]=arguments[i];var s,o=(s=t).call.apply(s,[We(this),r].concat(e(k)(a)));return je.set(o,r.sort?r.sort():[r]),ze(o)}}function Be(e){return"function"==typeof e?He(e):(e instanceof IDBTransaction&&function(e){if(!Le.has(e)){var t=new Promise((function(t,r){var n=function(){e.removeEventListener("complete",a),e.removeEventListener("error",i),e.removeEventListener("abort",i)},a=function(){t(),n()},i=function(){r(e.error||new DOMException("AbortError","AbortError")),n()};e.addEventListener("complete",a),e.addEventListener("error",i),e.addEventListener("abort",i)}));Le.set(e,t)}}(e),t=e,(Ne||(Ne=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((function(e){return t instanceof e}))?new Proxy(e,Ve):e);var t}function ze(e){if(e instanceof IDBRequest)return t=e,(r=new Promise((function(e,r){var n=function(){t.removeEventListener("success",a),t.removeEventListener("error",i)},a=function(){e(ze(t.result)),n()},i=function(){r(t.error),n()};t.addEventListener("success",a),t.addEventListener("error",i)}))).then((function(e){e instanceof IDBCursor&&Me.set(e,t)})).catch((function(){})),Fe.set(r,t),r;var t,r;if(Ue.has(e))return Ue.get(e);var n=Be(e);return n!==e&&(Ue.set(e,n),Fe.set(n,e)),n}var We=function(e){return Fe.get(e)};function qe(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.blocked,a=r.upgrade,i=r.blocking,s=r.terminated,o=indexedDB.open(e,t),u=ze(o);return a&&o.addEventListener("upgradeneeded",(function(e){a(ze(o.result),e.oldVersion,e.newVersion,ze(o.transaction))})),n&&o.addEventListener("blocked",(function(){return n()})),u.then((function(e){s&&e.addEventListener("close",(function(){return s()})),i&&e.addEventListener("versionchange",(function(){return i()}))})).catch((function(){})),u}var Ke=["get","getKey","getAll","getAllKeys","count"],Ge=["put","add","delete","clear"],Je=new Map;function Xe(t,r){if(t instanceof IDBDatabase&&!(r in t)&&"string"==typeof r){if(Je.get(r))return Je.get(r);var n=r.replace(/FromIndex$/,""),a=r!==n,i=Ge.includes(n);if(n in(a?IDBIndex:IDBObjectStore).prototype&&(i||Ke.includes(n))){var s,o=(s=e(c)(e(l).mark((function t(r){var s,o,u,c,f,p,d=arguments;return e(l).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(s=d.length,o=new Array(s>1?s-1:0),u=1;u<s;u++)o[u-1]=d[u];return f=this.transaction(r,i?"readwrite":"readonly"),p=f.store,a&&(p=p.index(o.shift())),t.next=7,Promise.all([(c=p)[n].apply(c,e(k)(o)),i&&f.done]);case 7:return t.abrupt("return",t.sent[0]);case 8:case"end":return t.stop()}}),t,this)}))),function(e){return s.apply(this,arguments)});return Je.set(r,o),o}}}Ve=function(t){return e(Re)({},t,{get:function(e,r,n){return Xe(e,r)||t.get(e,r,n)},has:function(e,r){return!!Xe(e,r)||t.has(e,r)}})}(Ve);
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var $e=function(){"use strict";function t(r){e(m)(this,t),this.container=r}return e(y)(t,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null==t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),t}();var Ye,Qe,Ze="@firebase/app",et="0.7.28",tt=new Pe("@firebase/app"),rt="[DEFAULT]",nt=(Ye={},e(g)(Ye,Ze,"fire-core"),e(g)(Ye,"@firebase/app-compat","fire-core-compat"),e(g)(Ye,"@firebase/analytics","fire-analytics"),e(g)(Ye,"@firebase/analytics-compat","fire-analytics-compat"),e(g)(Ye,"@firebase/app-check","fire-app-check"),e(g)(Ye,"@firebase/app-check-compat","fire-app-check-compat"),e(g)(Ye,"@firebase/auth","fire-auth"),e(g)(Ye,"@firebase/auth-compat","fire-auth-compat"),e(g)(Ye,"@firebase/database","fire-rtdb"),e(g)(Ye,"@firebase/database-compat","fire-rtdb-compat"),e(g)(Ye,"@firebase/functions","fire-fn"),e(g)(Ye,"@firebase/functions-compat","fire-fn-compat"),e(g)(Ye,"@firebase/installations","fire-iid"),e(g)(Ye,"@firebase/installations-compat","fire-iid-compat"),e(g)(Ye,"@firebase/messaging","fire-fcm"),e(g)(Ye,"@firebase/messaging-compat","fire-fcm-compat"),e(g)(Ye,"@firebase/performance","fire-perf"),e(g)(Ye,"@firebase/performance-compat","fire-perf-compat"),e(g)(Ye,"@firebase/remote-config","fire-rc"),e(g)(Ye,"@firebase/remote-config-compat","fire-rc-compat"),e(g)(Ye,"@firebase/storage","fire-gcs"),e(g)(Ye,"@firebase/storage-compat","fire-gcs-compat"),e(g)(Ye,"@firebase/firestore","fire-fst"),e(g)(Ye,"@firebase/firestore-compat","fire-fst-compat"),e(g)(Ye,"fire-js","fire-js"),e(g)(Ye,"firebase","fire-js-all"),Ye),at=new Map,it=new Map;function st(e,t){try{e.container.addComponent(t)}catch(r){tt.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),r)}}function ot(e){var t=e.name;if(it.has(t))return tt.debug("There were multiple attempts to register component ".concat(t,".")),!1;it.set(t,e);var r=!0,n=!1,a=void 0;try{for(var i,s=at.values()[Symbol.iterator]();!(r=(i=s.next()).done);r=!0){st(i.value,e)}}catch(e){n=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(n)throw a}}return!0}function ut(e,t){var r=e.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),e.container.getProvider(t)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var ct=(Qe={},e(g)(Qe,"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),e(g)(Qe,"bad-app-name","Illegal App name: '{$appName}"),e(g)(Qe,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),e(g)(Qe,"app-deleted","Firebase App named '{$appName}' already deleted"),e(g)(Qe,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),e(g)(Qe,"invalid-log-argument","First argument to `onLog` must be null or a function."),e(g)(Qe,"storage-open","Error thrown when opening storage. Original error: {$originalErrorMessage}."),e(g)(Qe,"storage-get","Error thrown when reading from storage. Original error: {$originalErrorMessage}."),e(g)(Qe,"storage-set","Error thrown when writing to storage. Original error: {$originalErrorMessage}."),e(g)(Qe,"storage-delete","Error thrown when deleting from storage. Original error: {$originalErrorMessage}."),Qe),lt=new ae("app","Firebase",ct),ft=function(){"use strict";function t(r,n,a){var i=this;e(m)(this,t),this._isDeleted=!1,this._options=Object.assign({},r),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new ge("app",(function(){return i}),"PUBLIC"))}return e(y)(t,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw lt.create("app-deleted",{appName:this._name})}}]),t}(),pt="9.9.0";function dt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rt,t=at.get(e);if(!t)throw lt.create("no-app",{appName:e});return t}function ht(e,t,r){var n,a=null!==(n=nt[e])&&void 0!==n?n:e;r&&(a+="-".concat(r));var i=a.match(/\s|\//),s=t.match(/\s|\//);if(i||s){var o=['Unable to register library "'.concat(a,'" with version "').concat(t,'":')];return i&&o.push('library name "'.concat(a,'" contains illegal characters (whitespace or "/")')),i&&s&&o.push("and"),s&&o.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void tt.warn(o.join(" "))}ot(new ge("".concat(a,"-version"),(function(){return{library:a,version:t}}),"VERSION"))}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var vt="firebase-heartbeat-store",mt=null;function yt(){return mt||(mt=qe("firebase-heartbeat-database",1,{upgrade:function(e,t){if(0===t)e.createObjectStore(vt)}}).catch((function(e){throw lt.create("storage-open",{originalErrorMessage:e.message})}))),mt}function gt(e){return kt.apply(this,arguments)}function kt(){return(kt=e(c)(e(l).mark((function t(r){var n,a;return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=1,e.next=4,yt();case 4:return a=e.sent,e.abrupt("return",a.transaction(vt).objectStore(vt).get(xt(r)));case 8:throw e.prev=8,e.t0=e.catch(1),lt.create("storage-get",{originalErrorMessage:null===(n=e.t0)||void 0===n?void 0:n.message});case 11:case"end":return e.stop()}}),t,null,[[1,8]])})))).apply(this,arguments)}function bt(e,t){return wt.apply(this,arguments)}function wt(){return(wt=e(c)(e(l).mark((function t(r,n){var a,i,s,o;return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=1,e.next=4,yt();case 4:return i=e.sent,s=i.transaction(vt,"readwrite"),o=s.objectStore(vt),e.next=9,o.put(n,xt(r));case 9:return e.abrupt("return",s.done);case 12:throw e.prev=12,e.t0=e.catch(1),lt.create("storage-set",{originalErrorMessage:null===(a=e.t0)||void 0===a?void 0:a.message});case 15:case"end":return e.stop()}}),t,null,[[1,12]])})))).apply(this,arguments)}function xt(e){return"".concat(e.name,"!").concat(e.options.appId)}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _t=function(){"use strict";function t(r){var n=this;e(m)(this,t),this.container=r,this._heartbeatsCache=null;var a=this.container.getProvider("app").getImmediate();this._storage=new St(a),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return e(y)(t,[{key:"triggerHeartbeat",value:function(){var t=this;return e(c)(e(l).mark((function r(){var n,a,i;return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.container.getProvider("platform-logger").getImmediate(),a=n.getPlatformInfoString(),i=It(),null!==t._heartbeatsCache){e.next=7;break}return e.next=6,t._heartbeatsCachePromise;case 6:t._heartbeatsCache=e.sent;case 7:if(t._heartbeatsCache.lastSentHeartbeatDate!==i&&!t._heartbeatsCache.heartbeats.some((function(e){return e.date===i}))){e.next=11;break}return e.abrupt("return");case 11:t._heartbeatsCache.heartbeats.push({date:i,agent:a});case 12:return t._heartbeatsCache.heartbeats=t._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",t._storage.overwrite(t._heartbeatsCache));case 14:case"end":return e.stop()}}),r)})))()}},{key:"getHeartbeatsHeader",value:function(){var t=this;return e(c)(e(l).mark((function r(){var n,a,i,s,o;return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==t._heartbeatsCache){e.next=3;break}return e.next=3,t._heartbeatsCachePromise;case 3:if(null!==t._heartbeatsCache&&0!==t._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(n=It(),a=Tt(t._heartbeatsCache.heartbeats),i=a.heartbeatsToSend,s=a.unsentEntries,o=X(JSON.stringify({version:2,heartbeats:i})),t._heartbeatsCache.lastSentHeartbeatDate=n,!(s.length>0)){e.next=15;break}return t._heartbeatsCache.heartbeats=s,e.next=13,t._storage.overwrite(t._heartbeatsCache);case 13:e.next=16;break;case 15:t._heartbeatsCache.heartbeats=[],t._storage.overwrite(t._heartbeatsCache);case 16:return e.abrupt("return",o);case 17:case"end":return e.stop()}}),r)})))()}}]),t}();function It(){return(new Date).toISOString().substring(0,10)}function Tt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],n=e.slice(),a=!0,i=!1,s=void 0;try{for(var o,u=function(e,a){var i=a.value,s=r.find((function(e){return e.agent===i.agent}));if(s){if(s.dates.push(i.date),Ot(r)>t)return s.dates.pop(),"break"}else if(r.push({agent:i.agent,dates:[i.date]}),Ot(r)>t)return r.pop(),"break";n=n.slice(1)},c=e[Symbol.iterator]();!(a=(o=c.next()).done);a=!0){var l=u(c,o);if("break"===l)break}}catch(e){i=!0,s=e}finally{try{a||null==c.return||c.return()}finally{if(i)throw s}}return{heartbeatsToSend:r,unsentEntries:n}}var Et,St=function(){"use strict";function t(r){e(m)(this,t),this.app=r,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return e(y)(t,[{key:"runIndexedDBEnvironmentCheck",value:function(){return e(c)(e(l).mark((function t(){return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ee()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",te().then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),t)})))()}},{key:"read",value:function(){var t=this;return e(c)(e(l).mark((function r(){var n;return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,gt(t.app);case 9:return n=e.sent,e.abrupt("return",n||{heartbeats:[]});case 11:case"end":return e.stop()}}),r)})))()}},{key:"overwrite",value:function(t){var r=this;return e(c)(e(l).mark((function n(){var a,i;return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,r._canUseIndexedDBPromise;case 3:if(e.sent){e.next=8;break}return e.abrupt("return");case 8:return e.next=10,r.read();case 10:return i=e.sent,e.abrupt("return",bt(r.app,{lastSentHeartbeatDate:null!==(a=t.lastSentHeartbeatDate)&&void 0!==a?a:i.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 12:case"end":return e.stop()}}),n)})))()}},{key:"add",value:function(t){var r=this;return e(c)(e(l).mark((function n(){var a,i;return e(l).wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=3,r._canUseIndexedDBPromise;case 3:if(n.sent){n.next=8;break}return n.abrupt("return");case 8:return n.next=10,r.read();case 10:return i=n.sent,n.abrupt("return",bt(r.app,{lastSentHeartbeatDate:null!==(a=t.lastSentHeartbeatDate)&&void 0!==a?a:i.lastSentHeartbeatDate,heartbeats:e(k)(i.heartbeats).concat(e(k)(t.heartbeats))}));case 12:case"end":return n.stop()}}),n)})))()}}]),t}();function Ot(e){return X(JSON.stringify({version:2,heartbeats:e})).length}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Et="",ot(new ge("platform-logger",(function(e){return new $e(e)}),"PRIVATE")),ot(new ge("heartbeat",(function(e){return new _t(e)}),"PRIVATE")),ht(Ze,et,Et),ht(Ze,et,"esm2017"),ht("fire-js","");
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
ht("firebase","9.9.0","app");c=a("bpxeT"),m=a("8MBJY"),y=a("a2hTj"),g=a("hKHmD"),l=a("2TvXO"),c=a("bpxeT"),g=a("hKHmD"),l=a("2TvXO");var Ct,Pt="@firebase/installations",Rt="0.5.12",At=1e4,Nt="w:".concat(Rt),Dt="FIS_v2",Mt=36e5,Lt=(Ct={},e(g)(Ct,"missing-app-config-values",'Missing App configuration value: "{$valueName}"'),e(g)(Ct,"not-registered","Firebase Installation is not registered."),e(g)(Ct,"installation-not-found","Firebase Installation not found."),e(g)(Ct,"request-failed",'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"'),e(g)(Ct,"app-offline","Could not process request. Application offline."),e(g)(Ct,"delete-pending-registration","Can't delete installation while there is a pending registration request."),Ct),jt=new ae("installations","Installations",Lt);function Ut(e){return e instanceof ne&&e.code.includes("request-failed")}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ft(e){var t=e.projectId;return"".concat("https://firebaseinstallations.googleapis.com/v1","/projects/").concat(t,"/installations")}function Vt(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}function Ht(e,t){return Bt.apply(this,arguments)}function Bt(){return(Bt=e(c)(e(l).mark((function t(r,n){var a,i;return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.json();case 2:return a=e.sent,i=a.error,e.abrupt("return",jt.create("request-failed",{requestName:r,serverCode:i.code,serverMessage:i.message,serverStatus:i.status}));case 5:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function zt(e){var t=e.apiKey;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function Wt(e,t){var r=t.refreshToken,n=zt(e);return n.append("Authorization",function(e){return"".concat(Dt," ").concat(e)}(r)),n}function qt(e){return Kt.apply(this,arguments)}function Kt(){return(Kt=e(c)(e(l).mark((function t(r){var n;return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r();case 2:if(!((n=e.sent).status>=500&&n.status<600)){e.next=5;break}return e.abrupt("return",r());case 5:return e.abrupt("return",n);case 6:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function Gt(e,t){return Jt.apply(this,arguments)}function Jt(){return(Jt=
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
e(c)(e(l).mark((function t(r,n){var a,i,s,o,u,c,f,p,d,h,v,m;return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=r.appConfig,i=r.heartbeatServiceProvider,s=n.fid,o=Ft(a),u=zt(a),!(c=i.getImmediate({optional:!0}))){e.next=9;break}return e.next=7,c.getHeartbeatsHeader();case 7:(f=e.sent)&&u.append("x-firebase-client",f);case 9:return p={fid:s,authVersion:Dt,appId:a.appId,sdkVersion:Nt},d={method:"POST",headers:u,body:JSON.stringify(p)},e.next=13,qt((function(){return fetch(o,d)}));case 13:if(!(h=e.sent).ok){e.next=22;break}return e.next=17,h.json();case 17:return v=e.sent,m={fid:v.fid||s,registrationStatus:2,refreshToken:v.refreshToken,authToken:Vt(v.authToken)},e.abrupt("return",m);case 22:return e.next=24,Ht("Create Installation",h);case 24:throw e.sent;case 25:case"end":return e.stop()}}),t)})))).apply(this,arguments)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xt(e){return new Promise((function(t){setTimeout(t,e)}))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var $t=/^[cdef][\w-]{21}$/;function Yt(){try{var t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;var r=function(t){return(r=t,btoa((n=String).fromCharCode.apply(n,e(k)(r))).replace(/\+/g,"-").replace(/\//g,"_")).substr(0,22);var r,n}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t);return $t.test(r)?r:""}catch(e){return""}}function Qt(e){return"".concat(e.appName,"!").concat(e.appId)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Zt=new Map;function er(e,t){var r=Qt(e);tr(r,t),function(e,t){var r=nr();r&&r.postMessage({key:e,fid:t});ar()}(r,t)}function tr(e,t){var r=Zt.get(e);if(r){var n=!0,a=!1,i=void 0;try{for(var s,o=r[Symbol.iterator]();!(n=(s=o.next()).done);n=!0){(0,s.value)(t)}}catch(e){a=!0,i=e}finally{try{n||null==o.return||o.return()}finally{if(a)throw i}}}}var rr=null;function nr(){return!rr&&"BroadcastChannel"in self&&((rr=new BroadcastChannel("[Firebase] FID Change")).onmessage=function(e){tr(e.data.key,e.data.fid)}),rr}function ar(){0===Zt.size&&rr&&(rr.close(),rr=null)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ir="firebase-installations-store",sr=null;function or(){return sr||(sr=qe("firebase-installations-database",1,{upgrade:function(e,t){if(0===t)e.createObjectStore(ir)}})),sr}function ur(e,t){return cr.apply(this,arguments)}function cr(){return(cr=e(c)(e(l).mark((function t(r,n){var a,i,s,o,u;return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Qt(r),e.next=3,or();case 3:return i=e.sent,s=i.transaction(ir,"readwrite"),o=s.objectStore(ir),e.next=8,o.get(a);case 8:return u=e.sent,e.next=11,o.put(n,a);case 11:return e.next=13,s.done;case 13:return u&&u.fid===n.fid||er(r,n.fid),e.abrupt("return",n);case 15:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function lr(e){return fr.apply(this,arguments)}function fr(){return(fr=e(c)(e(l).mark((function t(r){var n,a,i;return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Qt(r),e.next=3,or();case 3:return a=e.sent,i=a.transaction(ir,"readwrite"),e.next=7,i.objectStore(ir).delete(n);case 7:return e.next=9,i.done;case 9:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function pr(e,t){return dr.apply(this,arguments)}function dr(){return(dr=e(c)(e(l).mark((function t(r,n){var a,i,s,o,u,c;return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Qt(r),e.next=3,or();case 3:return i=e.sent,s=i.transaction(ir,"readwrite"),o=s.objectStore(ir),e.next=8,o.get(a);case 8:if(u=e.sent,void 0!==(c=n(u))){e.next=15;break}return e.next=13,o.delete(a);case 13:e.next=17;break;case 15:return e.next=17,o.put(c,a);case 17:return e.next=19,s.done;case 19:return!c||u&&u.fid===c.fid||er(r,c.fid),e.abrupt("return",c);case 21:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function hr(e){return vr.apply(this,arguments)}function vr(){return(vr=
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
e(c)(e(l).mark((function t(r){var n,a;return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,pr(r.appConfig,(function(e){var t=mr(e),a=yr(r,t);return n=a.registrationPromise,a.installationEntry}));case 3:if(""!==(a=e.sent).fid){e.next=9;break}return e.next=7,n;case 7:return e.t0=e.sent,e.abrupt("return",{installationEntry:e.t0});case 9:return e.abrupt("return",{installationEntry:a,registrationPromise:n});case 10:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function mr(e){return xr(e||{fid:Yt(),registrationStatus:0})}function yr(e,t){if(0===t.registrationStatus){if(!navigator.onLine)return{installationEntry:t,registrationPromise:Promise.reject(jt.create("app-offline"))};var r={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},n=function(e,t){return gr.apply(this,arguments)}(e,r);return{installationEntry:r,registrationPromise:n}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:kr(e)}:{installationEntry:t}}function gr(){return(gr=e(c)(e(l).mark((function t(r,n){var a;return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Gt(r,n);case 3:return a=e.sent,e.abrupt("return",ur(r.appConfig,a));case 7:if(e.prev=7,e.t0=e.catch(0),!Ut(e.t0)||409!==e.t0.customData.serverCode){e.next=14;break}return e.next=12,lr(r.appConfig);case 12:e.next=16;break;case 14:return e.next=16,ur(r.appConfig,{fid:n.fid,registrationStatus:0});case 16:throw e.t0;case 17:case"end":return e.stop()}}),t,null,[[0,7]])})))).apply(this,arguments)}function kr(e){return br.apply(this,arguments)}function br(){return(br=e(c)(e(l).mark((function t(r){var n,a,i,s;return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,wr(r.appConfig);case 2:n=e.sent;case 3:if(1!==n.registrationStatus){e.next=11;break}return e.next=6,Xt(100);case 6:return e.next=8,wr(r.appConfig);case 8:n=e.sent,e.next=3;break;case 11:if(0!==n.registrationStatus){e.next=22;break}return e.next=14,hr(r);case 14:if(a=e.sent,i=a.installationEntry,!(s=a.registrationPromise)){e.next=21;break}return e.abrupt("return",s);case 21:return e.abrupt("return",i);case 22:return e.abrupt("return",n);case 23:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function wr(e){return pr(e,(function(e){if(!e)throw jt.create("installation-not-found");return xr(e)}))}function xr(e){return 1===(t=e).registrationStatus&&t.registrationTime+At<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}function _r(e,t){return Ir.apply(this,arguments)}function Ir(){return(Ir=
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
e(c)(e(l).mark((function t(r,n){var a,i,s,o,u,c,f,p,d,h,v;return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=r.appConfig,i=r.heartbeatServiceProvider,s=Tr(a,n),o=Wt(a,n),!(u=i.getImmediate({optional:!0}))){e.next=9;break}return e.next=7,u.getHeartbeatsHeader();case 7:(c=e.sent)&&o.append("x-firebase-client",c);case 9:return f={installation:{sdkVersion:Nt,appId:a.appId}},p={method:"POST",headers:o,body:JSON.stringify(f)},e.next=13,qt((function(){return fetch(s,p)}));case 13:if(!(d=e.sent).ok){e.next=22;break}return e.next=17,d.json();case 17:return h=e.sent,v=Vt(h),e.abrupt("return",v);case 22:return e.next=24,Ht("Generate Auth Token",d);case 24:throw e.sent;case 25:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function Tr(e,t){var r=t.fid;return"".concat(Ft(e),"/").concat(r,"/authTokens:generate")}function Er(e){return Sr.apply(this,arguments)}function Sr(){return Sr=
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
e(c)(e(l).mark((function t(r){var n,a,i,s,o=arguments;return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>1&&void 0!==o[1]&&o[1],e.next=4,pr(r.appConfig,(function(e){if(!Nr(e))throw jt.create("not-registered");var t=e.authToken;if(!n&&Dr(t))return e;if(1===t.requestStatus)return a=Or(r,n),e;if(!navigator.onLine)throw jt.create("app-offline");var i=Mr(e);return a=Rr(r,i),i}));case 4:if(i=e.sent,!a){e.next=11;break}return e.next=8,a;case 8:e.t0=e.sent,e.next=12;break;case 11:e.t0=i.authToken;case 12:return s=e.t0,e.abrupt("return",s);case 14:case"end":return e.stop()}}),t)}))),Sr.apply(this,arguments)}function Or(e,t){return Cr.apply(this,arguments)}function Cr(){return(Cr=e(c)(e(l).mark((function t(r,n){var a,i;return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pr(r.appConfig);case 2:a=e.sent;case 3:if(1!==a.authToken.requestStatus){e.next=11;break}return e.next=6,Xt(100);case 6:return e.next=8,Pr(r.appConfig);case 8:a=e.sent,e.next=3;break;case 11:if(0!==(i=a.authToken).requestStatus){e.next=16;break}return e.abrupt("return",Er(r,n));case 16:return e.abrupt("return",i);case 17:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function Pr(e){return pr(e,(function(e){if(!Nr(e))throw jt.create("not-registered");var t,r=e.authToken;return 1===(t=r).requestStatus&&t.requestTime+At<Date.now()?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e}))}function Rr(e,t){return Ar.apply(this,arguments)}function Ar(){return(Ar=e(c)(e(l).mark((function t(r,n){var a,i,s;return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_r(r,n);case 3:return a=e.sent,i=Object.assign(Object.assign({},n),{authToken:a}),e.next=7,ur(r.appConfig,i);case 7:return e.abrupt("return",a);case 10:if(e.prev=10,e.t0=e.catch(0),!Ut(e.t0)||401!==e.t0.customData.serverCode&&404!==e.t0.customData.serverCode){e.next=17;break}return e.next=15,lr(r.appConfig);case 15:e.next=20;break;case 17:return s=Object.assign(Object.assign({},n),{authToken:{requestStatus:0}}),e.next=20,ur(r.appConfig,s);case 20:throw e.t0;case 21:case"end":return e.stop()}}),t,null,[[0,10]])})))).apply(this,arguments)}function Nr(e){return void 0!==e&&2===e.registrationStatus}function Dr(e){return 2===e.requestStatus&&!function(e){var t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+Mt}(e)}function Mr(e){var t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}function Lr(){return(Lr=
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
e(c)(e(l).mark((function t(r){var n,a,i,s;return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r,e.next=3,hr(n);case 3:return a=e.sent,i=a.installationEntry,(s=a.registrationPromise)?s.catch(console.error):Er(n).catch(console.error),e.abrupt("return",i.fid);case 8:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function jr(){return jr=
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
e(c)(e(l).mark((function t(r){var n,a,i,s=arguments;return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]&&s[1],a=r,e.next=4,Ur(a);case 4:return e.next=6,Er(a,n);case 6:return i=e.sent,e.abrupt("return",i.token);case 8:case"end":return e.stop()}}),t)}))),jr.apply(this,arguments)}function Ur(e){return Fr.apply(this,arguments)}function Fr(){return(Fr=e(c)(e(l).mark((function t(r){var n;return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,hr(r);case 2:if(!(n=e.sent.registrationPromise)){e.next=6;break}return e.next=6,n;case 6:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function Vr(e){return jt.create("missing-app-config-values",{valueName:e})}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Hr="installations",Br=function(e){var t=ut(e.getProvider("app").getImmediate(),Hr).getImmediate(),r={getId:function(){return function(e){return Lr.apply(this,arguments)}(t)},getToken:function(e){return function(e){return jr.apply(this,arguments)}(t,e)}};return r};ot(new ge(Hr,(function(e){var t=e.getProvider("app").getImmediate(),r=
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function(e){if(!e||!e.options)throw Vr("App Configuration");if(!e.name)throw Vr("App Name");var t=!0,r=!1,n=void 0;try{for(var a,i=["projectId","apiKey","appId"][Symbol.iterator]();!(t=(a=i.next()).done);t=!0){var s=a.value;if(!e.options[s])throw Vr(s)}}catch(e){r=!0,n=e}finally{try{t||null==i.return||i.return()}finally{if(r)throw n}}return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t);return{app:t,appConfig:r,heartbeatServiceProvider:ut(t,"heartbeat"),_delete:function(){return Promise.resolve()}}}),"PUBLIC")),ot(new ge("installations-internal",Br,"PRIVATE")),ht(Pt,Rt),ht(Pt,Rt,"esm2017");
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var zr,Wr="analytics",qr=6e4,Kr="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Gr="https://www.googletagmanager.com/gtag/js",Jr=new Pe("@firebase/analytics");
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Xr(e){return Promise.all(e.map((function(e){return e.catch((function(e){return e}))})))}function $r(e,t){var r=document.createElement("script");r.src="".concat(Gr,"?l=").concat(e,"&id=").concat(t),r.async=!0,document.head.appendChild(r)}function Yr(e,t,r,n,a,i){return Qr.apply(this,arguments)}function Qr(){return(Qr=e(c)(e(l).mark((function t(r,n,a,i,s,o){var u,c,f;return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u=i[s],e.prev=1,!u){e.next=7;break}return e.next=5,n[u];case 5:e.next=14;break;case 7:return e.next=9,Xr(a);case 9:if(c=e.sent,!(f=c.find((function(e){return e.measurementId===s})))){e.next=14;break}return e.next=14,n[f.appId];case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(1),Jr.error(e.t0);case 19:r("config",s,o);case 20:case"end":return e.stop()}}),t,null,[[1,16]])})))).apply(this,arguments)}function Zr(e,t,r,n,a){return en.apply(this,arguments)}function en(){return(en=e(c)(e(l).mark((function t(r,n,a,i,s){var o,u,c,f,p,d,h,v,m,y,g;return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,o=[],!s||!s.send_to){e.next=38;break}return u=s.send_to,Array.isArray(u)||(u=[u]),e.next=7,Xr(a);case 7:c=e.sent,f=!0,p=!1,d=void 0,e.prev=9,h=u[Symbol.iterator]();case 11:if(f=(v=h.next()).done){e.next=24;break}if(m=v.value,y=c.find((function(e){return e.measurementId===m})),!(g=y&&n[y.appId])){e.next=19;break}o.push(g),e.next=21;break;case 19:return o=[],e.abrupt("break",24);case 21:f=!0,e.next=11;break;case 24:e.next=30;break;case 26:e.prev=26,e.t0=e.catch(9),p=!0,d=e.t0;case 30:e.prev=30,e.prev=31,f||null==h.return||h.return();case 33:if(e.prev=33,!p){e.next=36;break}throw d;case 36:return e.finish(33);case 37:return e.finish(30);case 38:return 0===o.length&&(o=Object.values(n)),e.next=41,Promise.all(o);case 41:r("event",i,s||{}),e.next=47;break;case 44:e.prev=44,e.t1=e.catch(0),Jr.error(e.t1);case 47:case"end":return e.stop()}}),t,null,[[0,44],[9,26,30,38],[31,,33,37]])})))).apply(this,arguments)}function tn(t,r,n,a,i){var s=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];window[a].push(arguments)};return window[i]&&"function"==typeof window[i]&&(s=window[i]),window[i]=function(t,r,n,a){function i(){return(i=e(c)(e(l).mark((function i(s,o,u){return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,"event"!==s){e.next=6;break}return e.next=4,Zr(t,r,n,o,u);case 4:e.next=12;break;case 6:if("config"!==s){e.next=11;break}return e.next=9,Yr(t,r,n,a,o,u);case 9:e.next=12;break;case 11:"consent"===s?t("consent","update",u):t("set",o);case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),Jr.error(e.t0);case 17:case"end":return e.stop()}}),i,null,[[0,14]])})))).apply(this,arguments)}return function(e,t,r){return i.apply(this,arguments)}}(s,t,r,n),{gtagCore:s,wrappedGtag:window[i]}}function rn(){var e=window.document.getElementsByTagName("script"),t=!0,r=!1,n=void 0;try{for(var a,i=Object.values(e)[Symbol.iterator]();!(t=(a=i.next()).done);t=!0){var s=a.value;if(s.src&&s.src.includes(Gr))return s}}catch(e){r=!0,n=e}finally{try{t||null==i.return||i.return()}finally{if(r)throw n}}return null}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var nn=(zr={},e(g)(zr,"already-exists","A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId."),e(g)(zr,"already-initialized","initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance."),e(g)(zr,"already-initialized-settings","Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect."),e(g)(zr,"interop-component-reg-failed","Firebase Analytics Interop Component failed to instantiate: {$reason}"),e(g)(zr,"invalid-analytics-context","Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}"),e(g)(zr,"indexeddb-unavailable","IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}"),e(g)(zr,"fetch-throttle","The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}."),e(g)(zr,"config-fetch-failed","Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}"),e(g)(zr,"no-api-key",'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.'),e(g)(zr,"no-app-id",'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'),zr),an=new ae("analytics","Analytics",nn),sn=function(){"use strict";function t(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;e(m)(this,t),this.throttleMetadata=r,this.intervalMillis=n}return e(y)(t,[{key:"getThrottleMetadata",value:function(e){return this.throttleMetadata[e]}},{key:"setThrottleMetadata",value:function(e,t){this.throttleMetadata[e]=t}},{key:"deleteThrottleMetadata",value:function(e){delete this.throttleMetadata[e]}}]),t}(),on=new sn;function un(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}function cn(e){return ln.apply(this,arguments)}function ln(){return(ln=e(c)(e(l).mark((function t(r){var n,a,i,s,o,u,c,f;return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.appId,i=r.apiKey,s={method:"GET",headers:un(i)},o=Kr.replace("{app-id}",a),e.next=6,fetch(o,s);case 6:if(200===(u=e.sent).status||304===u.status){e.next=19;break}return c="",e.prev=9,e.next=12,u.json();case 12:f=e.sent,(null===(n=f.error)||void 0===n?void 0:n.message)&&(c=f.error.message),e.next=18;break;case 16:e.prev=16,e.t0=e.catch(9);case 18:throw an.create("config-fetch-failed",{httpStatus:u.status,responseMessage:c});case 19:return e.abrupt("return",u.json());case 20:case"end":return e.stop()}}),t,null,[[9,16]])})))).apply(this,arguments)}function fn(e){return pn.apply(this,arguments)}function pn(){return pn=e(c)(e(l).mark((function t(r){var n,a,i,s,o,u,f,p,d=arguments;return e(l).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=d.length>1&&void 0!==d[1]?d[1]:on,a=d.length>2?d[2]:void 0,i=r.options,s=i.appId,o=i.apiKey,u=i.measurementId,s){t.next=4;break}throw an.create("no-app-id");case 4:if(o){t.next=8;break}if(!u){t.next=7;break}return t.abrupt("return",{measurementId:u,appId:s});case 7:throw an.create("no-api-key");case 8:return f=n.getThrottleMetadata(s)||{backoffCount:0,throttleEndTimeMillis:Date.now()},p=new kn,setTimeout(e(c)(e(l).mark((function t(){return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:p.abort();case 1:case"end":return e.stop()}}),t)}))),void 0!==a?a:qr),t.abrupt("return",dn({appId:s,apiKey:o,measurementId:u},f,p,n));case 12:case"end":return t.stop()}}),t)}))),pn.apply(this,arguments)}function dn(e,t,r){return hn.apply(this,arguments)}function hn(){return hn=e(c)(e(l).mark((function t(r,n,a){var i,s,o,u,c,f,p,d,h,v,m,y=arguments;return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=n.throttleEndTimeMillis,s=n.backoffCount,o=y.length>3&&void 0!==y[3]?y[3]:on,f=r.appId,p=r.measurementId,e.prev=3,e.next=6,vn(a,i);case 6:e.next=14;break;case 8:if(e.prev=8,e.t0=e.catch(3),!p){e.next=13;break}return Jr.warn("Timed out fetching this Firebase app's measurement ID from the server."+" Falling back to the measurement ID ".concat(p)+' provided in the "measurementId" field in the local Firebase config. ['.concat(null===(u=e.t0)||void 0===u?void 0:u.message,"]")),e.abrupt("return",{appId:f,measurementId:p});case 13:throw e.t0;case 14:return e.prev=14,e.next=17,cn(r);case 17:return d=e.sent,o.deleteThrottleMetadata(f),e.abrupt("return",d);case 22:if(e.prev=22,e.t1=e.catch(14),mn(h=e.t1)){e.next=33;break}if(o.deleteThrottleMetadata(f),!p){e.next=32;break}return Jr.warn("Failed to fetch this Firebase app's measurement ID from the server."+" Falling back to the measurement ID ".concat(p)+' provided in the "measurementId" field in the local Firebase config. ['.concat(null==h?void 0:h.message,"]")),e.abrupt("return",{appId:f,measurementId:p});case 32:throw e.t1;case 33:return v=503===Number(null===(c=null==h?void 0:h.customData)||void 0===c?void 0:c.httpStatus)?me(s,o.intervalMillis,30):me(s,o.intervalMillis),m={throttleEndTimeMillis:Date.now()+v,backoffCount:s+1},o.setThrottleMetadata(f,m),Jr.debug("Calling attemptFetch again in ".concat(v," millis")),e.abrupt("return",dn(r,m,a,o));case 38:case"end":return e.stop()}}),t,null,[[3,8],[14,22]])}))),hn.apply(this,arguments)}function vn(e,t){return new Promise((function(r,n){var a=Math.max(t-Date.now(),0),i=setTimeout(r,a);e.addEventListener((function(){clearTimeout(i),n(an.create("fetch-throttle",{throttleEndTimeMillis:t}))}))}))}function mn(e){if(!(e instanceof ne&&e.customData))return!1;var t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}var yn,gn,kn=function(){"use strict";function t(){e(m)(this,t),this.listeners=[]}return e(y)(t,[{key:"addEventListener",value:function(e){this.listeners.push(e)}},{key:"abort",value:function(){this.listeners.forEach((function(e){return e()}))}}]),t}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bn(){return(bn=e(c)(e(l).mark((function t(r,n,a,i,s){var o,u;return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!s||!s.global){e.next=5;break}return r("event",a,i),e.abrupt("return");case 5:return e.next=7,n;case 7:o=e.sent,u=Object.assign(Object.assign({},i),{send_to:o}),r("event",a,u);case 10:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function wn(e){gn=e}function xn(e){yn=e}function _n(){return In.apply(this,arguments)}function In(){return(In=
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
e(c)(e(l).mark((function t(){var r;return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ee()){e.next=6;break}return Jr.warn(an.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),e.abrupt("return",!1);case 6:return e.prev=6,e.next=9,te();case 9:e.next=15;break;case 11:return e.prev=11,e.t0=e.catch(6),Jr.warn(an.create("indexeddb-unavailable",{errorInfo:null===(r=e.t0)||void 0===r?void 0:r.toString()}).message),e.abrupt("return",!1);case 15:return e.abrupt("return",!0);case 16:case"end":return e.stop()}}),t,null,[[6,11]])})))).apply(this,arguments)}function Tn(){return(Tn=e(c)(e(l).mark((function t(r,n,a,i,s,o,u){var c,f,p,d,h,v,m;return e(l).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(f=fn(r)).then((function(e){a[e.measurementId]=e.appId,r.options.measurementId&&e.measurementId!==r.options.measurementId&&Jr.warn("The measurement ID in the local Firebase config (".concat(r.options.measurementId,")")+" does not match the measurement ID fetched from the server (".concat(e.measurementId,").")+" To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")})).catch((function(e){return Jr.error(e)})),n.push(f),p=_n().then((function(e){return e?i.getId():void 0})),t.t0=e(T),t.next=8,Promise.all([f,p]);case 8:return t.t1=t.sent,d=(0,t.t0)(t.t1,2),h=d[0],v=d[1],rn()||$r(o,h.measurementId),gn&&(s("consent","default",gn),wn(void 0)),s("js",new Date),(m=null!==(c=null==u?void 0:u.config)&&void 0!==c?c:{}).origin="firebase",m.update=!0,null!=v&&(m.firebase_id=v),s("config",h.measurementId,m),yn&&(s("set",yn),xn(void 0)),t.abrupt("return",h.measurementId);case 22:case"end":return t.stop()}}),t)})))).apply(this,arguments)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var En,Sn,On=function(){"use strict";function t(r){e(m)(this,t),this.app=r}return e(y)(t,[{key:"_delete",value:function(){return delete Cn[this.app.options.appId],Promise.resolve()}}]),t}(),Cn={},Pn=[],Rn={},An="dataLayer",Nn="gtag",Dn=!1;function Mn(e,t,r){!function(){var e=[];if(Z()&&e.push("This is a browser extension environment."),re()||e.push("Cookies are not available."),e.length>0){var t=e.map((function(e,t){return"(".concat(t+1,") ").concat(e)})).join(" "),r=an.create("invalid-analytics-context",{errorInfo:t});Jr.warn(r.message)}}();var n,a,i=e.options.appId;if(!i)throw an.create("no-app-id");if(!e.options.apiKey){if(!e.options.measurementId)throw an.create("no-api-key");Jr.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest'+" measurement ID for this Firebase app. Falling back to the measurement ID ".concat(e.options.measurementId)+' provided in the "measurementId" field in the local Firebase config.')}if(null!=Cn[i])throw an.create("already-exists",{id:i});if(!Dn){n=An,a=[],Array.isArray(window[n])?a=window[n]:window[n]=a;var s=tn(Cn,Pn,Rn,An,Nn),o=s.wrappedGtag,u=s.gtagCore;Sn=o,En=u,Dn=!0}return Cn[i]=function(e,t,r,n,a,i,s){return Tn.apply(this,arguments)}(e,Pn,Rn,t,En,An,r),new On(e)}function Ln(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=ut(e,Wr);if(r.isInitialized()){var n=r.getImmediate();if(ue(t,r.getOptions()))return n;throw an.create("already-initialized")}var a=r.initialize({options:t});return a}function jn(e,t,r,n){e=ye(e),function(e,t,r,n,a){return bn.apply(this,arguments)}(Sn,Cn[e.app.options.appId],t,r,n).catch((function(e){return Jr.error(e)}))}var Un="@firebase/analytics",Fn="0.8.0";ot(new ge(Wr,(function(e,t){var r=t.options;return Mn(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),r)}),"PUBLIC")),ot(new ge("analytics-internal",(function(e){try{var t=e.getProvider(Wr).getImmediate();return{logEvent:function(e,r,n){return jn(t,e,r,n)}}}catch(e){throw an.create("interop-component-reg-failed",{reason:e})}}),"PRIVATE")),ht(Un,Fn),ht(Un,Fn,"esm2017");R=a("ds8z5"),c=a("bpxeT"),m=a("8MBJY"),y=a("a2hTj"),g=a("hKHmD");var Vn={};Object.defineProperty(Vn,"__esModule",{value:!0}),Vn.default=function(e,t,r){return Bn(e,t,r)};var Hn=function(e){return e&&e.__esModule?e:{default:e}}(a("2mz0K"));function Bn(e,t,r){return(Bn="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=Hn.default(e,t);if(n){var a=Object.getOwnPropertyDescriptor(n,t);return a.get?a.get.call(r||e):a.value}})(e,t,r)}var zn=a("fVNic");l=a("2TvXO");function Wn(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r}Object.create;Object.create;function qn(){return e(g)({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var Kn=qn,Gn=new ae("auth","Firebase",qn()),Jn=new Pe("@firebase/auth");function Xn(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];var i;Jn.logLevel<=we.ERROR&&(i=Jn).error.apply(i,["Auth (".concat(pt,"): ").concat(t)].concat(e(k)(n)))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $n(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];throw Zn.apply(void 0,[t].concat(e(k)(n)))}function Yn(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];return Zn.apply(void 0,[t].concat(e(k)(n)))}function Qn(t,r,n){var a=Object.assign(Object.assign({},Kn()),e(g)({},r,n));return new ae("auth","Firebase",a).create(r,{appName:t.name})}function Zn(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];var i;if("string"!=typeof t){var s,o=n[0],u=e(k)(n.slice(1));return u[0]&&(u[0].appName=t.name),(s=t._errorFactory).create.apply(s,[o].concat(e(k)(u)))}return(i=Gn).create.apply(i,[t].concat(e(k)(n)))}function ea(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i];if(!t)throw Zn.apply(void 0,[r].concat(e(k)(a)))}function ta(e){var t="INTERNAL ASSERTION FAILED: "+e;throw Xn(t),new Error(t)}function ra(e,t){e||ta(t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var na=new Map;function aa(e){ra(e instanceof Function,"Expected a class definition");var t=na.get(e);return t?(ra(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,na.set(e,t),t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ia(e,t){var r=ut(e,"auth");if(r.isInitialized()){var n=r.getImmediate();if(ue(r.getOptions(),null!=t?t:{}))return n;$n(n,"already-initialized")}return r.initialize({options:t})}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function sa(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function oa(){return"http:"===ua()||"https:"===ua()}function ua(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var ca=function(){"use strict";function t(r,n){e(m)(this,t),this.shortDelay=r,this.longDelay=n,ra(n>r,"Short delay should be less than long delay!"),this.isMobile="undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Q())||"object"==typeof navigator&&"ReactNative"===navigator.product}return e(y)(t,[{key:"get",value:function(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(oa()||Z()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),t}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function la(e,t){ra(e.emulator,"Emulator should always be set here");var r=e.emulator.url;return t?"".concat(r).concat(t.startsWith("/")?t.slice(1):t):r}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fa,pa=function(){"use strict";function t(){e(m)(this,t)}return e(y)(t,null,[{key:"initialize",value:function(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void ta("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void ta("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void ta("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),t}(),da=(fa={},e(g)(fa,"CREDENTIAL_MISMATCH","custom-token-mismatch"),e(g)(fa,"MISSING_CUSTOM_TOKEN","internal-error"),e(g)(fa,"INVALID_IDENTIFIER","invalid-email"),e(g)(fa,"MISSING_CONTINUE_URI","internal-error"),e(g)(fa,"INVALID_PASSWORD","wrong-password"),e(g)(fa,"MISSING_PASSWORD","internal-error"),e(g)(fa,"EMAIL_EXISTS","email-already-in-use"),e(g)(fa,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),e(g)(fa,"INVALID_IDP_RESPONSE","invalid-credential"),e(g)(fa,"INVALID_PENDING_TOKEN","invalid-credential"),e(g)(fa,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),e(g)(fa,"MISSING_REQ_TYPE","internal-error"),e(g)(fa,"EMAIL_NOT_FOUND","user-not-found"),e(g)(fa,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),e(g)(fa,"EXPIRED_OOB_CODE","expired-action-code"),e(g)(fa,"INVALID_OOB_CODE","invalid-action-code"),e(g)(fa,"MISSING_OOB_CODE","internal-error"),e(g)(fa,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),e(g)(fa,"INVALID_ID_TOKEN","invalid-user-token"),e(g)(fa,"TOKEN_EXPIRED","user-token-expired"),e(g)(fa,"USER_NOT_FOUND","user-token-expired"),e(g)(fa,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),e(g)(fa,"INVALID_CODE","invalid-verification-code"),e(g)(fa,"INVALID_SESSION_INFO","invalid-verification-id"),e(g)(fa,"INVALID_TEMPORARY_PROOF","invalid-credential"),e(g)(fa,"MISSING_SESSION_INFO","missing-verification-id"),e(g)(fa,"SESSION_EXPIRED","code-expired"),e(g)(fa,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),e(g)(fa,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),e(g)(fa,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),e(g)(fa,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),e(g)(fa,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),e(g)(fa,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),e(g)(fa,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),e(g)(fa,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),e(g)(fa,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),e(g)(fa,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),e(g)(fa,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),fa),ha=new ca(3e4,6e4);function va(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function ma(e,t,r,n){return ya.apply(this,arguments)}function ya(){return ya=e(c)(e(l).mark((function t(r,n,a,i){var s,o=arguments;return e(l).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=o.length>4&&void 0!==o[4]?o[4]:{},t.abrupt("return",ga(r,s,e(c)(e(l).mark((function t(){var s,o,u,c;return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s={},o={},i&&("GET"===n?o=i:s={body:JSON.stringify(i)}),u=le(Object.assign({key:r.config.apiKey},o)).slice(1),e.next=6,r._getAdditionalHeaders();case 6:return(c=e.sent)["Content-Type"]="application/json",r.languageCode&&(c["X-Firebase-Locale"]=r.languageCode),e.abrupt("return",pa.fetch()(xa(r,r.config.apiHost,a,u),Object.assign({method:n,headers:c,referrerPolicy:"no-referrer"},s)));case 10:case"end":return e.stop()}}),t)})))));case 2:case"end":return t.stop()}}),t)}))),ya.apply(this,arguments)}function ga(e,t,r){return ka.apply(this,arguments)}function ka(){return(ka=e(c)(e(l).mark((function t(r,n,a){var i,s,o,u,c,f,p,d,h;return e(l).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r._canInitEmulator=!1,i=Object.assign(Object.assign({},da),n),t.prev=2,s=new _a(r),t.next=6,Promise.race([a(),s.promise]);case 6:return o=t.sent,s.clearNetworkTimeout(),t.next=10,o.json();case 10:if(!("needConfirmation"in(u=t.sent))){t.next=13;break}throw Ia(r,"account-exists-with-different-credential",u);case 13:if(!o.ok||"errorMessage"in u){t.next=17;break}return t.abrupt("return",u);case 17:if(c=o.ok?u.errorMessage:u.error.message,f=e(T)(c.split(" : "),2),p=f[0],d=f[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==p){t.next=23;break}throw Ia(r,"credential-already-in-use",u);case 23:if("EMAIL_EXISTS"!==p){t.next=27;break}throw Ia(r,"email-already-in-use",u);case 27:if("USER_DISABLED"!==p){t.next=29;break}throw Ia(r,"user-disabled",u);case 29:if(h=i[p]||p.toLowerCase().replace(/[_\s]+/g,"-"),!d){t.next=34;break}throw Qn(r,h,d);case 34:$n(r,h);case 35:t.next=42;break;case 37:if(t.prev=37,t.t0=t.catch(2),!(t.t0 instanceof ne)){t.next=41;break}throw t.t0;case 41:$n(r,"network-request-failed");case 42:case"end":return t.stop()}}),t,null,[[2,37]])})))).apply(this,arguments)}function ba(e,t,r,n){return wa.apply(this,arguments)}function wa(){return wa=e(c)(e(l).mark((function t(r,n,a,i){var s,o,u=arguments;return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=u.length>4&&void 0!==u[4]?u[4]:{},e.next=3,ma(r,n,a,i,s);case 3:return"mfaPendingCredential"in(o=e.sent)&&$n(r,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),t)}))),wa.apply(this,arguments)}function xa(e,t,r,n){var a="".concat(t).concat(r,"?").concat(n);return e.config.emulator?la(e.config,a):"".concat(e.config.apiScheme,"://").concat(a)}var _a=function(){"use strict";function t(r){var n=this;e(m)(this,t),this.auth=r,this.timer=null,this.promise=new Promise((function(e,t){var r=n;n.timer=setTimeout((function(){return t(Yn(r.auth,"network-request-failed"))}),ha.get())}))}return e(y)(t,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),t}();function Ia(e,t,r){var n={appName:e.name};r.email&&(n.email=r.email),r.phoneNumber&&(n.phoneNumber=r.phoneNumber);var a=Yn(e,t,n);return a.customData._tokenResponse=r,a}function Ta(e,t){return Ea.apply(this,arguments)}function Ea(){return(Ea=
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
e(c)(e(l).mark((function t(r,n){return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ma(r,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function Sa(e,t){return Oa.apply(this,arguments)}function Oa(){return(Oa=e(c)(e(l).mark((function t(r,n){return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ma(r,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),t)})))).apply(this,arguments)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ca(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(e){}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pa(){return Pa=e(c)(e(l).mark((function t(r){var n,a,i,s,o,u,c=arguments;return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=c.length>1&&void 0!==c[1]&&c[1],a=ye(r),e.next=4,a.getIdToken(n);case 4:return i=e.sent,ea((s=Aa(i))&&s.exp&&s.auth_time&&s.iat,a.auth,"internal-error"),o="object"==typeof s.firebase?s.firebase:void 0,u=null==o?void 0:o.sign_in_provider,e.abrupt("return",{claims:s,token:i,authTime:Ca(Ra(s.auth_time)),issuedAtTime:Ca(Ra(s.iat)),expirationTime:Ca(Ra(s.exp)),signInProvider:u||null,signInSecondFactor:(null==o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),t)}))),Pa.apply(this,arguments)}function Ra(e){return 1e3*Number(e)}function Aa(t){var r,n=e(T)(t.split("."),3),a=n[0],i=n[1],s=n[2];if(void 0===a||void 0===i||void 0===s)return Xn("JWT malformed, contained fewer than 3 sections"),null;try{var o=$(i);return o?JSON.parse(o):(Xn("Failed to decode base64 JWT payload"),null)}catch(e){return Xn("Caught error parsing JWT payload as JSON",null===(r=e)||void 0===r?void 0:r.toString()),null}}function Na(e,t){return Da.apply(this,arguments)}function Da(){return Da=
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
e(c)(e(l).mark((function t(r,n){var a=arguments;return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a.length>2&&void 0!==a[2]&&a[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof ne&&Ma(e.t0))){e.next=15;break}if(r.auth.currentUser!==r){e.next=15;break}return e.next=15,r.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),t,null,[[3,9]])}))),Da.apply(this,arguments)}function Ma(e){var t=e.code;return"auth/user-disabled"===t||"auth/user-token-expired"===t}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var La=function(){"use strict";function t(r){e(m)(this,t),this.user=r,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return e(y)(t,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}this.errorBackoff=3e4;var n=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,n)}},{key:"schedule",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var r=this.getInterval(t),n=this;this.timerId=setTimeout(e(c)(e(l).mark((function t(){return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.iteration();case 2:case"end":return e.stop()}}),t)}))),r)}}},{key:"iteration",value:function(){var t=this;return e(c)(e(l).mark((function r(){var n;return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=1,e.next=4,t.user.getIdToken(!0);case 4:e.next=10;break;case 6:return e.prev=6,e.t0=e.catch(1),"auth/network-request-failed"===(null===(n=e.t0)||void 0===n?void 0:n.code)&&t.schedule(!0),e.abrupt("return");case 10:t.schedule();case 11:case"end":return e.stop()}}),r,null,[[1,6]])})))()}}]),t}(),ja=function(){"use strict";function t(r,n){e(m)(this,t),this.createdAt=r,this.lastLoginAt=n,this._initializeTime()}return e(y)(t,[{key:"_initializeTime",value:function(){this.lastSignInTime=Ca(this.lastLoginAt),this.creationTime=Ca(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),t}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ua(e){return Fa.apply(this,arguments)}function Fa(){return(Fa=
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
e(c)(e(l).mark((function t(r){var n,a,i,s,o,u,c,f,p,d,h;return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.auth,e.next=4,r.getIdToken();case 4:return i=e.sent,e.next=7,Na(r,Sa(a,{idToken:i}));case 7:ea(null==(s=e.sent)?void 0:s.users.length,a,"internal-error"),o=s.users[0],r._notifyReloadListener(o),u=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?Ba(o.providerUserInfo):[],c=Ha(r.providerData,u),f=r.isAnonymous,p=!(r.email&&o.passwordHash||(null==c?void 0:c.length)),d=!!f&&p,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new ja(o.createdAt,o.lastLoginAt),isAnonymous:d},Object.assign(r,h);case 18:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function Va(){return(Va=e(c)(e(l).mark((function t(r){var n;return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=ye(r),e.next=3,Ua(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function Ha(t,r){var n=t.filter((function(e){return!r.some((function(t){return t.providerId===e.providerId}))}));return e(k)(n).concat(e(k)(r))}function Ba(e){return e.map((function(e){var t=e.providerId,r=Wn(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}}))}function za(e,t){return Wa.apply(this,arguments)}function Wa(){return(Wa=
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
e(c)(e(l).mark((function t(r,n){var a;return e(l).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ga(r,{},e(c)(e(l).mark((function t(){var a,i,s,o,u,c;return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=le({grant_type:"refresh_token",refresh_token:n}).slice(1),i=r.config,s=i.tokenApiHost,o=i.apiKey,u=xa(r,s,"/v1/token","key=".concat(o)),e.next=5,r._getAdditionalHeaders();case 5:return(c=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",pa.fetch()(u,{method:"POST",headers:c,body:a}));case 8:case"end":return e.stop()}}),t)}))));case 2:return a=t.sent,t.abrupt("return",{accessToken:a.access_token,expiresIn:a.expires_in,refreshToken:a.refresh_token});case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qa=function(){"use strict";function t(){e(m)(this,t),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return e(y)(t,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){ea(e.idToken,"internal-error"),ea(void 0!==e.idToken,"internal-error"),ea(void 0!==e.refreshToken,"internal-error");var t,r,n="expiresIn"in e&&void 0!==e.expiresIn?Number(e.expiresIn):(t=e.idToken,ea(r=Aa(t),"internal-error"),ea(void 0!==r.exp,"internal-error"),ea(void 0!==r.iat,"internal-error"),Number(r.exp)-Number(r.iat));this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}},{key:"getToken",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this;return e(c)(e(l).mark((function a(){return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ea(!n.accessToken||n.refreshToken,t,"user-token-expired"),r||!n.accessToken||n.isExpired){e.next=3;break}return e.abrupt("return",n.accessToken);case 3:if(!n.refreshToken){e.next=7;break}return e.next=6,n.refresh(t,n.refreshToken);case 6:return e.abrupt("return",n.accessToken);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),a)})))()}},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(t,r){var n=this;return e(c)(e(l).mark((function a(){var i,s,o,u;return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,za(t,r);case 2:i=e.sent,s=i.accessToken,o=i.refreshToken,u=i.expiresIn,n.updateTokensAndExpiration(s,o,Number(u));case 7:case"end":return e.stop()}}),a)})))()}},{key:"updateTokensAndExpiration",value:function(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new t,this.toJSON())}},{key:"_performRefresh",value:function(){return ta("not implemented")}}],[{key:"fromJSON",value:function(e,r){var n=r.refreshToken,a=r.accessToken,i=r.expirationTime,s=new t;return n&&(ea("string"==typeof n,"internal-error",{appName:e}),s.refreshToken=n),a&&(ea("string"==typeof a,"internal-error",{appName:e}),s.accessToken=a),i&&(ea("number"==typeof i,"internal-error",{appName:e}),s.expirationTime=i),s}}]),t}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ka(e,t){ea("string"==typeof e||void 0===e,"internal-error",{appName:t})}var Ga=function(){"use strict";function t(r){e(m)(this,t);var n=r.uid,a=r.auth,i=r.stsTokenManager,s=Wn(r,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new La(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=a,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?e(k)(s.providerData):[],this.metadata=new ja(s.createdAt||void 0,s.lastLoginAt||void 0)}return e(y)(t,[{key:"getIdToken",value:function(t){var r=this;return e(c)(e(l).mark((function n(){var a;return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Na(r,r.stsTokenManager.getToken(r.auth,t));case 2:if(ea(a=e.sent,r.auth,"internal-error"),r.accessToken===a){e.next=9;break}return r.accessToken=a,e.next=8,r.auth._persistUserIfCurrent(r);case 8:r.auth._notifyListenersIfCurrent(r);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),n)})))()}},{key:"getIdTokenResult",value:function(e){return function(e){return Pa.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return Va.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(ea(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(e){return new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}},{key:"_onReload",value:function(e){ea(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this;return e(c)(e(l).mark((function a(){var i;return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=!1,t.idToken&&t.idToken!==n.stsTokenManager.accessToken&&(n.stsTokenManager.updateFromServerResponse(t),i=!0),!r){e.next=5;break}return e.next=5,Ua(n);case 5:return e.next=7,n.auth._persistUserIfCurrent(n);case 7:i&&n.auth._notifyListenersIfCurrent(n);case 8:case"end":return e.stop()}}),a)})))()}},{key:"delete",value:function(){var t=this;return e(c)(e(l).mark((function r(){var n;return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getIdToken();case 2:return n=e.sent,e.next=5,Na(t,Ta(t.auth,{idToken:n}));case 5:return t.stsTokenManager.clearRefreshToken(),e.abrupt("return",t.auth.signOut());case 7:case"end":return e.stop()}}),r)})))()}},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(e,r){var n,a,i,s,o,u,c,l,f=null!==(n=r.displayName)&&void 0!==n?n:void 0,p=null!==(a=r.email)&&void 0!==a?a:void 0,d=null!==(i=r.phoneNumber)&&void 0!==i?i:void 0,h=null!==(s=r.photoURL)&&void 0!==s?s:void 0,v=null!==(o=r.tenantId)&&void 0!==o?o:void 0,m=null!==(u=r._redirectEventId)&&void 0!==u?u:void 0,y=null!==(c=r.createdAt)&&void 0!==c?c:void 0,g=null!==(l=r.lastLoginAt)&&void 0!==l?l:void 0,k=r.uid,b=r.emailVerified,w=r.isAnonymous,x=r.providerData,_=r.stsTokenManager;ea(k&&_,e,"internal-error");var I=qa.fromJSON(this.name,_);ea("string"==typeof k,e,"internal-error"),Ka(f,e.name),Ka(p,e.name),ea("boolean"==typeof b,e,"internal-error"),ea("boolean"==typeof w,e,"internal-error"),Ka(d,e.name),Ka(h,e.name),Ka(v,e.name),Ka(m,e.name),Ka(y,e.name),Ka(g,e.name);var T=new t({uid:k,auth:e,email:p,emailVerified:b,displayName:f,isAnonymous:w,photoURL:h,phoneNumber:d,tenantId:v,stsTokenManager:I,createdAt:y,lastLoginAt:g});return x&&Array.isArray(x)&&(T.providerData=x.map((function(e){return Object.assign({},e)}))),m&&(T._redirectEventId=m),T}},{key:"_fromIdTokenResponse",value:function(r,n){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return e(c)(e(l).mark((function i(){var s,o;return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(s=new qa).updateFromServerResponse(n),o=new t({uid:n.localId,auth:r,stsTokenManager:s,isAnonymous:a}),e.next=5,Ua(o);case 5:return e.abrupt("return",o);case 6:case"end":return e.stop()}}),i)})))()}}]),t}(),Ja=function(){"use strict";function t(){e(m)(this,t),this.type="NONE",this.storage={}}return e(y)(t,[{key:"_isAvailable",value:function(){return e(c)(e(l).mark((function t(){return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),t)})))()}},{key:"_set",value:function(t,r){var n=this;return e(c)(e(l).mark((function a(){return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.storage[t]=r;case 1:case"end":return e.stop()}}),a)})))()}},{key:"_get",value:function(t){var r=this;return e(c)(e(l).mark((function n(){var a;return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.storage[t],e.abrupt("return",void 0===a?null:a);case 2:case"end":return e.stop()}}),n)})))()}},{key:"_remove",value:function(t){var r=this;return e(c)(e(l).mark((function n(){return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete r.storage[t];case 1:case"end":return e.stop()}}),n)})))()}},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),t}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ja.type="NONE";var Xa=Ja;
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $a(e,t,r){return"firebase:".concat(e,":").concat(t,":").concat(r)}var Ya=function(){"use strict";function t(r,n,a){e(m)(this,t),this.persistence=r,this.auth=n,this.userKey=a;var i=this.auth,s=i.config,o=i.name;this.fullUserKey=$a(this.userKey,s.apiKey,o),this.fullPersistenceKey=$a("persistence",s.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return e(y)(t,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var t=this;return e(c)(e(l).mark((function r(){var n;return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.persistence._get(t.fullUserKey);case 2:return n=e.sent,e.abrupt("return",n?Ga._fromJSON(t.auth,n):null);case 4:case"end":return e.stop()}}),r)})))()}},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(t){var r=this;return e(c)(e(l).mark((function n(){var a;return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,r.getCurrentUser();case 4:return a=e.sent,e.next=7,r.removeCurrentUser();case 7:if(r.persistence=t,!a){e.next=10;break}return e.abrupt("return",r.setCurrentUser(a));case 10:case"end":return e.stop()}}),n)})))()}},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(r,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";return e(c)(e(l).mark((function i(){var s,o,u,f,p,d,h,v,m,y,g,k,b;return e(l).wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(n.length){i.next=2;break}return i.abrupt("return",new t(aa(Xa),r,a));case 2:return i.next=4,Promise.all(n.map(function(){var t=e(c)(e(l).mark((function t(r){return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",r);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()));case 4:s=i.sent.filter((function(e){return e})),o=s[0]||aa(Xa),u=$a(a,r.config.apiKey,r.name),f=null,p=!0,d=!1,h=void 0,i.prev=9,v=n[Symbol.iterator]();case 11:if(p=(m=v.next()).done){i.next=29;break}return y=m.value,i.prev=13,i.next=16,y._get(u);case 16:if(!(g=i.sent)){i.next=22;break}return k=Ga._fromJSON(r,g),y!==o&&(f=k),o=y,i.abrupt("break",29);case 22:i.next=26;break;case 24:i.prev=24,i.t0=i.catch(13);case 26:p=!0,i.next=11;break;case 29:i.next=35;break;case 31:i.prev=31,i.t1=i.catch(9),d=!0,h=i.t1;case 35:i.prev=35,i.prev=36,p||null==v.return||v.return();case 38:if(i.prev=38,!d){i.next=41;break}throw h;case 41:return i.finish(38);case 42:return i.finish(35);case 43:if(b=s.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&b.length){i.next=46;break}return i.abrupt("return",new t(o,r,a));case 46:if(o=b[0],!f){i.next=50;break}return i.next=50,o._set(u,f.toJSON());case 50:return i.next=52,Promise.all(n.map(function(){var t=e(c)(e(l).mark((function t(r){return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r===o){e.next=8;break}return e.prev=1,e.next=4,r._remove(u);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),t,null,[[1,6]])})));return function(e){return t.apply(this,arguments)}}()));case 52:return i.abrupt("return",new t(o,r,a));case 53:case"end":return i.stop()}}),i,null,[[9,31,35,43],[13,24],[36,,38,42]])})))()}}]),t}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qa(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(ri(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Za(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(ai(t))return"Blackberry";if(ii(t))return"Webos";if(ei(t))return"Safari";if((t.includes("chrome/")||ti(t))&&!t.includes("edge/"))return"Chrome";if(ni(t))return"Android";var r=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null==r?void 0:r.length)?r[1]:"Other"}function Za(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q();return/firefox\//i.test(e)}function ei(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q(),t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function ti(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q();return/crios\//i.test(e)}function ri(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q();return/iemobile/i.test(e)}function ni(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q();return/android/i.test(e)}function ai(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q();return/blackberry/i.test(e)}function ii(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q();return/webos/i.test(e)}function si(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function oi(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q();return si(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}function ui(){return((e=Q()).indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0)&&10===document.documentMode;var e}function ci(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q();return si(e)||ni(e)||ii(e)||ai(e)||/windows phone/i.test(e)||ri(e)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function li(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Qa(Q());break;case"Worker":t="".concat(Qa(Q()),"-").concat(e);break;default:t=e}var n=r.length?r.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(pt,"/").concat(n)}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fi=function(){"use strict";function t(r){e(m)(this,t),this.auth=r,this.queue=[]}return e(y)(t,[{key:"pushCallback",value:function(e,t){var r=this,n=function(t){return new Promise((function(r,n){try{r(e(t))}catch(e){n(e)}}))};n.onAbort=t,this.queue.push(n);var a=this.queue.length-1;return function(){r.queue[a]=function(){return Promise.resolve()}}}},{key:"runMiddleware",value:function(t){var r=this;return e(c)(e(l).mark((function n(){var a,i,s,o,u,c,f,p,d,h,v,m,y,g;return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.auth.currentUser!==t){e.next=3;break}return e.abrupt("return");case 3:i=[],e.prev=4,s=!0,o=!1,u=void 0,e.prev=6,c=r.queue[Symbol.iterator]();case 8:if(s=(f=c.next()).done){e.next=16;break}return p=f.value,e.next=12,p(t);case 12:p.onAbort&&i.push(p.onAbort);case 13:s=!0,e.next=8;break;case 16:e.next=22;break;case 18:e.prev=18,e.t0=e.catch(6),o=!0,u=e.t0;case 22:e.prev=22,e.prev=23,s||null==c.return||c.return();case 25:if(e.prev=25,!o){e.next=28;break}throw u;case 28:return e.finish(25);case 29:return e.finish(22);case 30:e.next=53;break;case 32:for(e.prev=32,e.t1=e.catch(4),i.reverse(),d=!0,h=!1,v=void 0,e.prev=36,m=i[Symbol.iterator]();!(d=(y=m.next()).done);d=!0){g=y.value;try{g()}catch(e){}}e.next=44;break;case 40:e.prev=40,e.t2=e.catch(36),h=!0,v=e.t2;case 44:e.prev=44,e.prev=45,d||null==m.return||m.return();case 47:if(e.prev=47,!h){e.next=50;break}throw v;case 50:return e.finish(47);case 51:return e.finish(44);case 52:throw r.auth._errorFactory.create("login-blocked",{originalMessage:null===(a=e.t1)||void 0===a?void 0:a.message});case 53:case"end":return e.stop()}}),n,null,[[4,32],[6,18,22,30],[23,,25,29],[36,40,44,52],[45,,47,51]])})))()}}]),t}(),pi=function(){"use strict";function t(r,n,a){e(m)(this,t),this.app=r,this.heartbeatServiceProvider=n,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new hi(this),this.idTokenSubscription=new hi(this),this.beforeStateQueue=new fi(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Gn,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=r.name,this.clientVersion=a.sdkClientVersion}return e(y)(t,[{key:"_initializeWithPersistence",value:function(t,r){r&&(this._popupRedirectResolver=aa(r));var n=this;return this._initializationPromise=this.queue(e(c)(e(l).mark((function a(){var i,s;return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n._deleted){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,Ya.create(n,t);case 5:if(n.persistenceManager=e.sent,!n._deleted){e.next=8;break}return e.abrupt("return");case 8:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){e.next=16;break}return e.prev=9,e.next=12,n._popupRedirectResolver._initialize(n);case 12:e.next=16;break;case 14:e.prev=14,e.t0=e.catch(9);case 16:return e.next=18,n.initializeCurrentUser(r);case 18:if(n.lastNotifiedUid=(null===(s=n.currentUser)||void 0===s?void 0:s.uid)||null,!n._deleted){e.next=21;break}return e.abrupt("return");case 21:n._isInitialized=!0;case 22:case"end":return e.stop()}}),a,null,[[9,14]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var t=this;return e(c)(e(l).mark((function r(){var n;return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,t.assertedPersistence.getCurrentUser();case 4:if(n=e.sent,t.currentUser||n){e.next=7;break}return e.abrupt("return");case 7:if(!t.currentUser||!n||t.currentUser.uid!==n.uid){e.next=12;break}return t._currentUser._assign(n),e.next=11,t.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,t._updateCurrentUser(n,!0);case 14:case"end":return e.stop()}}),r)})))()}},{key:"initializeCurrentUser",value:function(t){var r=this;return e(c)(e(l).mark((function n(){var a,i,s,o,u,c,f;return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,r.assertedPersistence.getCurrentUser();case 3:if(i=e.sent,s=i,o=!1,!t||!r.config.authDomain){e.next=15;break}return e.next=9,r.getOrInitRedirectPersistenceManager();case 9:return u=null===(a=r.redirectUser)||void 0===a?void 0:a._redirectEventId,c=null==s?void 0:s._redirectEventId,e.next=13,r.tryRedirectSignIn(t);case 13:f=e.sent,u&&u!==c||!(null==f?void 0:f.user)||(s=f.user,o=!0);case 15:if(s){e.next=17;break}return e.abrupt("return",r.directlySetCurrentUser(null));case 17:if(s._redirectEventId){e.next=33;break}if(!o){e.next=28;break}return e.prev=19,e.next=22,r.beforeStateQueue.runMiddleware(s);case 22:e.next=28;break;case 24:e.prev=24,e.t0=e.catch(19),s=i,r._popupRedirectResolver._overrideRedirectResult(r,(function(){return Promise.reject(e.t0)}));case 28:if(!s){e.next=32;break}return e.abrupt("return",r.reloadAndSetCurrentUserOrClear(s));case 32:return e.abrupt("return",r.directlySetCurrentUser(null));case 33:return ea(r._popupRedirectResolver,r,"argument-error"),e.next=36,r.getOrInitRedirectPersistenceManager();case 36:if(!r.redirectUser||r.redirectUser._redirectEventId!==s._redirectEventId){e.next=38;break}return e.abrupt("return",r.directlySetCurrentUser(s));case 38:return e.abrupt("return",r.reloadAndSetCurrentUserOrClear(s));case 39:case"end":return e.stop()}}),n,null,[[19,24]])})))()}},{key:"tryRedirectSignIn",value:function(t){var r=this;return e(c)(e(l).mark((function n(){var a;return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=null,e.prev=1,e.next=4,r._popupRedirectResolver._completeRedirectFn(r,t,!0);case 4:a=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,r._setRedirectUser(null);case 11:return e.abrupt("return",a);case 12:case"end":return e.stop()}}),n,null,[[1,7]])})))()}},{key:"reloadAndSetCurrentUserOrClear",value:function(t){var r=this;return e(c)(e(l).mark((function n(){var a;return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=1,e.next=4,Ua(t);case 4:e.next=10;break;case 6:if(e.prev=6,e.t0=e.catch(1),"auth/network-request-failed"===(null===(a=e.t0)||void 0===a?void 0:a.code)){e.next=10;break}return e.abrupt("return",r.directlySetCurrentUser(null));case 10:return e.abrupt("return",r.directlySetCurrentUser(t));case 11:case"end":return e.stop()}}),n,null,[[1,6]])})))()}},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"==typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var t=this;return e(c)(e(l).mark((function r(){return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t._deleted=!0;case 1:case"end":return e.stop()}}),r)})))()}},{key:"updateCurrentUser",value:function(t){var r=this;return e(c)(e(l).mark((function n(){var a;return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=t?ye(t):null)&&ea(a.auth.config.apiKey===r.config.apiKey,r,"invalid-user-token"),e.abrupt("return",r._updateCurrentUser(a&&a._clone(r)));case 3:case"end":return e.stop()}}),n)})))()}},{key:"_updateCurrentUser",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this;return e(c)(e(l).mark((function a(){return e(l).wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!n._deleted){a.next=2;break}return a.abrupt("return");case 2:if(t&&ea(n.tenantId===t.tenantId,n,"tenant-id-mismatch"),r){a.next=6;break}return a.next=6,n.beforeStateQueue.runMiddleware(t);case 6:return a.abrupt("return",n.queue(e(c)(e(l).mark((function r(){return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.directlySetCurrentUser(t);case 2:n.notifyAuthListeners();case 3:case"end":return e.stop()}}),r)})))));case 7:case"end":return a.stop()}}),a)})))()}},{key:"signOut",value:function(){var t=this;return e(c)(e(l).mark((function r(){return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.beforeStateQueue.runMiddleware(null);case 2:if(!t.redirectPersistenceManager&&!t._popupRedirectResolver){e.next=5;break}return e.next=5,t._setRedirectUser(null);case 5:return e.abrupt("return",t._updateCurrentUser(null,!0));case 6:case"end":return e.stop()}}),r)})))()}},{key:"setPersistence",value:function(t){var r=this;return this.queue(e(c)(e(l).mark((function n(){return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.assertedPersistence.setPersistence(aa(t));case 2:case"end":return e.stop()}}),n)}))))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new ae("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}},{key:"beforeAuthStateChanged",value:function(e,t){return this.beforeStateQueue.pushCallback(e,t)}},{key:"onIdTokenChanged",value:function(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(t,r){var n=this;return e(c)(e(l).mark((function a(){var i;return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.getOrInitRedirectPersistenceManager(r);case 2:return i=e.sent,e.abrupt("return",null===t?i.removeCurrentUser():i.setCurrentUser(t));case 4:case"end":return e.stop()}}),a)})))()}},{key:"getOrInitRedirectPersistenceManager",value:function(t){var r=this;return e(c)(e(l).mark((function n(){var a;return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.redirectPersistenceManager){e.next=9;break}return ea(a=t&&aa(t)||r._popupRedirectResolver,r,"argument-error"),e.next=5,Ya.create(r,[aa(a._redirectPersistence)],"redirectUser");case 5:return r.redirectPersistenceManager=e.sent,e.next=8,r.redirectPersistenceManager.getCurrentUser();case 8:r.redirectUser=e.sent;case 9:return e.abrupt("return",r.redirectPersistenceManager);case 10:case"end":return e.stop()}}),n)})))()}},{key:"_redirectUserForId",value:function(t){var r=this;return e(c)(e(l).mark((function n(){var a,i;return e(l).wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!r._isInitialized){n.next=4;break}return n.next=4,r.queue(e(c)(e(l).mark((function t(){return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),t)}))));case 4:if((null===(a=r._currentUser)||void 0===a?void 0:a._redirectEventId)!==t){n.next=6;break}return n.abrupt("return",r._currentUser);case 6:if((null===(i=r.redirectUser)||void 0===i?void 0:i._redirectEventId)!==t){n.next=8;break}return n.abrupt("return",r.redirectUser);case 8:return n.abrupt("return",null);case 9:case"end":return n.stop()}}),n)})))()}},{key:"_persistUserIfCurrent",value:function(t){var r=this;return e(c)(e(l).mark((function n(){return e(l).wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t!==r.currentUser){n.next=2;break}return n.abrupt("return",r.queue(e(c)(e(l).mark((function n(){return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",r.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),n)})))));case 2:case"end":return n.stop()}}),n)})))()}},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var r=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,r,n){var a=this;if(this._deleted)return function(){};var i="function"==typeof t?t:t.next.bind(t),s=this._isInitialized?Promise.resolve():this._initializationPromise;return ea(s,this,"internal-error"),s.then((function(){return i(a.currentUser)})),"function"==typeof t?e.addObserver(t,r,n):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(t){var r=this;return e(c)(e(l).mark((function n(){return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.currentUser&&r.currentUser!==t&&(r._currentUser._stopProactiveRefresh(),t&&r.isProactiveRefreshEnabled&&t._startProactiveRefresh()),r.currentUser=t,!t){e.next=7;break}return e.next=5,r.assertedPersistence.setCurrentUser(t);case 5:e.next=9;break;case 7:return e.next=9,r.assertedPersistence.removeCurrentUser();case 9:case"end":return e.stop()}}),n)})))()}},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return ea(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=li(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var t=this;return e(c)(e(l).mark((function r(){var n,a,i;return e(l).wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a=e(g)({},"X-Client-Version",t.clientVersion),t.app.options.appId&&(a["X-Firebase-gmpid"]=t.app.options.appId),r.next=5,null===(n=t.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getHeartbeatsHeader();case 5:return(i=r.sent)&&(a["X-Firebase-Client"]=i),r.abrupt("return",a);case 8:case"end":return r.stop()}}),r)})))()}}]),t}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function di(e){return ye(e)}var hi=function(){"use strict";function t(r){var n,a,i=this;e(m)(this,t),this.auth=r,this.observer=null,this.addObserver=(a=new de((function(e){return i.observer=e}),n)).subscribe.bind(a)}return e(y)(t,[{key:"next",get:function(){return ea(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),t}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var vi=function(){"use strict";function t(r,n){e(m)(this,t),this.providerId=r,this.signInMethod=n}return e(y)(t,[{key:"toJSON",value:function(){return ta("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return ta("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return ta("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return ta("not implemented")}}]),t}();function mi(e,t){return yi.apply(this,arguments)}function yi(){return(yi=e(c)(e(l).mark((function t(r,n){return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ma(r,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function gi(e,t){return ki.apply(this,arguments)}function ki(){return(ki=
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
e(c)(e(l).mark((function t(r,n){return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ba(r,"POST","/v1/accounts:signInWithPassword",va(r,n)));case 1:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function bi(e,t){return wi.apply(this,arguments)}function wi(){return(wi=
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
e(c)(e(l).mark((function t(r,n){return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ba(r,"POST","/v1/accounts:signInWithEmailLink",va(r,n)));case 1:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function xi(e,t){return _i.apply(this,arguments)}function _i(){return(_i=e(c)(e(l).mark((function t(r,n){return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ba(r,"POST","/v1/accounts:signInWithEmailLink",va(r,n)));case 1:case"end":return e.stop()}}),t)})))).apply(this,arguments)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ii=function(t){"use strict";e(A)(n,t);var r=e(B)(n);function n(t,a,i){var s,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return e(m)(this,n),(s=r.call(this,"password",i))._email=t,s._password=a,s._tenantId=o,s}return e(y)(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(t){var r=this;return e(c)(e(l).mark((function n(){return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=r.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",gi(t,{returnSecureToken:!0,email:r._email,password:r._password}));case 4:return e.abrupt("return",bi(t,{email:r._email,oobCode:r._password}));case 5:$n(t,"internal-error");case 6:case"end":return e.stop()}}),n)})))()}},{key:"_linkToIdToken",value:function(t,r){var n=this;return e(c)(e(l).mark((function a(){return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=n.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",mi(t,{idToken:r,returnSecureToken:!0,email:n._email,password:n._password}));case 4:return e.abrupt("return",xi(t,{idToken:r,email:n._email,oobCode:n._password}));case 5:$n(t,"internal-error");case 6:case"end":return e.stop()}}),a)})))()}},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new n(e,t,"emailLink",r)}},{key:"fromJSON",value:function(e){var t="string"==typeof e?JSON.parse(e):e;if((null==t?void 0:t.email)&&(null==t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(vi);function Ti(e,t){return Ei.apply(this,arguments)}function Ei(){return(Ei=
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
e(c)(e(l).mark((function t(r,n){return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ba(r,"POST","/v1/accounts:signInWithIdp",va(r,n)));case 1:case"end":return e.stop()}}),t)})))).apply(this,arguments)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Si=function(t){"use strict";e(A)(n,t);var r=e(B)(n);function n(){var t;return e(m)(this,n),(t=r.call.apply(r,[this].concat(Array.prototype.slice.call(arguments)))).pendingToken=null,t}return e(y)(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return Ti(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var r=this.buildRequest();return r.idToken=t,Ti(e,r)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,Ti(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=le(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):$n("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"==typeof e?JSON.parse(e):e,r=t.providerId,a=t.signInMethod,i=Wn(t,["providerId","signInMethod"]);if(!r||!a)return null;var s=new n(r,a);return s.idToken=i.idToken||void 0,s.accessToken=i.accessToken||void 0,s.secret=i.secret,s.nonce=i.nonce,s.pendingToken=i.pendingToken||null,s}}]),n}(vi);function Oi(e,t){return Ci.apply(this,arguments)}function Ci(){return(Ci=
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
e(c)(e(l).mark((function t(r,n){return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ma(r,"POST","/v1/accounts:sendVerificationCode",va(r,n)));case 1:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function Pi(){return(Pi=e(c)(e(l).mark((function t(r,n){return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ba(r,"POST","/v1/accounts:signInWithPhoneNumber",va(r,n)));case 1:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function Ri(){return(Ri=e(c)(e(l).mark((function t(r,n){var a;return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ba(r,"POST","/v1/accounts:signInWithPhoneNumber",va(r,n));case 2:if(!(a=e.sent).temporaryProof){e.next=5;break}throw Ia(r,"account-exists-with-different-credential",a);case 5:return e.abrupt("return",a);case 6:case"end":return e.stop()}}),t)})))).apply(this,arguments)}var Ai=e(g)({},"USER_NOT_FOUND","user-not-found");function Ni(){return(Ni=e(c)(e(l).mark((function t(r,n){var a;return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",ba(r,"POST","/v1/accounts:signInWithPhoneNumber",va(r,a),Ai));case 2:case"end":return e.stop()}}),t)})))).apply(this,arguments)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Di=function(t){"use strict";e(A)(n,t);var r=e(B)(n);function n(t){var a;return e(m)(this,n),(a=r.call(this,"phone","phone")).params=t,a}return e(y)(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return Pi.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return Ri.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return Ni.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,r=e.phoneNumber,n=e.verificationId,a=e.verificationCode;return t&&r?{temporaryProof:t,phoneNumber:r}:{sessionInfo:n,code:a}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"==typeof e&&(e=JSON.parse(e));var t=e.verificationId,r=e.verificationCode,a=e.phoneNumber,i=e.temporaryProof;return r||t||a||i?new n({verificationId:t,verificationCode:r,phoneNumber:a,temporaryProof:i}):null}}]),n}(vi);
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mi=function(){"use strict";function t(r){var n,a,i,s,o,u;e(m)(this,t);var c=fe(pe(r)),l=null!==(n=c.apiKey)&&void 0!==n?n:null,f=null!==(a=c.oobCode)&&void 0!==a?a:null,p=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=c.mode)&&void 0!==i?i:null);ea(l&&f&&p,"argument-error"),this.apiKey=l,this.operation=p,this.code=f,this.continueUrl=null!==(s=c.continueUrl)&&void 0!==s?s:null,this.languageCode=null!==(o=c.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(u=c.tenantId)&&void 0!==u?u:null}return e(y)(t,null,[{key:"parseLink",value:function(e){var r=function(e){var t=fe(pe(e)).link,r=t?fe(pe(t)).deep_link_id:null,n=fe(pe(e)).deep_link_id;return(n?fe(pe(n)).link:null)||n||r||t||e}(e);try{return new t(r)}catch(e){return null}}}]),t}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Li=function(){"use strict";function t(){e(m)(this,t),this.providerId=t.PROVIDER_ID}return e(y)(t,null,[{key:"credential",value:function(e,t){return Ii._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var r=Mi.parseLink(t);return ea(r,"argument-error"),Ii._fromEmailAndCode(e,r.code,r.tenantId)}}]),t}();Li.PROVIDER_ID="password",Li.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Li.EMAIL_LINK_SIGN_IN_METHOD="emailLink";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var ji=function(){"use strict";function t(r){e(m)(this,t),this.providerId=r,this.defaultLanguageCode=null,this.customParameters={}}return e(y)(t,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),t}(),Ui=function(t){"use strict";e(A)(n,t);var r=e(B)(n);function n(){var t;return e(m)(this,n),(t=r.call.apply(r,[this].concat(Array.prototype.slice.call(arguments)))).scopes=[],t}return e(y)(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return e(k)(this.scopes)}}]),n}(ji),Fi=function(t){"use strict";e(A)(n,t);var r=e(B)(n);function n(){return e(m)(this,n),r.call(this,"facebook.com")}return e(y)(n,null,[{key:"credential",value:function(e){return Si._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(e){return null}}}]),n}(Ui);
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Fi.FACEBOOK_SIGN_IN_METHOD="facebook.com",Fi.PROVIDER_ID="facebook.com";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Vi=function(t){"use strict";e(A)(n,t);var r=e(B)(n);function n(){var t;return e(m)(this,n),(t=r.call(this,"google.com")).addScope("profile"),t}return e(y)(n,null,[{key:"credential",value:function(e,t){return Si._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,a=t.oauthAccessToken;if(!r&&!a)return null;try{return n.credential(r,a)}catch(e){return null}}}]),n}(Ui);Vi.GOOGLE_SIGN_IN_METHOD="google.com",Vi.PROVIDER_ID="google.com";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Hi=function(t){"use strict";e(A)(n,t);var r=e(B)(n);function n(){return e(m)(this,n),r.call(this,"github.com")}return e(y)(n,null,[{key:"credential",value:function(e){return Si._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(e){return null}}}]),n}(Ui);Hi.GITHUB_SIGN_IN_METHOD="github.com",Hi.PROVIDER_ID="github.com";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Bi=function(t){"use strict";e(A)(n,t);var r=e(B)(n);function n(){return e(m)(this,n),r.call(this,"twitter.com")}return e(y)(n,null,[{key:"credential",value:function(e,t){return Si._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,a=t.oauthTokenSecret;if(!r||!a)return null;try{return n.credential(r,a)}catch(e){return null}}}]),n}(Ui);function zi(e,t){return Wi.apply(this,arguments)}function Wi(){return(Wi=
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
e(c)(e(l).mark((function t(r,n){return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ba(r,"POST","/v1/accounts:signUp",va(r,n)));case 1:case"end":return e.stop()}}),t)})))).apply(this,arguments)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Bi.TWITTER_SIGN_IN_METHOD="twitter.com",Bi.PROVIDER_ID="twitter.com";var qi=function(){"use strict";function t(r){e(m)(this,t),this.user=r.user,this.providerId=r.providerId,this._tokenResponse=r._tokenResponse,this.operationType=r.operationType}return e(y)(t,null,[{key:"_fromIdTokenResponse",value:function(r,n,a){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return e(c)(e(l).mark((function s(){var o,u,c;return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ga._fromIdTokenResponse(r,a,i);case 2:return o=e.sent,u=Ki(a),c=new t({user:o,providerId:u,_tokenResponse:a,operationType:n}),e.abrupt("return",c);case 6:case"end":return e.stop()}}),s)})))()}},{key:"_forOperation",value:function(r,n,a){return e(c)(e(l).mark((function i(){var s;return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._updateTokensIfNecessary(a,!0);case 2:return s=Ki(a),e.abrupt("return",new t({user:r,providerId:s,_tokenResponse:a,operationType:n}));case 4:case"end":return e.stop()}}),i)})))()}}]),t}();function Ki(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Gi=function(t){"use strict";e(A)(n,t);var r=e(B)(n);function n(t,a,i,s){var o,u;return e(m)(this,n),(o=r.call(this,a.code,a.message)).operationType=i,o.user=s,Object.setPrototypeOf(e(R)(o),n.prototype),o.customData={appName:t.name,tenantId:null!==(u=t.tenantId)&&void 0!==u?u:void 0,_serverResponse:a.customData._serverResponse,operationType:i},o}return e(y)(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,a){return new n(e,t,r,a)}}]),n}(ne);function Ji(e,t,r,n){return("reauthenticate"===t?r._getReauthenticationResolver(e):r._getIdTokenResponse(e)).catch((function(r){if("auth/multi-factor-auth-required"===r.code)throw Gi._fromErrorAndOperation(e,r,t,n);throw r}))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xi(e,t){return $i.apply(this,arguments)}function $i(){return $i=e(c)(e(l).mark((function t(r,n){var a,i,s=arguments;return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=s.length>2&&void 0!==s[2]&&s[2],e.t0=Na,e.t1=r,e.t2=n,e.t3=r.auth,e.next=7,r.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=a,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",qi._forOperation(r,"link",i));case 14:case"end":return e.stop()}}),t)}))),$i.apply(this,arguments)}function Yi(e,t){return Qi.apply(this,arguments)}function Qi(){return Qi=
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
e(c)(e(l).mark((function t(r,n){var a,i,s,o,u,c,f,p=arguments;return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=p.length>2&&void 0!==p[2]&&p[2],s=r.auth,o="reauthenticate",e.prev=4,e.next=7,Na(r,Ji(s,o,n,r),a);case 7:return ea((u=e.sent).idToken,s,"internal-error"),ea(c=Aa(u.idToken),s,"internal-error"),f=c.sub,ea(r.uid===f,s,"user-mismatch"),e.abrupt("return",qi._forOperation(r,o,u));case 16:throw e.prev=16,e.t0=e.catch(4),"auth/user-not-found"===(null===(i=e.t0)||void 0===i?void 0:i.code)&&$n(s,"user-mismatch"),e.t0;case 20:case"end":return e.stop()}}),t,null,[[4,16]])}))),Qi.apply(this,arguments)}function Zi(e,t){return es.apply(this,arguments)}function es(){return es=
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
e(c)(e(l).mark((function t(r,n){var a,i,s,o,u=arguments;return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=u.length>2&&void 0!==u[2]&&u[2],i="signIn",e.next=4,Ji(r,i,n);case 4:return s=e.sent,e.next=7,qi._fromIdTokenResponse(r,i,s);case 7:if(o=e.sent,a){e.next=11;break}return e.next=11,r._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),t)}))),es.apply(this,arguments)}function ts(e,t){return rs.apply(this,arguments)}function rs(){return(rs=e(c)(e(l).mark((function t(r,n){return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Zi(di(r),n));case 1:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function ns(e,t,r){return as.apply(this,arguments)}function as(){return(as=e(c)(e(l).mark((function t(r,n,a){var i,s,o;return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=di(r),e.next=3,zi(i,{returnSecureToken:!0,email:n,password:a});case 3:return s=e.sent,e.next=6,qi._fromIdTokenResponse(i,"signIn",s);case 6:return o=e.sent,e.next=9,i._updateCurrentUser(o.user);case 9:return e.abrupt("return",o);case 10:case"end":return e.stop()}}),t)})))).apply(this,arguments)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function is(e,t){return ma(e,"POST","/v2/accounts/mfaEnrollment:start",va(e,t))}new WeakMap;var ss="__sak",os=function(){"use strict";function t(r,n){e(m)(this,t),this.storageRetriever=r,this.type=n}return e(y)(t,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(ss,"1"),this.storage.removeItem(ss),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),t}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var us=function(t){"use strict";e(A)(n,t);var r=e(B)(n);function n(){var t,a;return e(m)(this,n),(t=r.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(e,r){return t.onStorageEvent(e,r)},t.listeners={},t.localCache={},t.pollTimer=null,t.safariLocalStorageNotSynced=(ei(a=Q())||si(a))&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),t.fallbackToPolling=ci(),t._shouldAllowMigration=!0,t}return e(y)(n,[{key:"forAllChangedKeys",value:function(e){var t=!0,r=!1,n=void 0;try{for(var a,i=Object.keys(this.listeners)[Symbol.iterator]();!(t=(a=i.next()).done);t=!0){var s=a.value,o=this.storage.getItem(s),u=this.localCache[s];o!==u&&e(s,u,o)}}catch(e){r=!0,n=e}finally{try{t||null==i.return||i.return()}finally{if(r)throw n}}}},{key:"onStorageEvent",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this;if(e.key){var n=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var a=this.storage.getItem(n);if(e.newValue!==a)null!==e.newValue?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!t)return}var i=function(){var e=r.storage.getItem(n);(t||r.localCache[n]!==e)&&r.notifyListeners(n,e)},s=this.storage.getItem(n);ui()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,10):i()}else{var o=this;this.forAllChangedKeys((function(e,t,r){o.notifyListeners(e,r)}))}}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var r=this.listeners[e],n=!0,a=!1,i=void 0;if(r)try{for(var s,o=Array.from(r)[Symbol.iterator]();!(n=(s=o.next()).done);n=!0){(0,s.value)(t?JSON.parse(t):t)}}catch(e){a=!0,i=e}finally{try{n||null==o.return||o.return()}finally{if(a)throw i}}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){var t=e;e.forAllChangedKeys((function(e,r,n){t.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:r,newValue:n}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(t,r){var a=this,i=this;return e(c)(e(l).mark((function s(){return e(l).wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,e(Vn)(e(zn)(n.prototype),"_set",a).call(i,t,r);case 2:i.localCache[t]=JSON.stringify(r);case 3:case"end":return s.stop()}}),s)})))()}},{key:"_get",value:function(t){var r=this,a=this;return e(c)(e(l).mark((function i(){var s;return e(l).wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,e(Vn)(e(zn)(n.prototype),"_get",r).call(a,t);case 2:return s=i.sent,a.localCache[t]=JSON.stringify(s),i.abrupt("return",s);case 5:case"end":return i.stop()}}),i)})))()}},{key:"_remove",value:function(t){var r=this,a=this;return e(c)(e(l).mark((function i(){return e(l).wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,e(Vn)(e(zn)(n.prototype),"_remove",r).call(a,t);case 2:delete a.localCache[t];case 3:case"end":return i.stop()}}),i)})))()}}]),n}(os);us.type="LOCAL";var cs=us,ls=function(t){"use strict";e(A)(n,t);var r=e(B)(n);function n(){return e(m)(this,n),r.call(this,(function(){return window.sessionStorage}),"SESSION")}return e(y)(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(os);
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ls.type="SESSION";var fs=ls;
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ps(t){return Promise.all(t.map((r=e(c)(e(l).mark((function t(r){var n;return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),t,null,[[0,7]])}))),function(e){return r.apply(this,arguments)})));var r}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ds=function(){"use strict";function t(r){e(m)(this,t),this.eventTarget=r,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return e(y)(t,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(t){var r=this;return e(c)(e(l).mark((function n(){var a,i,s,o,u,f,p,d;return e(l).wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(i=(a=t).data,s=i.eventId,o=i.eventType,u=i.data,null==(f=r.handlersMap[o])?void 0:f.size){n.next=5;break}return n.abrupt("return");case 5:return a.ports[0].postMessage({status:"ack",eventId:s,eventType:o}),p=Array.from(f).map(function(){var t=e(c)(e(l).mark((function t(r){return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",r(a.origin,u));case 1:case"end":return e.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),n.next=9,ps(p);case 9:d=n.sent,a.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:d});case 11:case"end":return n.stop()}}),n)})))()}},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(e){var r=this.receivers.find((function(t){return t.isListeningto(e)}));if(r)return r;var n=new t(e);return this.receivers.push(n),n}}]),t}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function hs(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,r="",n=0;n<t;n++)r+=Math.floor(10*Math.random());return e+r}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ds.receivers=[];var vs=function(){"use strict";function t(r){e(m)(this,t),this.target=r,this.handlers=new Set}return e(y)(t,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50,a=this;return e(c)(e(l).mark((function i(){var s,o,u;return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s="undefined"!=typeof MessageChannel?new MessageChannel:null){e.next=3;break}throw new Error("connection_unavailable");case 3:return e.abrupt("return",new Promise((function(e,i){var c=hs("",20);s.port1.start();var l=setTimeout((function(){i(new Error("unsupported_event"))}),n);u={messageChannel:s,onMessage:function(t){var r=t;if(r.data.eventId===c)switch(r.data.status){case"ack":clearTimeout(l),o=setTimeout((function(){i(new Error("timeout"))}),3e3);break;case"done":clearTimeout(o),e(r.data.response);break;default:clearTimeout(l),clearTimeout(o),i(new Error("invalid_response"))}}},a.handlers.add(u),s.port1.addEventListener("message",u.onMessage),a.target.postMessage({eventType:t,eventId:c,data:r},[s.port2])})).finally((function(){u&&a.removeMessageHandler(u)})));case 6:case"end":return e.stop()}}),i)})))()}}]),t}();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ms(){return window}
/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function ys(){return void 0!==ms().WorkerGlobalScope&&"function"==typeof ms().importScripts}function gs(){return ks.apply(this,arguments)}function ks(){return(ks=e(c)(e(l).mark((function t(){var r;return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return r=e.sent,e.abrupt("return",r.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),t,null,[[2,9]])})))).apply(this,arguments)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var bs="firebaseLocalStorageDb",ws="firebaseLocalStorage",xs="fbase_key",_s=function(){"use strict";function t(r){e(m)(this,t),this.request=r}return e(y)(t,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,r){var n=e;e.request.addEventListener("success",(function(){t(n.request.result)})),e.request.addEventListener("error",(function(){r(n.request.error)}))}))}}]),t}();function Is(e,t){return e.transaction([ws],t?"readwrite":"readonly").objectStore(ws)}function Ts(){var e=indexedDB.deleteDatabase(bs);return new _s(e).toPromise()}function Es(){var t=indexedDB.open(bs,1);return new Promise((function(r,n){t.addEventListener("error",(function(){n(t.error)})),t.addEventListener("upgradeneeded",(function(){var e=t.result;try{e.createObjectStore(ws,{keyPath:xs})}catch(e){n(e)}})),t.addEventListener("success",e(c)(e(l).mark((function n(){var a;return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((a=t.result).objectStoreNames.contains(ws)){e.next=12;break}return a.close(),e.next=5,Ts();case 5:return e.t0=r,e.next=8,Es();case 8:e.t1=e.sent,(0,e.t0)(e.t1),e.next=13;break;case 12:r(a);case 13:case"end":return e.stop()}}),n)}))))}))}function Ss(e,t,r){return Os.apply(this,arguments)}function Os(){return(Os=e(c)(e(l).mark((function t(r,n,a){var i,s;return e(l).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=Is(r,!0).put((i={},e(g)(i,xs,n),e(g)(i,"value",a),i)),t.abrupt("return",new _s(s).toPromise());case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Cs(e,t){return Ps.apply(this,arguments)}function Ps(){return(Ps=e(c)(e(l).mark((function t(r,n){var a,i;return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Is(r,!1).get(n),e.next=3,new _s(a).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function Rs(e,t){var r=Is(e,!0).delete(t);return new _s(r).toPromise()}var As=function(){"use strict";function t(){e(m)(this,t),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return e(y)(t,[{key:"_openDb",value:function(){var t=this;return e(c)(e(l).mark((function r(){return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.db){e.next=2;break}return e.abrupt("return",t.db);case 2:return e.next=4,Es();case 4:return t.db=e.sent,e.abrupt("return",t.db);case 6:case"end":return e.stop()}}),r)})))()}},{key:"_withRetries",value:function(t){var r=this;return e(c)(e(l).mark((function n(){var a,i;return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=0;case 1:return e.prev=2,e.next=5,r._openDb();case 5:return i=e.sent,e.next=8,t(i);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(a++>3)){e.next=15;break}throw e.t0;case 15:r.db&&(r.db.close(),r.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),n,null,[[2,11]])})))()}},{key:"initializeServiceWorkerMessaging",value:function(){var t=this;return e(c)(e(l).mark((function r(){return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ys()?t.initializeReceiver():t.initializeSender());case 1:case"end":return e.stop()}}),r)})))()}},{key:"initializeReceiver",value:function(){var t=this;return e(c)(e(l).mark((function r(){return e(l).wrap((function(r){for(;;)switch(r.prev=r.next){case 0:t.receiver=ds._getInstance(ys()?self:null),t.receiver._subscribe("keyChanged",function(){var r=e(c)(e(l).mark((function r(n,a){var i;return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(a.key)});case 4:case"end":return e.stop()}}),r)})));return function(e,t){return r.apply(this,arguments)}}()),t.receiver._subscribe("ping",function(){var t=e(c)(e(l).mark((function t(r,n){return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}());case 3:case"end":return r.stop()}}),r)})))()}},{key:"initializeSender",value:function(){var t=this;return e(c)(e(l).mark((function r(){var n,a,i;return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,gs();case 3:if(t.activeServiceWorker=e.sent,t.activeServiceWorker){e.next=6;break}return e.abrupt("return");case 6:return t.sender=new vs(t.activeServiceWorker),e.next=9,t.sender._send("ping",{},800);case 9:if(i=e.sent){e.next=12;break}return e.abrupt("return");case 12:(null===(n=i[0])||void 0===n?void 0:n.fulfilled)&&(null===(a=i[0])||void 0===a?void 0:a.value.includes("keyChanged"))&&(t.serviceWorkerReceiverAvailable=!0);case 13:case"end":return e.stop()}}),r)})))()}},{key:"notifyServiceWorker",value:function(t){var r=this;return e(c)(e(l).mark((function n(){return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.sender&&r.activeServiceWorker&&(n=void 0,((null===(n=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===n?void 0:n.controller)||null)===r.activeServiceWorker)){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,r.sender._send("keyChanged",{key:t},r.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}var n}),n,null,[[2,7]])})))()}},{key:"_isAvailable",value:function(){return e(c)(e(l).mark((function t(){var r;return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,Es();case 5:return r=e.sent,e.next=8,Ss(r,ss,"1");case 8:return e.next=10,Rs(r,ss);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),t,null,[[0,13]])})))()}},{key:"_withPendingWrite",value:function(t){var r=this;return e(c)(e(l).mark((function n(){return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,r.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),n,null,[[1,,4,7]])})))()}},{key:"_set",value:function(t,r){var n=this;return e(c)(e(l).mark((function a(){return e(l).wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",n._withPendingWrite(e(c)(e(l).mark((function a(){return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return Ss(e,t,r)}));case 2:return n.localCache[t]=r,e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),a)})))));case 1:case"end":return a.stop()}}),a)})))()}},{key:"_get",value:function(t){var r=this;return e(c)(e(l).mark((function n(){var a;return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return Cs(e,t)}));case 2:return a=e.sent,r.localCache[t]=a,e.abrupt("return",a);case 5:case"end":return e.stop()}}),n)})))()}},{key:"_remove",value:function(t){var r=this;return e(c)(e(l).mark((function n(){return e(l).wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",r._withPendingWrite(e(c)(e(l).mark((function n(){return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return Rs(e,t)}));case 2:return delete r.localCache[t],e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),n)})))));case 1:case"end":return n.stop()}}),n)})))()}},{key:"_poll",value:function(){var t=this;return e(c)(e(l).mark((function r(){var n,a,i,s,o,u,c,f,p,d,h,v,m,y,g,k,b;return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._withRetries((function(e){var t=Is(e,!1).getAll();return new _s(t).toPromise()}));case 2:if(n=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===t.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:for(a=[],i=new Set,s=!0,o=!1,u=void 0,e.prev=10,c=n[Symbol.iterator]();!(s=(f=c.next()).done);s=!0)p=f.value,d=p.fbase_key,h=p.value,i.add(d),JSON.stringify(t.localCache[d])!==JSON.stringify(h)&&(t.notifyListeners(d,h),a.push(d));e.next=18;break;case 14:e.prev=14,e.t0=e.catch(10),o=!0,u=e.t0;case 18:e.prev=18,e.prev=19,s||null==c.return||c.return();case 21:if(e.prev=21,!o){e.next=24;break}throw u;case 24:return e.finish(21);case 25:return e.finish(18);case 26:for(v=!0,m=!1,y=void 0,e.prev=27,g=Object.keys(t.localCache)[Symbol.iterator]();!(v=(k=g.next()).done);v=!0)b=k.value,t.localCache[b]&&!i.has(b)&&(t.notifyListeners(b,null),a.push(b));e.next=35;break;case 31:e.prev=31,e.t1=e.catch(27),m=!0,y=e.t1;case 35:e.prev=35,e.prev=36,v||null==g.return||g.return();case 38:if(e.prev=38,!m){e.next=41;break}throw y;case 41:return e.finish(38);case 42:return e.finish(35);case 43:return e.abrupt("return",a);case 44:case"end":return e.stop()}}),r,null,[[10,14,18,26],[19,,21,25],[27,31,35,43],[36,,38,42]])})))()}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var r=this.listeners[e],n=!0,a=!1,i=void 0;if(r)try{for(var s,o=Array.from(r)[Symbol.iterator]();!(n=(s=o.next()).done);n=!0){(0,s.value)(t)}}catch(e){a=!0,i=e}finally{try{n||null==o.return||o.return()}finally{if(a)throw i}}}},{key:"startPolling",value:function(){this.stopPolling();var t=this;this.pollTimer=setInterval(e(c)(e(l).mark((function r(){return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t._poll());case 1:case"end":return e.stop()}}),r)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),t}();As.type="LOCAL";var Ns=As;
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ds(e,t){return ma(e,"POST","/v2/accounts/mfaSignIn:start",va(e,t))}function Ms(e){return new Promise((function(t,r){var n,a,i=document.createElement("script");i.setAttribute("src",e),i.onload=t,i.onerror=function(e){var t=Yn("internal-error");t.customData=e,r(t)},i.type="text/javascript",i.charset="UTF-8",(null!==(a=null===(n=document.getElementsByTagName("head"))||void 0===n?void 0:n[0])&&void 0!==a?a:document).appendChild(i)}))}function Ls(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Ls("rcb"),new ca(3e4,6e4);var js="recaptcha";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Us(e,t,r){return Fs.apply(this,arguments)}function Fs(){return(Fs=e(c)(e(l).mark((function t(r,n,a){var i,s,o,u,c,f,p,d;return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,a.verify();case 3:if(s=e.sent,e.prev=4,ea("string"==typeof s,r,"argument-error"),ea(a.type===js,r,"argument-error"),!("session"in(o="string"==typeof n?{phoneNumber:n}:n))){e.next=28;break}if(u=o.session,!("phoneNumber"in o)){e.next=19;break}return ea("enroll"===u.type,r,"internal-error"),e.next=15,is(r,{idToken:u.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:s}});case 15:return c=e.sent,e.abrupt("return",c.phoneSessionInfo.sessionInfo);case 19:return ea("signin"===u.type,r,"internal-error"),ea(f=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,r,"missing-multi-factor-info"),e.next=24,Ds(r,{mfaPendingCredential:u.credential,mfaEnrollmentId:f,phoneSignInInfo:{recaptchaToken:s}});case 24:return p=e.sent,e.abrupt("return",p.phoneResponseInfo.sessionInfo);case 26:e.next=32;break;case 28:return e.next=30,Oi(r,{phoneNumber:o.phoneNumber,recaptchaToken:s});case 30:return d=e.sent.sessionInfo,e.abrupt("return",d);case 32:return e.prev=32,a._reset(),e.finish(32);case 35:case"end":return e.stop()}}),t,null,[[4,,32,35]])})))).apply(this,arguments)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Vs=function(){"use strict";function t(r){e(m)(this,t),this.providerId=t.PROVIDER_ID,this.auth=di(r)}return e(y)(t,[{key:"verifyPhoneNumber",value:function(e,t){return Us(this.auth,e,ye(t))}}],[{key:"credential",value:function(e,t){return Di._fromVerification(e,t)}},{key:"credentialFromResult",value:function(e){var r=e;return t.credentialFromTaggedObject(r)}},{key:"credentialFromError",value:function(e){return t.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.phoneNumber,n=t.temporaryProof;return r&&n?Di._fromTokenResponse(r,n):null}}]),t}();
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Hs(e,t){return t?aa(t):(ea(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Vs.PROVIDER_ID="phone",Vs.PHONE_SIGN_IN_METHOD="phone";var Bs=function(t){"use strict";e(A)(n,t);var r=e(B)(n);function n(t){var a;return e(m)(this,n),(a=r.call(this,"custom","custom")).params=t,a}return e(y)(n,[{key:"_getIdTokenResponse",value:function(e){return Ti(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return Ti(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return Ti(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(vi);function zs(e){return Zi(e.auth,new Bs(e),e.bypassAuthState)}function Ws(e){var t=e.auth,r=e.user;return ea(r,t,"internal-error"),Yi(r,new Bs(e),e.bypassAuthState)}function qs(e){return Ks.apply(this,arguments)}function Ks(){return(Ks=e(c)(e(l).mark((function t(r){var n,a;return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.auth,ea(a=r.user,n,"internal-error"),e.abrupt("return",Xi(a,new Bs(r),r.bypassAuthState));case 3:case"end":return e.stop()}}),t)})))).apply(this,arguments)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Gs=function(){"use strict";function t(r,n,a,i){var s=arguments.length>4&&void 0!==arguments[4]&&arguments[4];e(m)(this,t),this.auth=r,this.resolver=a,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return e(y)(t,[{key:"execute",value:function(){var t,r=this;return new Promise((t=e(c)(e(l).mark((function t(n,a){return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.pendingPromise={resolve:n,reject:a},e.prev=1,e.next=4,r.resolver._initialize(r.auth);case 4:return r.eventManager=e.sent,e.next=7,r.onExecution();case 7:r.eventManager.registerConsumer(r),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),r.reject(e.t0);case 13:case"end":return e.stop()}}),t,null,[[1,10]])}))),function(e,r){return t.apply(this,arguments)}))}},{key:"onAuthEvent",value:function(t){var r=this;return e(c)(e(l).mark((function n(){var a,i,s,o,u,c,f;return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.urlResponse,i=t.sessionId,s=t.postBody,o=t.tenantId,u=t.error,c=t.type,!u){e.next=4;break}return r.reject(u),e.abrupt("return");case 4:return f={auth:r.auth,requestUri:a,sessionId:i,tenantId:o||void 0,postBody:s||void 0,user:r.user,bypassAuthState:r.bypassAuthState},e.prev=5,e.t0=r,e.next=9,r.getIdpTask(c)(f);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),r.reject(e.t2);case 16:case"end":return e.stop()}}),n,null,[[5,13]])})))()}},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return zs;case"linkViaPopup":case"linkViaRedirect":return qs;case"reauthViaPopup":case"reauthViaRedirect":return Ws;default:$n(this.auth,"internal-error")}}},{key:"resolve",value:function(e){ra(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){ra(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),t}(),Js=new ca(2e3,1e4);
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xs=function(t){"use strict";e(A)(n,t);var r=e(B)(n);function n(t,a,i,s,o){var u;return e(m)(this,n),(u=r.call(this,t,a,s,o)).provider=i,u.authWindow=null,u.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=e(R)(u),u}return e(y)(n,[{key:"executeNotNull",value:function(){var t=this;return e(c)(e(l).mark((function r(){var n;return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.execute();case 2:return ea(n=e.sent,t.auth,"internal-error"),e.abrupt("return",n);case 5:case"end":return e.stop()}}),r)})))()}},{key:"onExecution",value:function(){var t=this;return e(c)(e(l).mark((function r(){var n;return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ra(1===t.filter.length,"Popup operations only handle one event"),n=hs(),e.next=4,t.resolver._openPopup(t.auth,t.provider,t.filter[0],n);case 4:t.authWindow=e.sent,t.authWindow.associatedEvent=n,t.resolver._originValidation(t.auth).catch((function(e){t.reject(e)})),t.resolver._isIframeWebStorageSupported(t.auth,(function(e){e||t.reject(Yn(t.auth,"web-storage-unsupported"))})),t.pollUserCancellation();case 9:case"end":return e.stop()}}),r)})))()}},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(Yn(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this,t=function(){var r,n;if(null===(n=null===(r=e.authWindow)||void 0===r?void 0:r.window)||void 0===n?void 0:n.closed){var a=e;e.pollId=window.setTimeout((function(){a.pollId=null,a.reject(Yn(a.auth,"popup-closed-by-user"))}),2e3)}else e.pollId=window.setTimeout(t,Js.get())};t()}}]),n}(Gs);Xs.currentPopupAction=null;
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var $s=new Map,Ys=function(t){"use strict";e(A)(n,t);var r=e(B)(n);function n(t,a){var i,s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return e(m)(this,n),(i=r.call(this,t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],a,void 0,s)).eventId=null,i}return e(y)(n,[{key:"execute",value:function(){var t=this,r=this;return e(c)(e(l).mark((function a(){var i,s;return e(l).wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(i=$s.get(r.auth._key())){a.next=21;break}return a.prev=2,a.next=5,Qs(r.resolver,r.auth);case 5:if(!a.sent){a.next=12;break}return a.next=9,e(Vn)(e(zn)(n.prototype),"execute",t).call(r);case 9:a.t0=a.sent,a.next=13;break;case 12:a.t0=null;case 13:s=a.t0,i=function(){return Promise.resolve(s)},a.next=20;break;case 17:a.prev=17,a.t1=a.catch(2),i=function(){return Promise.reject(a.t1)};case 20:$s.set(r.auth._key(),i);case 21:return r.bypassAuthState||$s.set(r.auth._key(),(function(){return Promise.resolve(null)})),a.abrupt("return",i());case 23:case"end":return a.stop()}}),a,null,[[2,17]])})))()}},{key:"onAuthEvent",value:function(t){var r=this,a=this,i=function(){return e(Vn)(e(zn)(n.prototype),"onAuthEvent",r)};return e(c)(e(l).mark((function r(){var n;return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",i().call(a,t));case 4:if("unknown"!==t.type){e.next=7;break}return a.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,a.auth._redirectUserForId(t.eventId);case 10:if(!(n=e.sent)){e.next=16;break}return a.user=n,e.abrupt("return",i().call(a,t));case 16:a.resolve(null);case 17:case"end":return e.stop()}}),r)})))()}},{key:"onExecution",value:function(){return e(c)(e(l).mark((function t(){return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),t)})))()}},{key:"cleanUp",value:function(){}}]),n}(Gs);function Qs(e,t){return Zs.apply(this,arguments)}function Zs(){return(Zs=e(c)(e(l).mark((function t(r,n){var a,i,s;return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=ro(n),i=to(r),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(a);case 8:return e.t0=e.sent,s="true"===e.t0,e.next=12,i._remove(a);case 12:return e.abrupt("return",s);case 13:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function eo(e,t){$s.set(e._key(),t)}function to(e){return aa(e._redirectPersistence)}function ro(e){return $a("pendingRedirect",e.config.apiKey,e.name)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function no(e,t){return ao.apply(this,arguments)}function ao(){return ao=e(c)(e(l).mark((function t(r,n){var a,i,s,o,u,c=arguments;return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=c.length>2&&void 0!==c[2]&&c[2],i=di(r),s=Hs(i,n),o=new Ys(i,s,a),e.next=6,o.execute();case 6:if(!(u=e.sent)||a){e.next=13;break}return delete u.user._redirectEventId,e.next=11,i._persistUserIfCurrent(u.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",u);case 14:case"end":return e.stop()}}),t)}))),ao.apply(this,arguments)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var io=function(){"use strict";function t(r){e(m)(this,t),this.auth=r,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return e(y)(t,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var r=!1;return this.consumers.forEach((function(n){t.isEventForConsumer(e,n)&&(r=!0,t.sendToConsumer(e,n),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return oo(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=e,r=!0)),r}},{key:"sendToConsumer",value:function(e,t){var r;if(e.error&&!oo(e)){var n=(null===(r=e.error.code)||void 0===r?void 0:r.split("auth/")[1])||"internal-error";t.onError(Yn(this.auth,n))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var r=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(so(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(so(e)),this.lastProcessedEventTime=Date.now()}}]),t}();function so(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function oo(e){var t=e.type,r=e.error;return"unknown"===t&&"auth/no-auth-event"===(null==r?void 0:r.code)}function uo(e){return co.apply(this,arguments)}function co(){return co=
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
e(c)(e(l).mark((function t(r){var n,a=arguments;return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>1&&void 0!==a[1]?a[1]:{},e.abrupt("return",ma(r,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),t)}))),co.apply(this,arguments)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var lo=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,fo=/^https?/;function po(){return(po=e(c)(e(l).mark((function t(r){var n,a,i,s,o,u,c;return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,uo(r);case 4:n=e.sent.authorizedDomains,a=!0,i=!1,s=void 0,e.prev=6,o=n[Symbol.iterator]();case 8:if(a=(u=o.next()).done){e.next=20;break}if(c=u.value,e.prev=10,!ho(c)){e.next=13;break}return e.abrupt("return");case 13:e.next=17;break;case 15:e.prev=15,e.t0=e.catch(10);case 17:a=!0,e.next=8;break;case 20:e.next=26;break;case 22:e.prev=22,e.t1=e.catch(6),i=!0,s=e.t1;case 26:e.prev=26,e.prev=27,a||null==o.return||o.return();case 29:if(e.prev=29,!i){e.next=32;break}throw s;case 32:return e.finish(29);case 33:return e.finish(26);case 34:$n(r,"unauthorized-domain");case 35:case"end":return e.stop()}}),t,null,[[6,22,26,34],[10,15],[27,,29,33]])})))).apply(this,arguments)}function ho(e){var t=sa(),r=new URL(t),n=r.protocol,a=r.hostname;if(e.startsWith("chrome-extension://")){var i=new URL(e);return""===i.hostname&&""===a?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===a}if(!fo.test(n))return!1;if(lo.test(e))return a===e;var s=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(a)}
/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vo=new ca(3e4,6e4);function mo(){var t=ms().___jsl,r=!0,n=!1,a=void 0;if(null==t?void 0:t.H)try{for(var i,s=Object.keys(t.H)[Symbol.iterator]();!(r=(i=s.next()).done);r=!0){var o=i.value;if(t.H[o].r=t.H[o].r||[],t.H[o].L=t.H[o].L||[],t.H[o].r=e(k)(t.H[o].L),t.CP)for(var u=0;u<t.CP.length;u++)t.CP[u]=null}}catch(e){n=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(n)throw a}}}var yo=null;function go(e){return yo=yo||function(e){return new Promise((function(t,r){var n,a,i;function s(){mo(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){mo(),r(Yn(e,"network-request-failed"))},timeout:vo.get()})}if(null===(a=null===(n=ms().gapi)||void 0===n?void 0:n.iframes)||void 0===a?void 0:a.Iframe)t(gapi.iframes.getContext());else{if(!(null===(i=ms().gapi)||void 0===i?void 0:i.load)){var o=Ls("iframefcb");return ms()[o]=function(){gapi.load?s():r(Yn(e,"network-request-failed"))},Ms("https://apis.google.com/js/api.js?onload=".concat(o)).catch((function(e){return r(e)}))}s()}})).catch((function(e){throw yo=null,e}))}(e),yo}
/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ko=new ca(5e3,15e3),bo={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},wo=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function xo(e){var t=e.config;ea(t.authDomain,e,"auth-domain-config-required");var r=t.emulator?la(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),n={apiKey:t.apiKey,appName:e.name,v:pt},a=wo.get(e.config.apiHost);a&&(n.eid=a);var i=e._getFrameworks();return i.length&&(n.fw=i.join(",")),"".concat(r,"?").concat(le(n).slice(1))}function _o(e){return Io.apply(this,arguments)}function Io(){return Io=e(c)(e(l).mark((function t(r){var n,a;return e(l).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,go(r);case 2:return n=t.sent,ea(a=ms().gapi,r,"internal-error"),t.abrupt("return",n.open({where:document.body,url:xo(r),messageHandlersFilter:a.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:bo,dontclear:!0},(function(t){return new Promise((n=e(c)(e(l).mark((function n(a,i){var s,o,u;return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u=function(){ms().clearTimeout(o),a(t)},e.next=3,t.restyle({setHideOnLeave:!1});case 3:s=Yn(r,"network-request-failed"),o=ms().setTimeout((function(){i(s)}),ko.get()),t.ping(u).then(u,(function(){i(s)}));case 7:case"end":return e.stop()}}),n)}))),function(e,t){return n.apply(this,arguments)}));var n})));case 6:case"end":return t.stop()}}),t)}))),Io.apply(this,arguments)}
/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var To={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Eo="_blank",So="http://localhost",Oo=function(){"use strict";function t(r){e(m)(this,t),this.window=r,this.associatedEvent=null}return e(y)(t,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),t}();function Co(t,r,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-a)/2,0).toString(),u="",c=Object.assign(Object.assign({},To),{width:a.toString(),height:i.toString(),top:s,left:o}),l=Q().toLowerCase();n&&(u=ti(l)?Eo:n),Za(l)&&(r=r||So,c.scrollbars="yes");var f=Object.entries(c).reduce((function(t,r){var n=e(T)(r,2),a=n[0],i=n[1];return"".concat(t).concat(a,"=").concat(i,",")}),"");if(oi(l)&&"_self"!==u)return Po(r||"",u),new Oo(null);var p=window.open(r||"",u,f);ea(p,t,"popup-blocked");try{p.focus()}catch(e){}return new Oo(p)}function Po(e,t){var r=document.createElement("a");r.href=e,r.target=t;var n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(n)}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ro="__/auth/handler",Ao="emulator/auth/handler";function No(t,r,n,a,i,s){ea(t.config.authDomain,t,"auth-domain-config-required"),ea(t.config.apiKey,t,"invalid-api-key");var o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:a,v:pt,eventId:i};if(r instanceof ji){r.setDefaultLanguage(t.languageCode),o.providerId=r.providerId||"",oe(r.getCustomParameters())||(o.customParameters=JSON.stringify(r.getCustomParameters()));var u=!0,c=!1,l=void 0;try{for(var f,p=Object.entries(s||{})[Symbol.iterator]();!(u=(f=p.next()).done);u=!0){var d=e(T)(f.value,2),h=d[0],v=d[1];o[h]=v}}catch(e){c=!0,l=e}finally{try{u||null==p.return||p.return()}finally{if(c)throw l}}}if(r instanceof Ui){var m=r.getScopes().filter((function(e){return""!==e}));m.length>0&&(o.scopes=m.join(","))}t.tenantId&&(o.tid=t.tenantId);var y,g,k=o,b=!0,w=!1,x=void 0;try{for(var _,I=Object.keys(k)[Symbol.iterator]();!(b=(_=I.next()).done);b=!0){var E=_.value;void 0===k[E]&&delete k[E]}}catch(e){w=!0,x=e}finally{try{b||null==I.return||I.return()}finally{if(w)throw x}}return"".concat((y=t,g=y.config,g.emulator?la(g,Ao):"https://".concat(g.authDomain,"/").concat(Ro)),"?").concat(le(k).slice(1))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Do="webStorageSupport",Mo=function(){"use strict";function t(){e(m)(this,t),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=fs,this._completeRedirectFn=no,this._overrideRedirectResult=eo}return e(y)(t,[{key:"_openPopup",value:function(t,r,n,a){var i=this;return e(c)(e(l).mark((function s(){var o,u;return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ra(null===(o=i.eventManagers[t._key()])||void 0===o?void 0:o.manager,"_initialize() not called before _openPopup()"),u=No(t,r,n,sa(),a),e.abrupt("return",Co(t,u,hs()));case 4:case"end":return e.stop()}}),s)})))()}},{key:"_openRedirect",value:function(t,r,n,a){var i=this;return e(c)(e(l).mark((function s(){return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i._originValidation(t);case 2:return s=No(t,r,n,sa(),a),ms().location.href=s,e.abrupt("return",new Promise((function(){})));case 4:case"end":return e.stop()}var s}),s)})))()}},{key:"_initialize",value:function(e){var t=this,r=e._key();if(this.eventManagers[r]){var n=this.eventManagers[r],a=n.manager,i=n.promise;return a?Promise.resolve(a):(ra(i,"If manager is not set, promise should be"),i)}var s=this.initAndGetManager(e);return this.eventManagers[r]={promise:s},s.catch((function(){delete t.eventManagers[r]})),s}},{key:"initAndGetManager",value:function(t){var r=this;return e(c)(e(l).mark((function n(){var a,i;return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_o(t);case 2:return a=e.sent,i=new io(t),a.register("authEvent",(function(e){return ea(null==e?void 0:e.authEvent,t,"invalid-auth-event"),{status:i.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),r.eventManagers[t._key()]={manager:i},r.iframes[t._key()]=a,e.abrupt("return",i);case 8:case"end":return e.stop()}}),n)})))()}},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(Do,{type:Do},(function(r){var n,a=null===(n=null==r?void 0:r[0])||void 0===n?void 0:n.webStorageSupport;void 0!==a&&t(!!a),$n(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return po.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return ci()||ei()||si()}}]),t}(),Lo=Mo,jo=function(t){"use strict";e(A)(n,t);var r=e(B)(n);function n(t){var a;return e(m)(this,n),(a=r.call(this,"phone")).credential=t,a}return e(y)(n,[{key:"_finalizeEnroll",value:function(e,t,r){return function(e,t){return ma(e,"POST","/v2/accounts/mfaEnrollment:finalize",va(e,t))}(e,{idToken:t,displayName:r,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return ma(e,"POST","/v2/accounts/mfaSignIn:finalize",va(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(function(){"use strict";function t(r){e(m)(this,t),this.factorId=r}return e(y)(t,[{key:"_process",value:function(e,t,r){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,r);case"signin":return this._finalizeSignIn(e,t.credential);default:return ta("unexpected MultiFactorSessionType")}}}]),t}());(function(){"use strict";function t(){e(m)(this,t)}return e(y)(t,null,[{key:"assertion",value:function(e){return jo._fromCredential(e)}}]),t}()).FACTOR_ID="phone";var Uo,Fo="@firebase/auth",Vo="0.20.5",Ho=function(){"use strict";function t(r){e(m)(this,t),this.auth=r,this.internalListeners=new Map}return e(y)(t,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(t){var r=this;return e(c)(e(l).mark((function n(){var a;return e(l).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.assertAuthConfigured(),e.next=3,r.auth._initializationPromise;case 3:if(r.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,r.auth.currentUser.getIdToken(t);case 7:return a=e.sent,e.abrupt("return",{accessToken:a});case 9:case"end":return e.stop()}}),n)})))()}},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){var r;e((null===(r=t)||void 0===r?void 0:r.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){ea(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),t}();Uo="Browser",ot(new ge("auth",(function(e,t){var r=t.options,n=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),i=n.options,s=i.apiKey,o=i.authDomain;return function(e,t){ea(s&&!s.includes(":"),"invalid-api-key",{appName:e.name}),ea(!(null==o?void 0:o.includes(":")),"argument-error",{appName:e.name});var n={apiKey:s,authDomain:o,clientPlatform:Uo,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:li(Uo)},a=new pi(e,t,n);return function(e,t){var r=(null==t?void 0:t.persistence)||[],n=(Array.isArray(r)?r:[r]).map(aa);(null==t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(n,null==t?void 0:t.popupRedirectResolver)}(a,r),a}(n,a)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,r){e.getProvider("auth-internal").initialize()}))),ot(new ge("auth-internal",(function(e){var t=di(e.getProvider("auth").getImmediate());return new Ho(t)}),"PRIVATE").setInstantiationMode("EXPLICIT")),ht(Fo,Vo,
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(Uo)),ht(Fo,Vo,"esm2017");i=a("4Nugj");var Bo=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"!=typeof t){var r=t;t={name:r}}var n=Object.assign({name:rt,automaticDataCollectionEnabled:!1},t),a=n.name;if("string"!=typeof a||!a)throw lt.create("bad-app-name",{appName:String(a)});var i=at.get(a);if(i){if(ue(e,i.options)&&ue(n,i.config))return i;throw lt.create("duplicate-app",{appName:a})}var s=new _e(a),o=!0,u=!1,c=void 0;try{for(var l,f=it.values()[Symbol.iterator]();!(o=(l=f.next()).done);o=!0){var p=l.value;s.addComponent(p)}}catch(e){u=!0,c=e}finally{try{o||null==f.return||f.return()}finally{if(u)throw c}}var d=new ft(e,n,s);return at.set(a,d),d}({apiKey:"AIzaSyAI1BJ85yh87lUFEz2tWAxiWAX4MIS7p4U",authDomain:"team-js-filmoteka.firebaseapp.com",projectId:"team-js-filmoteka",storageBucket:"team-js-filmoteka.appspot.com",messagingSenderId:"420203055088",appId:"1:420203055088:web:5fa03a9e406adf1dc4ff35",measurementId:"G-6V5KHRSHSH"}),zo=(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dt(),t=ut(e=ye(e),Wr);t.isInitialized()?t.getImmediate():Ln(e)}(Bo),
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dt(),t=ut(e,"auth");return t.isInitialized()?t.getImmediate():ia(e,{popupRedirectResolver:Lo,persistence:[Ns,cs,fs]})}(Bo));zo.currentUser;i.refs.btnSigninForm.addEventListener("click",(function(e){e.preventDefault();var t,r,n,a=document.getElementById("login-email").value,i=document.getElementById("login-password").value;(t=zo,r=a,n=i,ts(ye(t),Li.credential(r,n))).then((function(e){e.user;document.getElementById("result-box").style.display="inline",u(),o(),window.location.href="../../library.html"})).catch((function(e){e.code;var t=e.message;document.getElementById("result-box").style.display="inline",o(),document.getElementById("result").innerHTML="Sorry ! <br>"+t}))})),i.refs.btnSignupForm.addEventListener("click",(function(e){e.preventDefault();var t=document.getElementById("register-email").value,r=document.getElementById("register-password").value;ns(zo,t,r).then((function(e){e.user;document.getElementById("result-box").style.display="inline",u(),o(),window.location.href="../../library.html",document.getElementById("result").innerHTML="Welcome <br>"+t+" was Registered Successufully"})).catch((function(e){e.code;var t=e.message;document.getElementById("result-box").style.display="inline",o(),document.getElementById("result").innerHTML="Sorry ! <br>"+t}))}));i.refs.btnLogin.addEventListener("click",(function(){i.refs.formaLoginCreatRegister.classList.remove("is-hidden"),window.addEventListener("keydown",s)})),i.refs.btnLoginout.addEventListener("click",(function(){var e;(e=zo,ye(e).signOut()).then((function(){document.getElementById("result-box").style.display="none",i.refs.signinForm.style.display="inline",u()})).catch((function(e){document.getElementById("result").innerHTML="Sorry ! <br>"+errorMessage,u()}))})),a("30o8m"),a("668Z7")}();
//# sourceMappingURL=index.208cf3f9.js.map
